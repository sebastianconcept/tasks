if(typeof console==="undefined"){this.console={log:function(){},warn:function(){},info:function(){},debug:function(){},error:function(){}}}Array.prototype.addElement=function(t){if(typeof t==="undefined"){return}if(this.indexOf(t)==-1){this.push(t)}};Array.prototype.removeElement=function(t){var l=this.indexOf(t);if(l!==-1){this.splice(l,1)}};function SmalltalkObject(){}function SmalltalkBehavior(){}function SmalltalkClass(){}function SmalltalkMetaclass(){this.meta=true}function SmalltalkPackage(){}function SmalltalkMethod(){}function SmalltalkNil(){}function SmalltalkOrganizer(){}function SmalltalkPackageOrganizer(){this.elements=[]}function SmalltalkClassOrganizer(){this.elements=[]}function inherits(t,l){t.prototype=Object.create(l.prototype,{constructor:{value:t,enumerable:false,configurable:true,writable:true}})}inherits(SmalltalkBehavior,SmalltalkObject);inherits(SmalltalkClass,SmalltalkBehavior);inherits(SmalltalkMetaclass,SmalltalkBehavior);inherits(SmalltalkNil,SmalltalkObject);inherits(SmalltalkMethod,SmalltalkObject);inherits(SmalltalkPackage,SmalltalkObject);inherits(SmalltalkOrganizer,SmalltalkObject);inherits(SmalltalkPackageOrganizer,SmalltalkOrganizer);inherits(SmalltalkClassOrganizer,SmalltalkOrganizer);function Smalltalk(){var t=this;t.thisContext=undefined;t.reservedWords=["break","case","catch","continue","debugger","default","delete","do","else","finally","for","function","if","in","instanceof","new","return","switch","this","throw","try","typeof","var","void","while","with","class","const","enum","export","extends","import","super","implements","interface","let","package","private","protected","public","static","yield"];var l=false;var a=[];var e=[];var s={methods:[],selectors:[],get:function(l){var a=this.selectors.indexOf(l);if(a!==-1){return this.methods[a]}this.selectors.push(l);var e=t.selector(l);var s={jsSelector:e,fn:this.createHandler(e)};this.methods.push(s);return s},createHandler:function(t){return function(){var l=Array.prototype.slice.call(arguments);return p(this,t,l)}}};t.allSelectors=function(){return s.selectors};var n=0;t.nextId=function(){n+=1;return n};t.packages={};function o(t){var l=new SmalltalkPackage;l.pkgName=t.pkgName;l.organization=new SmalltalkPackageOrganizer;l.properties=t.properties||{};return l}function r(t){t=t||{};var l=i(t);var a=l.instanceClass;a.fn=t.fn||function(){};m(a,t);a.className=t.className;a.wrapped=t.wrapped||false;l.className=t.className+" class";if(t.superclass){a.superclass=t.superclass;l.superclass=t.superclass.klass}return a}function i(t){t=t||{};var l=new SmalltalkMetaclass;inherits(l.fn=function(){},t.superclass?t.superclass.klass.fn:SmalltalkClass);l.instanceClass=new l.fn;m(l);return l}function m(t,l){l=l||{};t.iVarNames=l.iVarNames||[];t.pkg=l.pkg;Object.defineProperty(t,"toString",{value:function(){return"Smalltalk "+this.className},enumerable:false,configurable:true,writable:false});t.organization=new SmalltalkClassOrganizer;t.organization.theClass=t;Object.defineProperty(t,"methods",{value:{},enumerable:false,configurable:true,writable:true});u(t)}t.method=function(t){var l=new SmalltalkMethod;l.selector=t.selector;l.jsSelector=t.jsSelector;l.args=t.args||{};l.category=t.category;l.source=t.source;l.messageSends=t.messageSends||[];l.referencedClasses=t.referencedClasses||[];l.fn=t.fn;return l};t.init=function(l){t.initClass(l);if(l.klass&&!l.meta){t.initClass(l.klass)}};t.initClass=function(l){if(l.wrapped){d(l)}else{c(l)}if(l===t.Object||l.wrapped){h(l)}};function u(t){Object.defineProperty(t.fn.prototype,"klass",{value:t,enumerable:false,configurable:true,writable:true})}function c(t){if(t.fn.prototype._yourself){return}if(t.superclass&&t.superclass!==nil){inherits(t.fn,t.superclass.fn);u(t);_(t)}}function d(t,l){for(l=l||t.superclass;l&&l!==nil;l=l.superclass){for(var a=Object.keys(l.methods),e=0;e<a.length;e++){k(l.methods[a[e]],t)}}}function f(t,l){Object.defineProperty(l.fn.prototype,t.jsSelector,{value:t.fn,enumerable:false,configurable:true,writable:true})}function k(t,l){if(!l.fn.prototype[t.jsSelector]){f(t,l)}}function _(t){for(var l=Object.keys(t.methods),a=0;a<l.length;a++){f(t.methods[l[a]],t)}}function h(t){var l=s.methods;for(var a=0;a<l.length;a++){k(l[a],t)}}function g(l){k(l,t.Object);for(var a=0;a<e.length;a++){k(l,e[a])}}t.packages.all=function(){var l=[];for(var a in t.packages){if(!t.packages.hasOwnProperty(a)||typeof t.packages[a]==="function")continue;l.push(t.packages[a])}return l};t.classes=function(){return a};t.wrappedClasses=function(){return e};t.subclasses=function(l){var a=[];var e=t.classes();for(var s=0;s<e.length;s++){var n=e[s];if(n.fn){if(n.superclass===l){a.push(n)}n=n.klass;if(n&&n.superclass===l){a.push(n)}}}return a};t.wrapClassName=function(l,s,n,o,i){if(i!==false){i=true}var m=t.addPackage(s);t[l]=r({className:l,superclass:o,pkg:m,fn:n,wrapped:i});a.addElement(t[l]);if(i){e.addElement(t[l])}m.organization.elements.addElement(t[l])};t.alias=function(l,a){t[a]=l};t.addPackage=function(l,a){if(!l){return nil}if(!t.packages[l]){t.packages[l]=o({pkgName:l,properties:a})}else{if(a){t.packages[l].properties=a}}return t.packages[l]};t.addClass=function(l,e,s,n){var o=t.addPackage(n);if(e==nil){e=null}if(t[l]&&t[l].superclass==e){t[l].superclass=e;t[l].iVarNames=s;t[l].pkg=o||t[l].pkg}else{if(t[l]){t.removeClass(t[l])}t[l]=r({className:l,superclass:e,pkg:o,iVarNames:s})}a.addElement(t[l]);o.organization.elements.addElement(t[l])};t.removeClass=function(l){l.pkg.organization.elements.removeElement(l);a.removeElement(l);delete t[l.className]};t.addMethod=function(l,a,e){if(typeof l==="string"){if(l!==t.selector(a.selector)){console.log("DISCREPANCY: arg, in_method");console.log(l);console.log(t.selector(a.selector));a.jsSelector=l}return v(a,e)}return v(l,a)};function v(a,e){if(!a.jsSelector){a.jsSelector=t.selector(a.selector)}f(a,e);e.methods[a.selector]=a;a.methodClass=e;e.organization.elements.addElement(a.category);for(var n=0;n<a.messageSends.length;n++){var o=s.get(a.messageSends[n]);if(l){g(o)}}}t.removeMethod=function(l){var a=l.category;var e=l.methodClass;delete e.fn.prototype[t.selector(l.selector)];delete e.methods[l.selector];var s=Object.keys(e.methods)};t.send=function(t,l,a,e){var s;if(t==null){t=nil}s=e?e.fn.prototype[l]:t.klass&&t[l];if(s){return s.apply(t,a)}else{return p(t,l,a)}};t.withContext=function(l,a){if(t.thisContext){t.thisContext.pc++;return C(l,a)}else{try{return C(l,a)}catch(e){if(e.smalltalkError){S(e)}else{var s=t.JavaScriptException._on_(e);try{s._signal()}catch(n){}s._context_(t.getThisContext());S(s)}t.thisContext=undefined;throw e}}};function C(t,l){var a=x(l);var e=t(a);M(a);return e}function S(l){t.ErrorHandler._current()._handleError_(l)}function p(l,a,e){if(l.klass===undefined||l.allowJavaScriptCalls){return w(l,a,e)}return l._doesNotUnderstand_(t.Message._new()._selector_(t.convertSelector(a))._arguments_(e))}function w(l,a,e){var s=a._asJavaScriptSelector();var n=l[s];if(typeof n==="function"&&!/^[A-Z]/.test(s)){return n.apply(l,e)}else if(n!==undefined){if(e[0]){l[s]=e[0];return nil}else{return n}}return t.send(t.JSObjectProxy._on_(l),a,e)}t.getThisContext=function(){if(t.thisContext){t.thisContext.init();return t.thisContext}else{return nil}};function x(l){return t.thisContext=new SmalltalkMethodContext(smalltalk.thisContext,l)}function M(l){t.thisContext=l.homeContext}t.selector=function(t){var l="_"+t;l=l.replace(/:/g,"_");l=l.replace(/[\&]/g,"_and");l=l.replace(/[\|]/g,"_or");l=l.replace(/[+]/g,"_plus");l=l.replace(/-/g,"_minus");l=l.replace(/[*]/g,"_star");l=l.replace(/[\/]/g,"_slash");l=l.replace(/[\\]/g,"_backslash");l=l.replace(/[\~]/g,"_tild");l=l.replace(/>/g,"_gt");l=l.replace(/</g,"_lt");l=l.replace(/=/g,"_eq");l=l.replace(/,/g,"_comma");l=l.replace(/[@]/g,"_at");return l};t.convertSelector=function(t){if(t.match(/__/)){return b(t)}else{return y(t)}};function y(t){return t.replace(/^_/,"").replace(/_/g,":")}function b(t){return t.replace(/^_/,"").replace(/_and/g,"&").replace(/_or/g,"|").replace(/_plus/g,"+").replace(/_minus/g,"-").replace(/_star/g,"*").replace(/_slash/g,"/").replace(/_backslash/g,"\\").replace(/_tild/g,"~").replace(/_gt/g,">").replace(/_lt/g,"<").replace(/_eq/g,"=").replace(/_comma/g,",").replace(/_at/g,"@")}t.readJSObject=function(l){var a=l;var e=l.constructor===Object;var s=l.constructor===Array;if(e){a=t.Dictionary._new()}for(var n in l){if(e){a._at_put_(n,t.readJSObject(l[n]))}if(s){a[n]=t.readJSObject(l[n])}}return a};t.assert=function(t){if(undefined!==t&&t.klass===smalltalk.Boolean){return t==true}else{smalltalk.NonBooleanReceiver._new()._object_(t)._signal()}};t.symbolFor=function(t){return t};t.initialize=function(){if(l){return}a.forEach(function(l){t.init(l)});a.forEach(function(t){t._initialize()});l=true}}inherits(Smalltalk,SmalltalkObject);function SmalltalkMethodContext(t,l){this.homeContext=t;this.setup=l||function(){};this.pc=0}SmalltalkMethodContext.prototype.locals={};SmalltalkMethodContext.prototype.receiver=null;SmalltalkMethodContext.prototype.selector=null;SmalltalkMethodContext.prototype.lookupClass=null;inherits(SmalltalkMethodContext,SmalltalkObject);SmalltalkMethodContext.prototype.fill=function(t,l,a,e){this.receiver=t;this.selector=l;this.locals=a||{};this.lookupClass=e};SmalltalkMethodContext.prototype.fillBlock=function(t,l){this.locals=t||{};this.methodContext=l};SmalltalkMethodContext.prototype.init=function(){var t=this.homeContext;if(t){t=t.init()}this.setup(this)};SmalltalkMethodContext.prototype.method=function(){var t;var l=this.lookupClass||this.receiver.klass;while(!t&&l){t=l.methods[smalltalk.convertSelector(this.selector)];l=l.superclass}return t};SmalltalkMethodContext.prototype.resume=function(){smalltalk.thisContext=this;return this.method.apply(receiver,temps)};var nil=new SmalltalkNil;var smalltalk=new Smalltalk;if(this.jQuery){this.jQuery.allowJavaScriptCalls=true}var _st=function(t){if(t==null){return nil}if(t.klass){return t}return smalltalk.JSObjectProxy._on_(t)};smalltalk.wrapClassName("Object","Kernel-Objects",SmalltalkObject,undefined,false);smalltalk.wrapClassName("Behavior","Kernel-Classes",SmalltalkBehavior,smalltalk.Object,false);smalltalk.wrapClassName("Metaclass","Kernel-Classes",SmalltalkMetaclass,smalltalk.Behavior,false);smalltalk.wrapClassName("Class","Kernel-Classes",SmalltalkClass,smalltalk.Behavior,false);smalltalk.Object.klass.superclass=smalltalk.Class;smalltalk.wrapClassName("Smalltalk","Kernel-Objects",Smalltalk,smalltalk.Object,false);smalltalk.wrapClassName("Package","Kernel-Objects",SmalltalkPackage,smalltalk.Object,false);smalltalk.wrapClassName("CompiledMethod","Kernel-Methods",SmalltalkMethod,smalltalk.Object,false);smalltalk.wrapClassName("Organizer","Kernel-Objects",SmalltalkOrganizer,smalltalk.Object,false);smalltalk.wrapClassName("PackageOrganizer","Kernel-Objects",SmalltalkPackageOrganizer,smalltalk.Organizer,false);smalltalk.wrapClassName("ClassOrganizer","Kernel-Objects",SmalltalkClassOrganizer,smalltalk.Organizer,false);smalltalk.wrapClassName("Number","Kernel-Objects",Number,smalltalk.Object);smalltalk.wrapClassName("BlockClosure","Kernel-Methods",Function,smalltalk.Object);smalltalk.wrapClassName("Boolean","Kernel-Objects",Boolean,smalltalk.Object);smalltalk.wrapClassName("Date","Kernel-Objects",Date,smalltalk.Object);smalltalk.wrapClassName("UndefinedObject","Kernel-Objects",SmalltalkNil,smalltalk.Object,false);smalltalk.addClass("Collection",smalltalk.Object,null,"Kernel-Collections");smalltalk.addClass("IndexableCollection",smalltalk.Collection,null,"Kernel-Collections");smalltalk.addClass("SequenceableCollection",smalltalk.IndexableCollection,null,"Kernel-Collections");smalltalk.addClass("CharacterArray",smalltalk.SequenceableCollection,null,"Kernel-Collections");smalltalk.wrapClassName("String","Kernel-Collections",String,smalltalk.CharacterArray);smalltalk.wrapClassName("Array","Kernel-Collections",Array,smalltalk.SequenceableCollection);smalltalk.wrapClassName("RegularExpression","Kernel-Collections",RegExp,smalltalk.Object);smalltalk.wrapClassName("Error","Kernel-Exceptions",Error,smalltalk.Object);smalltalk.wrapClassName("MethodContext","Kernel-Methods",SmalltalkMethodContext,smalltalk.Object,false);smalltalk.alias(smalltalk.Array,"OrderedCollection");smalltalk.alias(smalltalk.Date,"Time");smalltalk.addPackage("Kernel-Objects");smalltalk.addClass("Object",smalltalk.nil,[],"Kernel-Objects");smalltalk.addMethod(smalltalk.method({selector:"->",fn:function(t){var l=this;function a(){return smalltalk.Association||(typeof Association=="undefined"?nil:Association)}return smalltalk.withContext(function(e){var s;s=_st(a())._key_value_(l,t);return s},function(a){a.fill(l,"->",{anObject:t},smalltalk.Object)})},messageSends:["key:value:"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"=",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l).__eq_eq(t);return e},function(a){a.fill(l,"=",{anObject:t},smalltalk.Object)})},messageSends:["=="]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"==",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._identityHash()).__eq(_st(t)._identityHash());return e},function(a){a.fill(l,"==",{anObject:t},smalltalk.Object)})},messageSends:["=","identityHash"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"asJSON",fn:function(){var t=this;var l;function a(){return smalltalk.HashedCollection||(typeof HashedCollection=="undefined"?nil:HashedCollection)}return smalltalk.withContext(function(e){var s;l=_st(a())._new();_st(_st(_st(t)._class())._allInstanceVariableNames())._do_(function(a){return smalltalk.withContext(function(e){return _st(l)._at_put_(a,_st(_st(t)._instVarAt_(a))._asJSON())},function(t){t.fillBlock({each:a},e)})});s=l;return s},function(a){a.fill(t,"asJSON",{variables:l},smalltalk.Object)})},messageSends:["new","do:","at:put:","asJSON","instVarAt:","allInstanceVariableNames","class"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"asJSONString",fn:function(){var t=this;function l(){return smalltalk.JSON||(typeof JSON=="undefined"?nil:JSON)}return smalltalk.withContext(function(a){var e;e=_st(l())._stringify_(_st(t)._asJSON());return e},function(l){l.fill(t,"asJSONString",{},smalltalk.Object)})},messageSends:["stringify:","asJSON"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"asJavascript",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._asString();return a},function(l){l.fill(t,"asJavascript",{},smalltalk.Object)})},messageSends:["asString"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"asString",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._printString();return a},function(l){l.fill(t,"asString",{},smalltalk.Object)})},messageSends:["printString"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"basicAt:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l[t];return l},function(a){a.fill(l,"basicAt:",{aString:t},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"basicAt:put:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){return a[t]=l;return a},function(e){e.fill(a,"basicAt:put:",{aString:t,anObject:l},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"basicDelete:",fn:function(t){var l=this;return smalltalk.withContext(function(a){delete l[t];return t;return l},function(a){a.fill(l,"basicDelete:",{aString:t},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"basicPerform:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l)._basicPerform_withArguments_(t,[]);return e},function(a){a.fill(l,"basicPerform:",{aString:t},smalltalk.Object)})},messageSends:["basicPerform:withArguments:"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"basicPerform:withArguments:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){return a[t].apply(a,l);return a},function(e){e.fill(a,"basicPerform:withArguments:",{aString:t,aCollection:l},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"class",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.klass;return t},function(l){l.fill(t,"class",{},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"copy",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._shallowCopy())._postCopy();return a},function(l){l.fill(t,"copy",{},smalltalk.Object)})},messageSends:["postCopy","shallowCopy"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"deepCopy",fn:function(){var t=this;return smalltalk.withContext(function(l){var a=t.klass._new();for(var e in t){if(/^@.+/.test(e)){a[e]=t[e]._deepCopy()}}return a;return t},function(l){l.fill(t,"deepCopy",{},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"deprecatedAPI",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(console)._warn_(_st(_st(_st(_st(_st(smalltalk.getThisContext())._home())._asString()).__comma(" is deprecated! (in ")).__comma(_st(_st(_st(smalltalk.getThisContext())._home())._home())._asString())).__comma(")"));return t},function(l){l.fill(t,"deprecatedAPI",{},smalltalk.Object)})},messageSends:["warn:",",","asString","home"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"doesNotUnderstand:",fn:function(t){var l=this;function a(){return smalltalk.MessageNotUnderstood||(typeof MessageNotUnderstood=="undefined"?nil:MessageNotUnderstood)}return smalltalk.withContext(function(e){var s,n;s=_st(a())._new();_st(s)._receiver_(l);_st(s)._message_(t);n=_st(s)._signal();return l},function(a){a.fill(l,"doesNotUnderstand:",{aMessage:t},smalltalk.Object)})},messageSends:["receiver:","new","message:","signal"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"error:",fn:function(t){var l=this;function a(){return smalltalk.Error||(typeof Error=="undefined"?nil:Error)}return smalltalk.withContext(function(e){_st(a())._signal_(t);return l},function(a){a.fill(l,"error:",{aString:t},smalltalk.Object)})},messageSends:["signal:"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"halt",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._error_("Halt encountered");return t},function(l){l.fill(t,"halt",{},smalltalk.Object)})},messageSends:["error:"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"identityHash",fn:function(){var t=this;return smalltalk.withContext(function(l){var a=t.identityHash;if(a)return a;a=smalltalk.nextId();Object.defineProperty(t,"identityHash",{value:a});return a;return t},function(l){l.fill(t,"identityHash",{},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"ifNil:",fn:function(t){var l=this;return smalltalk.withContext(function(t){var a;a=l;return a},function(a){a.fill(l,"ifNil:",{aBlock:t},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"ifNil:ifNotNil:",fn:function(t,l){var a=this;return smalltalk.withContext(function(t){var e;e=_st(l)._value_(a);return e},function(e){e.fill(a,"ifNil:ifNotNil:",{aBlock:t,anotherBlock:l},smalltalk.Object)})},messageSends:["value:"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"ifNotNil:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(t)._value_(l);return e},function(a){a.fill(l,"ifNotNil:",{aBlock:t},smalltalk.Object)})},messageSends:["value:"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"ifNotNil:ifNil:",fn:function(t,l){var a=this;return smalltalk.withContext(function(l){var e;e=_st(t)._value_(a);return e},function(e){e.fill(a,"ifNotNil:ifNil:",{aBlock:t,anotherBlock:l},smalltalk.Object)})},messageSends:["value:"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"initialize",fn:function(){var t=this;return smalltalk.withContext(function(l){return t},function(l){l.fill(t,"initialize",{},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"instVarAt:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l["@"+t];return l},function(a){a.fill(l,"instVarAt:",{aString:t},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"instVarAt:put:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){a["@"+t]=l;return a},function(e){e.fill(a,"instVarAt:put:",{aString:t,anObject:l},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"isBehavior",fn:function(){var t=this;return smalltalk.withContext(function(t){return false},function(l){l.fill(t,"isBehavior",{},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"isBoolean",fn:function(){var t=this;return smalltalk.withContext(function(t){return false},function(l){l.fill(t,"isBoolean",{},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"isClass",fn:function(){var t=this;return smalltalk.withContext(function(t){return false},function(l){l.fill(t,"isClass",{},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"isCompiledMethod",fn:function(){var t=this;return smalltalk.withContext(function(t){return false},function(l){l.fill(t,"isCompiledMethod",{},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"isImmutable",fn:function(){var t=this;return smalltalk.withContext(function(t){return false},function(l){l.fill(t,"isImmutable",{},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"isKindOf:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;e=_st(l)._isMemberOf_(t);if(smalltalk.assert(e)){s=true}else{s=_st(_st(l)._class())._inheritsFrom_(t)}return s},function(a){a.fill(l,"isKindOf:",{aClass:t},smalltalk.Object)})},messageSends:["ifTrue:ifFalse:","inheritsFrom:","class","isMemberOf:"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"isMemberOf:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._class()).__eq(t);return e},function(a){a.fill(l,"isMemberOf:",{aClass:t},smalltalk.Object)})},messageSends:["=","class"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"isMetaclass",fn:function(){var t=this;return smalltalk.withContext(function(t){return false},function(l){l.fill(t,"isMetaclass",{},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"isNil",fn:function(){var t=this;return smalltalk.withContext(function(t){return false},function(l){l.fill(t,"isNil",{},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"isNumber",fn:function(){var t=this;return smalltalk.withContext(function(t){return false},function(l){l.fill(t,"isNumber",{},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"isPackage",fn:function(){var t=this;return smalltalk.withContext(function(t){return false},function(l){l.fill(t,"isPackage",{},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"isParseFailure",fn:function(){var t=this;return smalltalk.withContext(function(t){return false},function(l){l.fill(t,"isParseFailure",{},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"isString",fn:function(){var t=this;return smalltalk.withContext(function(t){return false},function(l){l.fill(t,"isString",{},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"isSymbol",fn:function(){var t=this;return smalltalk.withContext(function(t){return false},function(l){l.fill(t,"isSymbol",{},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"notNil",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._isNil())._not();return a},function(l){l.fill(t,"notNil",{},smalltalk.Object)})},messageSends:["not","isNil"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"perform:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l)._perform_withArguments_(t,[]);return e},function(a){a.fill(l,"perform:",{aString:t},smalltalk.Object)})},messageSends:["perform:withArguments:"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"perform:withArguments:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){return smalltalk.send(a,t._asSelector(),l);return a},function(e){e.fill(a,"perform:withArguments:",{aString:t,aCollection:l},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"postCopy",fn:function(){var t=this;return smalltalk.withContext(function(l){return t},function(l){l.fill(t,"postCopy",{},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"printOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=t;s=_st(_st(_st(_st(l)._class())._name())._first())._isVowel();if(smalltalk.assert(s)){n="an "}else{n="a "}_st(e)._nextPutAll_(n);_st(t)._nextPutAll_(_st(_st(l)._class())._name());return l},function(a){a.fill(l,"printOn:",{aStream:t},smalltalk.Object)})},messageSends:["nextPutAll:","ifTrue:ifFalse:","isVowel","first","name","class"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"printString",fn:function(){var t=this;function l(){return smalltalk.String||(typeof String=="undefined"?nil:String)}return smalltalk.withContext(function(a){var e;e=_st(l())._streamContents_(function(l){return smalltalk.withContext(function(a){return _st(t)._printOn_(l)},function(t){t.fillBlock({stream:l},a)})});return e},function(l){l.fill(t,"printString",{},smalltalk.Object)})},messageSends:["streamContents:","printOn:"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"putOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(t)._nextPut_(l);return l},function(a){a.fill(l,"putOn:",{aStream:t},smalltalk.Object)})},messageSends:["nextPut:"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"respondsTo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._class())._canUnderstand_(t);return e},function(a){a.fill(l,"respondsTo:",{aSelector:t},smalltalk.Object)})},messageSends:["canUnderstand:","class"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"shallowCopy",fn:function(){var t=this;return smalltalk.withContext(function(l){var a=t.klass._new();for(var e in t){if(/^@.+/.test(e)){a[e]=t[e]}}return a;return t},function(l){l.fill(t,"shallowCopy",{},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"shouldNotImplement",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._error_(_st("This method should not be implemented in ").__comma(_st(_st(t)._class())._name()));return t},function(l){l.fill(t,"shouldNotImplement",{},smalltalk.Object)})},messageSends:["error:",",","name","class"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"size",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._error_("Object not indexable");return t},function(l){l.fill(t,"size",{},smalltalk.Object)})},messageSends:["error:"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"subclassResponsibility",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._error_("This method is a responsibility of a subclass");return t},function(l){l.fill(t,"subclassResponsibility",{},smalltalk.Object)})},messageSends:["error:"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"test",fn:function(){var t=this;var l;return smalltalk.withContext(function(a){l=1;_st(t)._halt();return t},function(a){a.fill(t,"test",{a:l},smalltalk.Object)})},messageSends:["halt"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"throw:",fn:function(t){var l=this;return smalltalk.withContext(function(a){throw t;return l},function(a){a.fill(l,"throw:",{anObject:t},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"try:catch:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){try{return t()}catch(s){return l(s)}return a},function(e){e.fill(a,"try:catch:",{aBlock:t,anotherBlock:l},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"value",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.valueOf();return t},function(l){l.fill(t,"value",{},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"yourself",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t;return a},function(l){l.fill(t,"yourself",{},smalltalk.Object)})},messageSends:[]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"~=",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l).__eq(t)).__eq(false);return e},function(a){a.fill(l,"~=",{anObject:t},smalltalk.Object)})},messageSends:["="]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"~~",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l).__eq_eq(t)).__eq(false);return e},function(a){a.fill(l,"~~",{anObject:t},smalltalk.Object)})},messageSends:["=","=="]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"initialize",fn:function(){var t=this;return smalltalk.withContext(function(l){return t},function(l){l.fill(t,"initialize",{},smalltalk.Object.klass)})},messageSends:[]}),smalltalk.Object.klass);smalltalk.addClass("Boolean",smalltalk.Object,[],"Kernel-Objects");smalltalk.addMethod(smalltalk.method({selector:"&",fn:function(t){var l=this;return smalltalk.withContext(function(a){if(l==true){return t}else{return false}return l},function(a){a.fill(l,"&",{aBoolean:t},smalltalk.Boolean)})},messageSends:[]}),smalltalk.Boolean);smalltalk.addMethod(smalltalk.method({selector:"=",fn:function(t){var l=this;return smalltalk.withContext(function(a){if(!t._isBoolean||!t._isBoolean()){return false}return Boolean(l==true)==t;return l},function(a){a.fill(l,"=",{aBoolean:t},smalltalk.Boolean)})},messageSends:[]}),smalltalk.Boolean);smalltalk.addMethod(smalltalk.method({selector:"==",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l).__eq(t);return e},function(a){a.fill(l,"==",{aBoolean:t},smalltalk.Boolean)})},messageSends:["="]}),smalltalk.Boolean);smalltalk.addMethod(smalltalk.method({selector:"and:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;e=_st(l).__eq(true);s=_st(e)._ifTrue_ifFalse_(t,function(){return smalltalk.withContext(function(t){return false},function(t){t.fillBlock({},a)})});return s},function(a){a.fill(l,"and:",{aBlock:t},smalltalk.Boolean)})},messageSends:["ifTrue:ifFalse:","="]}),smalltalk.Boolean);smalltalk.addMethod(smalltalk.method({selector:"asJSON",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t;return a},function(l){l.fill(t,"asJSON",{},smalltalk.Boolean)})},messageSends:[]}),smalltalk.Boolean);
smalltalk.addMethod(smalltalk.method({selector:"asString",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.toString();return t},function(l){l.fill(t,"asString",{},smalltalk.Boolean)})},messageSends:[]}),smalltalk.Boolean);smalltalk.addMethod(smalltalk.method({selector:"deepCopy",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t;return a},function(l){l.fill(t,"deepCopy",{},smalltalk.Boolean)})},messageSends:[]}),smalltalk.Boolean);smalltalk.addMethod(smalltalk.method({selector:"ifFalse:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;e=l;s=_st(e)._ifTrue_ifFalse_(function(){return smalltalk.withContext(function(t){},function(t){t.fillBlock({},a)})},t);return s},function(a){a.fill(l,"ifFalse:",{aBlock:t},smalltalk.Boolean)})},messageSends:["ifTrue:ifFalse:"]}),smalltalk.Boolean);smalltalk.addMethod(smalltalk.method({selector:"ifFalse:ifTrue:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s,n;s=a;n=_st(s)._ifTrue_ifFalse_(l,t);return n},function(e){e.fill(a,"ifFalse:ifTrue:",{aBlock:t,anotherBlock:l},smalltalk.Boolean)})},messageSends:["ifTrue:ifFalse:"]}),smalltalk.Boolean);smalltalk.addMethod(smalltalk.method({selector:"ifTrue:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;e=l;s=_st(e)._ifTrue_ifFalse_(t,function(){return smalltalk.withContext(function(t){},function(t){t.fillBlock({},a)})});return s},function(a){a.fill(l,"ifTrue:",{aBlock:t},smalltalk.Boolean)})},messageSends:["ifTrue:ifFalse:"]}),smalltalk.Boolean);smalltalk.addMethod(smalltalk.method({selector:"ifTrue:ifFalse:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){if(a==true){return t()}else{return l()}return a},function(e){e.fill(a,"ifTrue:ifFalse:",{aBlock:t,anotherBlock:l},smalltalk.Boolean)})},messageSends:[]}),smalltalk.Boolean);smalltalk.addMethod(smalltalk.method({selector:"isBoolean",fn:function(){var t=this;return smalltalk.withContext(function(t){return true},function(l){l.fill(t,"isBoolean",{},smalltalk.Boolean)})},messageSends:[]}),smalltalk.Boolean);smalltalk.addMethod(smalltalk.method({selector:"isImmutable",fn:function(){var t=this;return smalltalk.withContext(function(t){return true},function(l){l.fill(t,"isImmutable",{},smalltalk.Boolean)})},messageSends:[]}),smalltalk.Boolean);smalltalk.addMethod(smalltalk.method({selector:"not",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t).__eq(false);return a},function(l){l.fill(t,"not",{},smalltalk.Boolean)})},messageSends:["="]}),smalltalk.Boolean);smalltalk.addMethod(smalltalk.method({selector:"or:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;e=_st(l).__eq(true);s=_st(e)._ifTrue_ifFalse_(function(){return smalltalk.withContext(function(t){return true},function(t){t.fillBlock({},a)})},t);return s},function(a){a.fill(l,"or:",{aBlock:t},smalltalk.Boolean)})},messageSends:["ifTrue:ifFalse:","="]}),smalltalk.Boolean);smalltalk.addMethod(smalltalk.method({selector:"printOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(t)._nextPutAll_(_st(l)._asString());return l},function(a){a.fill(l,"printOn:",{aStream:t},smalltalk.Boolean)})},messageSends:["nextPutAll:","asString"]}),smalltalk.Boolean);smalltalk.addMethod(smalltalk.method({selector:"shallowCopy",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t;return a},function(l){l.fill(t,"shallowCopy",{},smalltalk.Boolean)})},messageSends:[]}),smalltalk.Boolean);smalltalk.addMethod(smalltalk.method({selector:"|",fn:function(t){var l=this;return smalltalk.withContext(function(a){if(l==true){return true}else{return t}return l},function(a){a.fill(l,"|",{aBoolean:t},smalltalk.Boolean)})},messageSends:[]}),smalltalk.Boolean);smalltalk.addClass("Date",smalltalk.Object,[],"Kernel-Objects");smalltalk.addMethod(smalltalk.method({selector:"+",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l+t;return l},function(a){a.fill(l,"+",{aDate:t},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"-",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l-t;return l},function(a){a.fill(l,"-",{aDate:t},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"<",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l<t;return l},function(a){a.fill(l,"<",{aDate:t},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"<=",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l<=t;return l},function(a){a.fill(l,"<=",{aDate:t},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:">",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l>t;return l},function(a){a.fill(l,">",{aDate:t},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:">=",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l>=t;return l},function(a){a.fill(l,">=",{aDate:t},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"asDateString",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.toDateString();return t},function(l){l.fill(t,"asDateString",{},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"asLocaleString",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.toLocaleString();return t},function(l){l.fill(t,"asLocaleString",{},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"asMilliseconds",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._time();return a},function(l){l.fill(t,"asMilliseconds",{},smalltalk.Date)})},messageSends:["time"]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"asNumber",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._asMilliseconds();return a},function(l){l.fill(t,"asNumber",{},smalltalk.Date)})},messageSends:["asMilliseconds"]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"asString",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.toString();return t},function(l){l.fill(t,"asString",{},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"asTimeString",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.toTimeString();return t},function(l){l.fill(t,"asTimeString",{},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"day",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._dayOfWeek();return a},function(l){l.fill(t,"day",{},smalltalk.Date)})},messageSends:["dayOfWeek"]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"day:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._dayOfWeek_(t);return l},function(a){a.fill(l,"day:",{aNumber:t},smalltalk.Date)})},messageSends:["dayOfWeek:"]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"dayOfMonth",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.getDate();return t},function(l){l.fill(t,"dayOfMonth",{},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"dayOfMonth:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l.setDate(t);return l},function(a){a.fill(l,"dayOfMonth:",{aNumber:t},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"dayOfWeek",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.getDay()+1;return t},function(l){l.fill(t,"dayOfWeek",{},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"dayOfWeek:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l.setDay(t-1);return l},function(a){a.fill(l,"dayOfWeek:",{aNumber:t},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"hours",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.getHours();return t},function(l){l.fill(t,"hours",{},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"hours:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l.setHours(t);return l},function(a){a.fill(l,"hours:",{aNumber:t},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"milliseconds",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.getMilliseconds();return t},function(l){l.fill(t,"milliseconds",{},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"milliseconds:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l.setMilliseconds(t);return l},function(a){a.fill(l,"milliseconds:",{aNumber:t},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"minutes",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.getMinutes();return t},function(l){l.fill(t,"minutes",{},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"minutes:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l.setMinutes(t);return l},function(a){a.fill(l,"minutes:",{aNumber:t},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"month",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.getMonth()+1;return t},function(l){l.fill(t,"month",{},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"month:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l.setMonth(t-1);return l},function(a){a.fill(l,"month:",{aNumber:t},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"printOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(t)._nextPutAll_(_st(l)._asString());return l},function(a){a.fill(l,"printOn:",{aStream:t},smalltalk.Date)})},messageSends:["nextPutAll:","asString"]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"seconds",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.getSeconds();return t},function(l){l.fill(t,"seconds",{},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"seconds:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l.setSeconds(t);return l},function(a){a.fill(l,"seconds:",{aNumber:t},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"time",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.getTime();return t},function(l){l.fill(t,"time",{},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"time:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l.setTime(t);return l},function(a){a.fill(l,"time:",{aNumber:t},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"year",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.getFullYear();return t},function(l){l.fill(t,"year",{},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"year:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l.setFullYear(t);return l},function(a){a.fill(l,"year:",{aNumber:t},smalltalk.Date)})},messageSends:[]}),smalltalk.Date);smalltalk.addMethod(smalltalk.method({selector:"fromMilliseconds:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l)._new_(t);return e},function(a){a.fill(l,"fromMilliseconds:",{aNumber:t},smalltalk.Date.klass)})},messageSends:["new:"]}),smalltalk.Date.klass);smalltalk.addMethod(smalltalk.method({selector:"fromSeconds:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l)._fromMilliseconds_(_st(t).__star(1e3));return e},function(a){a.fill(l,"fromSeconds:",{aNumber:t},smalltalk.Date.klass)})},messageSends:["fromMilliseconds:","*"]}),smalltalk.Date.klass);smalltalk.addMethod(smalltalk.method({selector:"fromString:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l)._new_(t);return e},function(a){a.fill(l,"fromString:",{aString:t},smalltalk.Date.klass)})},messageSends:["new:"]}),smalltalk.Date.klass);smalltalk.addMethod(smalltalk.method({selector:"millisecondsToRun:",fn:function(t){var l=this;var a;function e(){return smalltalk.Date||(typeof Date=="undefined"?nil:Date)}return smalltalk.withContext(function(l){var s;a=_st(e())._now();_st(t)._value();s=_st(_st(e())._now()).__minus(a);return s},function(e){e.fill(l,"millisecondsToRun:",{aBlock:t,t:a},smalltalk.Date.klass)})},messageSends:["now","value","-"]}),smalltalk.Date.klass);smalltalk.addMethod(smalltalk.method({selector:"new:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return new Date(t);return l},function(a){a.fill(l,"new:",{anObject:t},smalltalk.Date.klass)})},messageSends:[]}),smalltalk.Date.klass);smalltalk.addMethod(smalltalk.method({selector:"now",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._today();return a},function(l){l.fill(t,"now",{},smalltalk.Date.klass)})},messageSends:["today"]}),smalltalk.Date.klass);smalltalk.addMethod(smalltalk.method({selector:"today",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._new();return a},function(l){l.fill(t,"today",{},smalltalk.Date.klass)})},messageSends:["new"]}),smalltalk.Date.klass);smalltalk.addClass("Environment",smalltalk.Object,[],"Kernel-Objects");smalltalk.addMethod(smalltalk.method({selector:"addInstVarNamed:to:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s,n;s=_st(_st(l)._instanceVariableNames())._copy();_st(s)._add_(t);n=_st(s)._yourself();_st(_st(a)._classBuilder())._addSubclassOf_named_instanceVariableNames_package_(_st(l)._superclass(),_st(l)._name(),n,_st(_st(l)._package())._name());return a},function(e){e.fill(a,"addInstVarNamed:to:",{aString:t,aClass:l},smalltalk.HLEnvironment)})},messageSends:["addSubclassOf:named:instanceVariableNames:package:","superclass","name","add:","copy","instanceVariableNames","yourself","package","classBuilder"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"allSelectors",fn:function(){var t=this;function l(){return smalltalk.Smalltalk||(typeof Smalltalk=="undefined"?nil:Smalltalk)}return smalltalk.withContext(function(t){var a;a=_st(_st(_st(l())._current())._at_("allSelectors"))._value();return a},function(l){l.fill(t,"allSelectors",{},smalltalk.Environment)})},messageSends:["value","at:","current"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"availableClassNames",fn:function(){var t=this;function l(){return smalltalk.Smalltalk||(typeof Smalltalk=="undefined"?nil:Smalltalk)}return smalltalk.withContext(function(t){var a;a=_st(_st(_st(l())._current())._classes())._collect_(function(l){return smalltalk.withContext(function(t){return _st(l)._name()},function(a){a.fillBlock({each:l},t)})});return a},function(l){l.fill(t,"availableClassNames",{},smalltalk.HLEnvironment)})},messageSends:["collect:","name","classes","current"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"availablePackageNames",fn:function(){var t=this;function l(){return smalltalk.Smalltalk||(typeof Smalltalk=="undefined"?nil:Smalltalk)}return smalltalk.withContext(function(t){var a;a=_st(_st(_st(l())._current())._packages())._collect_(function(l){return smalltalk.withContext(function(t){return _st(l)._name()},function(a){a.fillBlock({each:l},t)})});return a},function(l){l.fill(t,"availablePackageNames",{},smalltalk.HLEnvironment)})},messageSends:["collect:","name","packages","current"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"availableProtocolsFor:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s,n;a=_st(t)._protocols();s=_st(t)._superclass();if(($receiver=s)==nil||$receiver==undefined){s}else{_st(a)._addAll_(_st(l)._availableProtocolsFor_(_st(t)._superclass()))}n=_st(_st(a)._asSet())._asArray();return n},function(e){e.fill(l,"availableProtocolsFor:",{aClass:t,protocols:a},smalltalk.HLEnvironment)})},messageSends:["protocols","ifNotNil:","addAll:","availableProtocolsFor:","superclass","asArray","asSet"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"classBuilder",fn:function(){var t=this;function l(){return smalltalk.ClassBuilder||(typeof ClassBuilder=="undefined"?nil:ClassBuilder)}return smalltalk.withContext(function(t){var a;a=_st(l())._new();return a},function(l){l.fill(t,"classBuilder",{},smalltalk.HLEnvironment)})},messageSends:["new"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"classNamed:",fn:function(t){var l=this;function a(){return smalltalk.Smalltalk||(typeof Smalltalk=="undefined"?nil:Smalltalk)}return smalltalk.withContext(function(e){var s,n;s=_st(_st(a())._current())._at_(_st(t)._asSymbol());if(($receiver=s)==nil||$receiver==undefined){n=_st(l)._error_("Invalid class name")}else{n=s}return n},function(a){a.fill(l,"classNamed:",{aString:t},smalltalk.HLEnvironment)})},messageSends:["ifNil:","error:","at:","asSymbol","current"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"classes",fn:function(){var t=this;function l(){return smalltalk.Smalltalk||(typeof Smalltalk=="undefined"?nil:Smalltalk)}return smalltalk.withContext(function(t){var a;a=_st(_st(l())._current())._classes();return a},function(l){l.fill(t,"classes",{},smalltalk.Environment)})},messageSends:["classes","current"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"commitPackage:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(t)._commit();return l},function(a){a.fill(l,"commitPackage:",{aPackage:t},smalltalk.HLEnvironment)})},messageSends:["commit"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"compileClassComment:for:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){_st(l)._comment_(t);return a},function(e){e.fill(a,"compileClassComment:for:",{aString:t,aClass:l},smalltalk.HLEnvironment)})},messageSends:["comment:"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"compileClassDefinition:",fn:function(t){var l=this;function a(){return smalltalk.DoIt||(typeof DoIt=="undefined"?nil:DoIt)}return smalltalk.withContext(function(e){_st(l)._eval_on_(t,_st(a())._new());return l},function(a){a.fill(l,"compileClassDefinition:",{aString:t},smalltalk.HLEnvironment)})},messageSends:["eval:on:","new"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"compileMethod:for:protocol:",fn:function(t,l,a){var e=this;return smalltalk.withContext(function(e){var s;s=_st(l)._compile_category_(t,a);return s},function(s){s.fill(e,"compileMethod:for:protocol:",{sourceCode:t,class_:l,protocol:a},smalltalk.HLEnvironment)})},messageSends:["compile:category:"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"copyClass:to:",fn:function(t,l){var a=this;function e(){return smalltalk.Smalltalk||(typeof Smalltalk=="undefined"?nil:Smalltalk)}function s(){return smalltalk.ClassBuilder||(typeof ClassBuilder=="undefined"?nil:ClassBuilder)}return smalltalk.withContext(function(n){var o;o=_st(_st(e())._current())._at_(l);if(($receiver=o)==nil||$receiver==undefined){o}else{_st(a)._error_(_st(_st("A class named ").__comma(l)).__comma(" already exists"))}_st(_st(s())._new())._copyClass_named_(t,l);return a},function(e){e.fill(a,"copyClass:to:",{aClass:t,aClassName:l},smalltalk.HLEnvironment)})},messageSends:["ifNotNil:","error:",",","at:","current","copyClass:named:","new"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"eval:on:",fn:function(t,l){var a=this;var e;function s(){return smalltalk.Compiler||(typeof Compiler=="undefined"?nil:Compiler)}function n(){return smalltalk.Error||(typeof Error=="undefined"?nil:Error)}return smalltalk.withContext(function(a){var o,r;var i={};try{e=_st(s())._new();_st(function(){return smalltalk.withContext(function(l){return _st(e)._parseExpression_(t)},function(t){t.fillBlock({},a)})})._on_do_(n(),function(t){return smalltalk.withContext(function(l){o=_st(window)._alert_(_st(t)._messageText());throw i=[o]},function(l){l.fillBlock({ex:t},a)})});r=_st(e)._evaluateExpression_on_(t,l);return r}catch(m){if(m===i)return m[0];throw m}},function(s){s.fill(a,"eval:on:",{aString:t,aReceiver:l,compiler:e},smalltalk.HLEnvironment)})},messageSends:["new","on:do:","alert:","messageText","parseExpression:","evaluateExpression:on:"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"moveClass:toPackage:",fn:function(t,l){var a=this;var e;function s(){return smalltalk.Package||(typeof Package=="undefined"?nil:Package)}return smalltalk.withContext(function(n){var o,r,i;e=_st(s())._named_(l);o=e;if(($receiver=o)==nil||$receiver==undefined){_st(a)._error_("Invalid package name")}else{o}r=_st(e).__eq_eq(_st(t)._package());if(smalltalk.assert(r)){i=a;return i}_st(t)._package_(e);return a},function(s){s.fill(a,"moveClass:toPackage:",{aClass:t,aPackageName:l,package_:e},smalltalk.HLEnvironment)})},messageSends:["named:","ifNil:","error:","ifTrue:","==","package","package:"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"moveMethod:toClass:",fn:function(t,l){var a=this;var e;function s(){return smalltalk.Smalltalk||(typeof Smalltalk=="undefined"?nil:Smalltalk)}return smalltalk.withContext(function(n){var o,r,i;e=_st(_st(s())._current())._at_(_st(l)._asSymbol());o=e;if(($receiver=o)==nil||$receiver==undefined){_st(a)._error_("Invalid class name")}else{o}r=_st(e).__eq_eq(_st(t)._methodClass());if(smalltalk.assert(r)){i=a;return i}_st(e)._compile_category_(_st(t)._source(),_st(t)._protocol());_st(_st(t)._methodClass())._removeCompiledMethod_(t);return a},function(s){s.fill(a,"moveMethod:toClass:",{aMethod:t,aClassName:l,destinationClass:e},smalltalk.Environment)})},messageSends:["at:","asSymbol","current","ifNil:","error:","ifTrue:","==","methodClass","compile:category:","source","protocol","removeCompiledMethod:"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"moveMethod:toProtocol:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){_st(t)._category_(l);return a},function(e){e.fill(a,"moveMethod:toProtocol:",{aMethod:t,aProtocol:l},smalltalk.HLEnvironment)})},messageSends:["category:"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"packages",fn:function(){var t=this;function l(){return smalltalk.Smalltalk||(typeof Smalltalk=="undefined"?nil:Smalltalk)}return smalltalk.withContext(function(t){var a;a=_st(_st(l())._current())._packages();return a},function(l){l.fill(t,"packages",{},smalltalk.HLEnvironment)})},messageSends:["packages","current"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"removeClass:",fn:function(t){var l=this;function a(){return smalltalk.Smalltalk||(typeof Smalltalk=="undefined"?nil:Smalltalk)}return smalltalk.withContext(function(e){_st(_st(a())._current())._removeClass_(t);return l},function(a){a.fill(l,"removeClass:",{aClass:t},smalltalk.HLEnvironment)})},messageSends:["removeClass:","current"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"removeMethod:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(t)._methodClass())._removeCompiledMethod_(t);return l},function(a){a.fill(l,"removeMethod:",{aMethod:t},smalltalk.Environment)})},messageSends:["removeCompiledMethod:","methodClass"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"removeProtocol:from:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){_st(_st(_st(l)._methods())._select_(function(l){return smalltalk.withContext(function(a){return _st(_st(l)._protocol()).__eq(t)},function(t){t.fillBlock({each:l},e)})}))._do_(function(t){return smalltalk.withContext(function(a){return _st(l)._removeCompiledMethod_(t)},function(l){l.fillBlock({each:t},e)})});return a},function(e){e.fill(a,"removeProtocol:from:",{aString:t,aClass:l},smalltalk.Environment)})},messageSends:["do:","removeCompiledMethod:","select:","=","protocol","methods"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"renameClass:to:",fn:function(t,l){var a=this;function e(){return smalltalk.Smalltalk||(typeof Smalltalk=="undefined"?nil:Smalltalk)}function s(){return smalltalk.ClassBuilder||(typeof ClassBuilder=="undefined"?nil:ClassBuilder)}return smalltalk.withContext(function(n){var o;o=_st(_st(e())._current())._at_(l);if(($receiver=o)==nil||$receiver==undefined){o}else{_st(a)._error_(_st(_st("A class named ").__comma(l)).__comma(" already exists"))}_st(_st(s())._new())._renameClass_to_(t,l);return a},function(e){e.fill(a,"renameClass:to:",{aClass:t,aClassName:l},smalltalk.HLEnvironment)})},messageSends:["ifNotNil:","error:",",","at:","current","renameClass:to:","new"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"renameProtocol:to:in:",fn:function(t,l,a){var e=this;return smalltalk.withContext(function(s){_st(_st(_st(a)._methods())._select_(function(l){return smalltalk.withContext(function(a){return _st(_st(l)._protocol()).__eq(t)},function(t){t.fillBlock({each:l},s)})}))._do_(function(t){return smalltalk.withContext(function(a){return _st(t)._protocol_(l)},function(l){l.fillBlock({each:t},s)})});return e},function(s){s.fill(e,"renameProtocol:to:in:",{aString:t,anotherString:l,aClass:a},smalltalk.Environment)})},messageSends:["do:","protocol:","select:","=","protocol","methods"]}),smalltalk.Environment);smalltalk.addMethod(smalltalk.method({selector:"systemAnnouncer",fn:function(){var t=this;function l(){return smalltalk.Smalltalk||(typeof Smalltalk=="undefined"?nil:Smalltalk)}return smalltalk.withContext(function(t){var a;a=_st(_st(_st(l())._current())._at_("SystemAnnouncer"))._current();return a},function(l){l.fill(t,"systemAnnouncer",{},smalltalk.Environment)})},messageSends:["current","at:"]}),smalltalk.Environment);smalltalk.addClass("JSObjectProxy",smalltalk.Object,["jsObject"],"Kernel-Objects");smalltalk.addMethod(smalltalk.method({selector:"addObjectVariablesTo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){for(var e in l["@jsObject"]){t._at_put_(e,l["@jsObject"][e])}return l},function(a){a.fill(l,"addObjectVariablesTo:",{aDictionary:t},smalltalk.JSObjectProxy)})},messageSends:[]}),smalltalk.JSObjectProxy);smalltalk.addMethod(smalltalk.method({selector:"at:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l["@jsObject"][t];return l},function(a){a.fill(l,"at:",{aString:t},smalltalk.JSObjectProxy)})},messageSends:[]}),smalltalk.JSObjectProxy);smalltalk.addMethod(smalltalk.method({selector:"at:ifAbsent:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s=a["@jsObject"];return t in s?s[t]:l();return a},function(e){e.fill(a,"at:ifAbsent:",{aString:t,aBlock:l},smalltalk.JSObjectProxy)})},messageSends:[]}),smalltalk.JSObjectProxy);smalltalk.addMethod(smalltalk.method({selector:"at:ifPresent:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s=a["@jsObject"];return t in s?l(s[t]):nil;return a},function(e){e.fill(a,"at:ifPresent:",{aString:t,aBlock:l},smalltalk.JSObjectProxy)})},messageSends:[]}),smalltalk.JSObjectProxy);smalltalk.addMethod(smalltalk.method({selector:"at:ifPresent:ifAbsent:",fn:function(t,l,a){var e=this;return smalltalk.withContext(function(s){var n=e["@jsObject"];return t in n?l(n[t]):a();return e},function(s){s.fill(e,"at:ifPresent:ifAbsent:",{aString:t,aBlock:l,anotherBlock:a},smalltalk.JSObjectProxy)})},messageSends:[]}),smalltalk.JSObjectProxy);smalltalk.addMethod(smalltalk.method({selector:"at:put:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){a["@jsObject"][t]=l;return a},function(e){e.fill(a,"at:put:",{aString:t,anObject:l},smalltalk.JSObjectProxy)})},messageSends:[]}),smalltalk.JSObjectProxy);smalltalk.addMethod(smalltalk.method({selector:"doesNotUnderstand:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;e=_st(l)._lookupProperty_(_st(_st(t)._selector())._asJavaScriptSelector());if(($receiver=e)==nil||$receiver==undefined){s=smalltalk.Object.fn.prototype._doesNotUnderstand_.apply(_st(l),[t])}else{var n;n=$receiver;s=_st(l)._forwardMessage_withArguments_(n,_st(t)._arguments())}return s},function(a){a.fill(l,"doesNotUnderstand:",{aMessage:t},smalltalk.JSObjectProxy)})},messageSends:["ifNil:ifNotNil:","doesNotUnderstand:","forwardMessage:withArguments:","arguments","lookupProperty:","asJavaScriptSelector","selector"]}),smalltalk.JSObjectProxy);smalltalk.addMethod(smalltalk.method({selector:"forwardMessage:withArguments:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){return smalltalk.send(a._jsObject(),t,l);return a},function(e){e.fill(a,"forwardMessage:withArguments:",{aString:t,anArray:l},smalltalk.JSObjectProxy)})},messageSends:[]}),smalltalk.JSObjectProxy);smalltalk.addMethod(smalltalk.method({selector:"inspectOn:",fn:function(t){var l=this;var a;function e(){return smalltalk.Dictionary||(typeof Dictionary=="undefined"?nil:Dictionary)}return smalltalk.withContext(function(s){a=_st(e())._new();_st(a)._at_put_("#self",_st(l)._jsObject());_st(t)._setLabel_(_st(l)._printString());_st(l)._addObjectVariablesTo_(a);_st(t)._setVariables_(a);return l},function(e){e.fill(l,"inspectOn:",{anInspector:t,variables:a},smalltalk.JSObjectProxy)})},messageSends:["new","at:put:","jsObject","setLabel:","printString","addObjectVariablesTo:","setVariables:"]}),smalltalk.JSObjectProxy);smalltalk.addMethod(smalltalk.method({selector:"jsObject",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@jsObject"];return a},function(l){l.fill(t,"jsObject",{},smalltalk.JSObjectProxy)})},messageSends:[]}),smalltalk.JSObjectProxy);smalltalk.addMethod(smalltalk.method({selector:"jsObject:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@jsObject"]=t;return l},function(a){a.fill(l,"jsObject:",{aJSObject:t},smalltalk.JSObjectProxy)})},messageSends:[]}),smalltalk.JSObjectProxy);smalltalk.addMethod(smalltalk.method({selector:"keysAndValuesDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e=l["@jsObject"];for(var s in e){t(s,e[s])}return l},function(a){a.fill(l,"keysAndValuesDo:",{aBlock:t},smalltalk.JSObjectProxy)})},messageSends:[]}),smalltalk.JSObjectProxy);smalltalk.addMethod(smalltalk.method({selector:"lookupProperty:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return t in l._jsObject()?t:nil;return l},function(a){a.fill(l,"lookupProperty:",{aString:t},smalltalk.JSObjectProxy)})},messageSends:[]}),smalltalk.JSObjectProxy);smalltalk.addMethod(smalltalk.method({selector:"printOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(t)._nextPutAll_(_st(_st(l)._jsObject())._toString());return l},function(a){a.fill(l,"printOn:",{aStream:t},smalltalk.JSObjectProxy)})},messageSends:["nextPutAll:","toString","jsObject"]}),smalltalk.JSObjectProxy);smalltalk.addMethod(smalltalk.method({selector:"value",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;
a=_st(t)._at_ifAbsent_("value",function(){return smalltalk.withContext(function(l){return smalltalk.Object.fn.prototype._value.apply(_st(t),[])},function(t){t.fillBlock({},l)})});return a},function(l){l.fill(t,"value",{},smalltalk.JSObjectProxy)})},messageSends:["at:ifAbsent:","value"]}),smalltalk.JSObjectProxy);smalltalk.addMethod(smalltalk.method({selector:"on:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=_st(l)._new();_st(e)._jsObject_(t);s=_st(e)._yourself();n=s;return n},function(a){a.fill(l,"on:",{aJSObject:t},smalltalk.JSObjectProxy.klass)})},messageSends:["jsObject:","new","yourself"]}),smalltalk.JSObjectProxy.klass);smalltalk.addClass("Number",smalltalk.Object,[],"Kernel-Objects");smalltalk.addMethod(smalltalk.method({selector:"&",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l&t;return l},function(a){a.fill(l,"&",{aNumber:t},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"*",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l*t;return l},function(a){a.fill(l,"*",{aNumber:t},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"+",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l+t;return l},function(a){a.fill(l,"+",{aNumber:t},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"-",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l-t;return l},function(a){a.fill(l,"-",{aNumber:t},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"/",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l/t;return l},function(a){a.fill(l,"/",{aNumber:t},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"<",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l<t;return l},function(a){a.fill(l,"<",{aNumber:t},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"<=",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l<=t;return l},function(a){a.fill(l,"<=",{aNumber:t},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"=",fn:function(t){var l=this;return smalltalk.withContext(function(a){if(!t._isNumber||!t._isNumber()){return false}return Number(l)==t;return l},function(a){a.fill(l,"=",{aNumber:t},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:">",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l>t;return l},function(a){a.fill(l,">",{aNumber:t},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:">=",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l>=t;return l},function(a){a.fill(l,">=",{aNumber:t},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"@",fn:function(t){var l=this;function a(){return smalltalk.Point||(typeof Point=="undefined"?nil:Point)}return smalltalk.withContext(function(e){var s;s=_st(a())._x_y_(l,t);return s},function(a){a.fill(l,"@",{aNumber:t},smalltalk.Number)})},messageSends:["x:y:"]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"IsImmutable",fn:function(){var t=this;return smalltalk.withContext(function(t){return true},function(l){l.fill(t,"IsImmutable",{},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"\\\\",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l%t;return l},function(a){a.fill(l,"\\\\",{aNumber:t},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"abs",fn:function(){var t=this;return smalltalk.withContext(function(l){return Math.abs(t);return t},function(l){l.fill(t,"abs",{},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"asJSON",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t;return a},function(l){l.fill(t,"asJSON",{},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"asJavascript",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st("(").__comma(_st(t)._printString())).__comma(")");return a},function(l){l.fill(t,"asJavascript",{},smalltalk.Number)})},messageSends:[",","printString"]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"asPoint",fn:function(){var t=this;function l(){return smalltalk.Point||(typeof Point=="undefined"?nil:Point)}return smalltalk.withContext(function(a){var e;e=_st(l())._x_y_(t,t);return e},function(l){l.fill(t,"asPoint",{},smalltalk.Number)})},messageSends:["x:y:"]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"asString",fn:function(){var t=this;return smalltalk.withContext(function(l){return String(t);return t},function(l){l.fill(t,"asString",{},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"atRandom",fn:function(){var t=this;function l(){return smalltalk.Random||(typeof Random=="undefined"?nil:Random)}return smalltalk.withContext(function(a){var e;e=_st(_st(_st(_st(_st(l())._new())._next()).__star(t))._truncated()).__plus(1);return e},function(l){l.fill(t,"atRandom",{},smalltalk.Number)})},messageSends:["+","truncated","*","next","new"]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"copy",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t;return a},function(l){l.fill(t,"copy",{},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"deepCopy",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._copy();return a},function(l){l.fill(t,"deepCopy",{},smalltalk.Number)})},messageSends:["copy"]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"even",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(0).__eq(_st(t).__backslash_backslash(2));return a},function(l){l.fill(t,"even",{},smalltalk.Number)})},messageSends:["=","\\\\"]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"identityHash",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._asString()).__comma("n");return a},function(l){l.fill(t,"identityHash",{},smalltalk.Number)})},messageSends:[",","asString"]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"isNumber",fn:function(){var t=this;return smalltalk.withContext(function(t){return true},function(l){l.fill(t,"isNumber",{},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"isZero",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t).__eq(0);return a},function(l){l.fill(t,"isZero",{},smalltalk.Number)})},messageSends:["="]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"max:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return Math.max(l,t);return l},function(a){a.fill(l,"max:",{aNumber:t},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"min:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return Math.min(l,t);return l},function(a){a.fill(l,"min:",{aNumber:t},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"negated",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(0).__minus(t);return a},function(l){l.fill(t,"negated",{},smalltalk.Number)})},messageSends:["-"]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"negative",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t).__lt(0);return a},function(l){l.fill(t,"negative",{},smalltalk.Number)})},messageSends:["<"]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"odd",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._even())._not();return a},function(l){l.fill(t,"odd",{},smalltalk.Number)})},messageSends:["not","even"]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"positive",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t).__gt_eq(0);return a},function(l){l.fill(t,"positive",{},smalltalk.Number)})},messageSends:[">="]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"printOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(t)._nextPutAll_(_st(l)._asString());return l},function(a){a.fill(l,"printOn:",{aStream:t},smalltalk.Number)})},messageSends:["nextPutAll:","asString"]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"printShowingDecimalPlaces:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l.toFixed(t);return l},function(a){a.fill(l,"printShowingDecimalPlaces:",{placesDesired:t},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"rounded",fn:function(){var t=this;return smalltalk.withContext(function(l){return Math.round(t);return t},function(l){l.fill(t,"rounded",{},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"sqrt",fn:function(){var t=this;return smalltalk.withContext(function(l){return Math.sqrt(t);return t},function(l){l.fill(t,"sqrt",{},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"squared",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t).__star(t);return a},function(l){l.fill(t,"squared",{},smalltalk.Number)})},messageSends:["*"]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"timesRepeat:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){a=1;_st(function(){return smalltalk.withContext(function(t){return _st(a).__gt(l)},function(t){t.fillBlock({},e)})})._whileFalse_(function(){return smalltalk.withContext(function(l){_st(t)._value();a=_st(a).__plus(1);return a},function(t){t.fillBlock({},e)})});return l},function(e){e.fill(l,"timesRepeat:",{aBlock:t,count:a},smalltalk.Number)})},messageSends:["whileFalse:","value","+",">"]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"to:",fn:function(t){var l=this;var a,e,s,n;function o(){return smalltalk.Array||(typeof Array=="undefined"?nil:Array)}return smalltalk.withContext(function(r){var i;e=_st(l)._truncated();s=_st(_st(t)._truncated()).__plus(1);n=1;a=_st(o())._new();_st(_st(s).__minus(e))._timesRepeat_(function(){return smalltalk.withContext(function(t){_st(a)._at_put_(n,e);n=_st(n).__plus(1);n;e=_st(e).__plus(1);return e},function(t){t.fillBlock({},r)})});i=a;return i},function(o){o.fill(l,"to:",{aNumber:t,array:a,first:e,last:s,count:n},smalltalk.Number)})},messageSends:["truncated","+","new","timesRepeat:","at:put:","-"]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"to:by:",fn:function(t,l){var a=this;var e,s,n;function o(){return smalltalk.Array||(typeof Array=="undefined"?nil:Array)}return smalltalk.withContext(function(r){var i,m,u;s=a;e=_st(o())._new();n=1;i=_st(l).__eq(0);if(smalltalk.assert(i)){_st(a)._error_("step must be non-zero")}m=_st(l).__lt(0);if(smalltalk.assert(m)){_st(function(){return smalltalk.withContext(function(l){return _st(s).__gt_eq(t)},function(t){t.fillBlock({},r)})})._whileTrue_(function(){return smalltalk.withContext(function(t){_st(e)._at_put_(n,s);n=_st(n).__plus(1);n;s=_st(s).__plus(l);return s},function(t){t.fillBlock({},r)})})}else{_st(function(){return smalltalk.withContext(function(l){return _st(s).__lt_eq(t)},function(t){t.fillBlock({},r)})})._whileTrue_(function(){return smalltalk.withContext(function(t){_st(e)._at_put_(n,s);n=_st(n).__plus(1);n;s=_st(s).__plus(l);return s},function(t){t.fillBlock({},r)})})}u=e;return u},function(o){o.fill(a,"to:by:",{stop:t,step:l,array:e,value:s,pos:n},smalltalk.Number)})},messageSends:["new","ifTrue:","error:","=","ifTrue:ifFalse:","whileTrue:","at:put:","+",">=","<=","<"]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"to:by:do:",fn:function(t,l,a){var e=this;var s;return smalltalk.withContext(function(n){var o,r;s=e;o=_st(l).__eq(0);if(smalltalk.assert(o)){_st(e)._error_("step must be non-zero")}r=_st(l).__lt(0);if(smalltalk.assert(r)){_st(function(){return smalltalk.withContext(function(l){return _st(s).__gt_eq(t)},function(t){t.fillBlock({},n)})})._whileTrue_(function(){return smalltalk.withContext(function(t){_st(a)._value_(s);s=_st(s).__plus(l);return s},function(t){t.fillBlock({},n)})})}else{_st(function(){return smalltalk.withContext(function(l){return _st(s).__lt_eq(t)},function(t){t.fillBlock({},n)})})._whileTrue_(function(){return smalltalk.withContext(function(t){_st(a)._value_(s);s=_st(s).__plus(l);return s},function(t){t.fillBlock({},n)})})}return e},function(n){n.fill(e,"to:by:do:",{stop:t,step:l,aBlock:a,value:s},smalltalk.Number)})},messageSends:["ifTrue:","error:","=","ifTrue:ifFalse:","whileTrue:","value:","+",">=","<=","<"]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"to:do:",fn:function(t,l){var a=this;var e;return smalltalk.withContext(function(s){e=a;_st(function(){return smalltalk.withContext(function(l){return _st(e).__lt_eq(t)},function(t){t.fillBlock({},s)})})._whileTrue_(function(){return smalltalk.withContext(function(t){_st(l)._value_(e);e=_st(e).__plus(1);return e},function(t){t.fillBlock({},s)})});return a},function(s){s.fill(a,"to:do:",{stop:t,aBlock:l,nextValue:e},smalltalk.Number)})},messageSends:["whileTrue:","value:","+","<="]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"truncated",fn:function(){var t=this;return smalltalk.withContext(function(l){if(t>=0){return Math.floor(t)}else{return Math.floor(t*-1)*-1}return t},function(l){l.fill(t,"truncated",{},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"|",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l|t;return l},function(a){a.fill(l,"|",{aNumber:t},smalltalk.Number)})},messageSends:[]}),smalltalk.Number);smalltalk.addMethod(smalltalk.method({selector:"pi",fn:function(){var t=this;return smalltalk.withContext(function(l){return Math.PI;return t},function(l){l.fill(t,"pi",{},smalltalk.Number.klass)})},messageSends:[]}),smalltalk.Number.klass);smalltalk.addClass("Organizer",smalltalk.Object,[],"Kernel-Objects");smalltalk.addMethod(smalltalk.method({selector:"addElement:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l.elements.addElement(t);return l},function(a){a.fill(l,"addElement:",{anObject:t},smalltalk.Organizer)})},messageSends:[]}),smalltalk.Organizer);smalltalk.addMethod(smalltalk.method({selector:"elements",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._basicAt_("elements"))._copy();return a},function(l){l.fill(t,"elements",{},smalltalk.Organizer)})},messageSends:["copy","basicAt:"]}),smalltalk.Organizer);smalltalk.addMethod(smalltalk.method({selector:"removeElement:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l.elements.removeElement(t);return l},function(a){a.fill(l,"removeElement:",{anObject:t},smalltalk.Organizer)})},messageSends:[]}),smalltalk.Organizer);smalltalk.addClass("ClassOrganizer",smalltalk.Organizer,[],"Kernel-Objects");smalltalk.addMethod(smalltalk.method({selector:"addElement:",fn:function(t){var l=this;function a(){return smalltalk.ProtocolAdded||(typeof ProtocolAdded=="undefined"?nil:ProtocolAdded)}function e(){return smalltalk.SystemAnnouncer||(typeof SystemAnnouncer=="undefined"?nil:SystemAnnouncer)}return smalltalk.withContext(function(s){var n,o;smalltalk.Organizer.fn.prototype._addElement_.apply(_st(l),[t]);n=_st(a())._new();_st(n)._protocol_(t);_st(n)._theClass_(_st(l)._theClass());o=_st(n)._yourself();_st(_st(e())._current())._announce_(o);return l},function(a){a.fill(l,"addElement:",{aString:t},smalltalk.ClassOrganizer)})},messageSends:["addElement:","announce:","protocol:","new","theClass:","theClass","yourself","current"]}),smalltalk.ClassOrganizer);smalltalk.addMethod(smalltalk.method({selector:"removeElement:",fn:function(t){var l=this;function a(){return smalltalk.ProtocolRemoved||(typeof ProtocolRemoved=="undefined"?nil:ProtocolRemoved)}function e(){return smalltalk.SystemAnnouncer||(typeof SystemAnnouncer=="undefined"?nil:SystemAnnouncer)}return smalltalk.withContext(function(s){var n,o;smalltalk.Organizer.fn.prototype._removeElement_.apply(_st(l),[t]);n=_st(a())._new();_st(n)._protocol_(t);_st(n)._theClass_(_st(l)._theClass());o=_st(n)._yourself();_st(_st(e())._current())._announce_(o);return l},function(a){a.fill(l,"removeElement:",{aString:t},smalltalk.ClassOrganizer)})},messageSends:["removeElement:","announce:","protocol:","new","theClass:","theClass","yourself","current"]}),smalltalk.ClassOrganizer);smalltalk.addMethod(smalltalk.method({selector:"theClass",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.theClass;return t},function(l){l.fill(t,"theClass",{},smalltalk.ClassOrganizer)})},messageSends:[]}),smalltalk.ClassOrganizer);smalltalk.addClass("PackageOrganizer",smalltalk.Organizer,[],"Kernel-Objects");smalltalk.addClass("Package",smalltalk.Object,["commitPathJs","commitPathSt"],"Kernel-Objects");smalltalk.addMethod(smalltalk.method({selector:"classes",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._organization())._elements();return a},function(l){l.fill(t,"classes",{},smalltalk.Package)})},messageSends:["elements","organization"]}),smalltalk.Package);smalltalk.addMethod(smalltalk.method({selector:"commitPathJs",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@commitPathJs"];if(($receiver=a)==nil||$receiver==undefined){e=_st(_st(t)._class())._defaultCommitPathJs()}else{e=a}return e},function(l){l.fill(t,"commitPathJs",{},smalltalk.Package)})},messageSends:["ifNil:","defaultCommitPathJs","class"]}),smalltalk.Package);smalltalk.addMethod(smalltalk.method({selector:"commitPathJs:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@commitPathJs"]=t;return l},function(a){a.fill(l,"commitPathJs:",{aString:t},smalltalk.Package)})},messageSends:[]}),smalltalk.Package);smalltalk.addMethod(smalltalk.method({selector:"commitPathSt",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@commitPathSt"];if(($receiver=a)==nil||$receiver==undefined){e=_st(_st(t)._class())._defaultCommitPathSt()}else{e=a}return e},function(l){l.fill(t,"commitPathSt",{},smalltalk.Package)})},messageSends:["ifNil:","defaultCommitPathSt","class"]}),smalltalk.Package);smalltalk.addMethod(smalltalk.method({selector:"commitPathSt:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@commitPathSt"]=t;return l},function(a){a.fill(l,"commitPathSt:",{aString:t},smalltalk.Package)})},messageSends:[]}),smalltalk.Package);smalltalk.addMethod(smalltalk.method({selector:"isPackage",fn:function(){var t=this;return smalltalk.withContext(function(t){return true},function(l){l.fill(t,"isPackage",{},smalltalk.Package)})},messageSends:[]}),smalltalk.Package);smalltalk.addMethod(smalltalk.method({selector:"name",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.pkgName;return t},function(l){l.fill(t,"name",{},smalltalk.Package)})},messageSends:[]}),smalltalk.Package);smalltalk.addMethod(smalltalk.method({selector:"name:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l.pkgName=t;return l},function(a){a.fill(l,"name:",{aString:t},smalltalk.Package)})},messageSends:[]}),smalltalk.Package);smalltalk.addMethod(smalltalk.method({selector:"organization",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._basicAt_("organization");return a},function(l){l.fill(t,"organization",{},smalltalk.Package)})},messageSends:["basicAt:"]}),smalltalk.Package);smalltalk.addMethod(smalltalk.method({selector:"printOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;smalltalk.Object.fn.prototype._printOn_.apply(_st(l),[t]);e=t;_st(e)._nextPutAll_(" (");_st(e)._nextPutAll_(_st(l)._name());s=_st(e)._nextPutAll_(")");return l},function(a){a.fill(l,"printOn:",{aStream:t},smalltalk.Package)})},messageSends:["printOn:","nextPutAll:","name"]}),smalltalk.Package);smalltalk.addMethod(smalltalk.method({selector:"setupClasses",fn:function(){var t=this;function l(){return smalltalk.ClassBuilder||(typeof ClassBuilder=="undefined"?nil:ClassBuilder)}return smalltalk.withContext(function(a){var e,s;e=_st(t)._classes();_st(e)._do_(function(t){return smalltalk.withContext(function(a){return _st(_st(l())._new())._setupClass_(t)},function(l){l.fillBlock({each:t},a)})});s=_st(e)._do_(function(t){return smalltalk.withContext(function(l){return _st(t)._initialize()},function(l){l.fillBlock({each:t},a)})});return t},function(l){l.fill(t,"setupClasses",{},smalltalk.Package)})},messageSends:["do:","setupClass:","new","classes","initialize"]}),smalltalk.Package);smalltalk.addMethod(smalltalk.method({selector:"sortedClasses",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._class())._sortedClasses_(_st(t)._classes());return a},function(l){l.fill(t,"sortedClasses",{},smalltalk.Package)})},messageSends:["sortedClasses:","classes","class"]}),smalltalk.Package);smalltalk.Package.klass.iVarNames=["defaultCommitPathJs","defaultCommitPathSt"];smalltalk.addMethod(smalltalk.method({selector:"commitPathsFromLoader",fn:function(){var t=this;return smalltalk.withContext(function(l){var a=typeof amber!=="undefined"&&amber.commitPath;if(!a)return;if(a.js)t._defaultCommitPathJs_(a.js);if(a.st)t._defaultCommitPathSt_(a.st);return t},function(l){l.fill(t,"commitPathsFromLoader",{},smalltalk.Package.klass)})},messageSends:[]}),smalltalk.Package.klass);smalltalk.addMethod(smalltalk.method({selector:"defaultCommitPathJs",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@defaultCommitPathJs"];if(($receiver=a)==nil||$receiver==undefined){t["@defaultCommitPathJs"]="js";e=t["@defaultCommitPathJs"]}else{e=a}return e},function(l){l.fill(t,"defaultCommitPathJs",{},smalltalk.Package.klass)})},messageSends:["ifNil:"]}),smalltalk.Package.klass);smalltalk.addMethod(smalltalk.method({selector:"defaultCommitPathJs:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@defaultCommitPathJs"]=t;return l},function(a){a.fill(l,"defaultCommitPathJs:",{aString:t},smalltalk.Package.klass)})},messageSends:[]}),smalltalk.Package.klass);smalltalk.addMethod(smalltalk.method({selector:"defaultCommitPathSt",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@defaultCommitPathSt"];if(($receiver=a)==nil||$receiver==undefined){t["@defaultCommitPathSt"]="st";e=t["@defaultCommitPathSt"]}else{e=a}return e},function(l){l.fill(t,"defaultCommitPathSt",{},smalltalk.Package.klass)})},messageSends:["ifNil:"]}),smalltalk.Package.klass);smalltalk.addMethod(smalltalk.method({selector:"defaultCommitPathSt:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@defaultCommitPathSt"]=t;return l},function(a){a.fill(l,"defaultCommitPathSt:",{aString:t},smalltalk.Package.klass)})},messageSends:[]}),smalltalk.Package.klass);smalltalk.addMethod(smalltalk.method({selector:"initialize",fn:function(){var t=this;return smalltalk.withContext(function(l){smalltalk.Object.klass.fn.prototype._initialize.apply(_st(t),[]);_st(t)._commitPathsFromLoader();return t},function(l){l.fill(t,"initialize",{},smalltalk.Package.klass)})},messageSends:["initialize","commitPathsFromLoader"]}),smalltalk.Package.klass);smalltalk.addMethod(smalltalk.method({selector:"load:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._load_prefix_(t,_st(_st(l)._defaultCommitPathJs()).__comma("/"));return l},function(a){a.fill(l,"load:",{aPackageName:t},smalltalk.Package.klass)})},messageSends:["load:prefix:",",","defaultCommitPathJs"]}),smalltalk.Package.klass);smalltalk.addMethod(smalltalk.method({selector:"load:prefix:",fn:function(t,l){var a=this;function e(){return smalltalk.Package||(typeof Package=="undefined"?nil:Package)}return smalltalk.withContext(function(s){_st(jQuery)._getScript_onSuccess_(_st(_st(l).__comma(t)).__comma(".js"),function(){return smalltalk.withContext(function(l){return _st(_st(e())._named_(t))._setupClasses()},function(t){t.fillBlock({},s)})});return a},function(e){e.fill(a,"load:prefix:",{aPackageName:t,aPrefix:l},smalltalk.Package.klass)})},messageSends:["getScript:onSuccess:",",","setupClasses","named:"]}),smalltalk.Package.klass);smalltalk.addMethod(smalltalk.method({selector:"named:",fn:function(t){var l=this;function a(){return smalltalk.Smalltalk||(typeof Smalltalk=="undefined"?nil:Smalltalk)}return smalltalk.withContext(function(l){var e;e=_st(_st(a())._current())._packageAt_(t);return e},function(a){a.fill(l,"named:",{aPackageName:t},smalltalk.Package.klass)})},messageSends:["packageAt:","current"]}),smalltalk.Package.klass);smalltalk.addMethod(smalltalk.method({selector:"named:ifAbsent:",fn:function(t,l){var a=this;function e(){return smalltalk.Smalltalk||(typeof Smalltalk=="undefined"?nil:Smalltalk)}return smalltalk.withContext(function(a){var s;s=_st(_st(e())._current())._packageAt_ifAbsent_(t,l);return s},function(e){e.fill(a,"named:ifAbsent:",{aPackageName:t,aBlock:l},smalltalk.Package.klass)})},messageSends:["packageAt:ifAbsent:","current"]}),smalltalk.Package.klass);smalltalk.addMethod(smalltalk.method({selector:"resetCommitPaths",fn:function(){var t=this;return smalltalk.withContext(function(l){t["@defaultCommitPathJs"]=nil;t["@defaultCommitPathSt"]=nil;return t},function(l){l.fill(t,"resetCommitPaths",{},smalltalk.Package.klass)})},messageSends:[]}),smalltalk.Package.klass);smalltalk.addMethod(smalltalk.method({selector:"sortedClasses:",fn:function(t){var l=this;var a,e,s,n;function o(){return smalltalk.ClassSorterNode||(typeof ClassSorterNode=="undefined"?nil:ClassSorterNode)}function r(){return smalltalk.Array||(typeof Array=="undefined"?nil:Array)}return smalltalk.withContext(function(l){var i,m;a=[];e=[];_st(t)._do_(function(s){return smalltalk.withContext(function(l){i=_st(t)._includes_(_st(s)._superclass());if(smalltalk.assert(i)){return _st(e)._add_(s)}else{return _st(a)._add_(s)}},function(t){t.fillBlock({each:s},l)})});s=_st(a)._collect_(function(t){return smalltalk.withContext(function(l){return _st(o())._on_classes_level_(t,e,0)},function(a){a.fillBlock({each:t},l)})});s=_st(s)._sorted_(function(t,a){return smalltalk.withContext(function(l){return _st(_st(_st(t)._theClass())._name()).__lt_eq(_st(_st(a)._theClass())._name())},function(e){e.fillBlock({a:t,b:a},l)})});n=_st(r())._new();_st(s)._do_(function(t){return smalltalk.withContext(function(l){return _st(t)._traverseClassesWith_(n)},function(a){a.fillBlock({aNode:t},l)})});m=n;return m},function(o){o.fill(l,"sortedClasses:",{classes:t,children:a,others:e,nodes:s,expandedClasses:n},smalltalk.Package.klass)})},messageSends:["do:","ifFalse:ifTrue:","add:","includes:","superclass","collect:","on:classes:level:","sorted:","<=","name","theClass","new","traverseClassesWith:"]}),smalltalk.Package.klass);smalltalk.addClass("Point",smalltalk.Object,["x","y"],"Kernel-Objects");smalltalk.addMethod(smalltalk.method({selector:"*",fn:function(t){var l=this;function a(){return smalltalk.Point||(typeof Point=="undefined"?nil:Point)}return smalltalk.withContext(function(e){var s;s=_st(a())._x_y_(_st(_st(l)._x()).__star(_st(_st(t)._asPoint())._x()),_st(_st(l)._y()).__star(_st(_st(t)._asPoint())._y()));return s},function(a){a.fill(l,"*",{aPoint:t},smalltalk.Point)})},messageSends:["x:y:","*","x","asPoint","y"]}),smalltalk.Point);smalltalk.addMethod(smalltalk.method({selector:"+",fn:function(t){var l=this;function a(){return smalltalk.Point||(typeof Point=="undefined"?nil:Point)}return smalltalk.withContext(function(e){var s;s=_st(a())._x_y_(_st(_st(l)._x()).__plus(_st(_st(t)._asPoint())._x()),_st(_st(l)._y()).__plus(_st(_st(t)._asPoint())._y()));return s},function(a){a.fill(l,"+",{aPoint:t},smalltalk.Point)})},messageSends:["x:y:","+","x","asPoint","y"]}),smalltalk.Point);smalltalk.addMethod(smalltalk.method({selector:"-",fn:function(t){var l=this;function a(){return smalltalk.Point||(typeof Point=="undefined"?nil:Point)}return smalltalk.withContext(function(e){var s;s=_st(a())._x_y_(_st(_st(l)._x()).__minus(_st(_st(t)._asPoint())._x()),_st(_st(l)._y()).__minus(_st(_st(t)._asPoint())._y()));return s},function(a){a.fill(l,"-",{aPoint:t},smalltalk.Point)})},messageSends:["x:y:","-","x","asPoint","y"]}),smalltalk.Point);smalltalk.addMethod(smalltalk.method({selector:"/",fn:function(t){var l=this;function a(){return smalltalk.Point||(typeof Point=="undefined"?nil:Point)}return smalltalk.withContext(function(e){var s;s=_st(a())._x_y_(_st(_st(l)._x()).__slash(_st(_st(t)._asPoint())._x()),_st(_st(l)._y()).__slash(_st(_st(t)._asPoint())._y()));return s},function(a){a.fill(l,"/",{aPoint:t},smalltalk.Point)})},messageSends:["x:y:","/","x","asPoint","y"]}),smalltalk.Point);smalltalk.addMethod(smalltalk.method({selector:"=",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(_st(t)._class()).__eq(_st(l)._class()))._and_(function(){return smalltalk.withContext(function(a){return _st(_st(_st(t)._x()).__eq(_st(l)._x())).__and(_st(_st(t)._y()).__eq(_st(l)._y()))},function(t){t.fillBlock({},a)})});return e},function(a){a.fill(l,"=",{aPoint:t},smalltalk.Point)})},messageSends:["and:","&","=","y","x","class"]}),smalltalk.Point);smalltalk.addMethod(smalltalk.method({selector:"asPoint",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t;return a},function(l){l.fill(t,"asPoint",{},smalltalk.Point)})},messageSends:[]}),smalltalk.Point);smalltalk.addMethod(smalltalk.method({selector:"printOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;_st(l["@x"])._printOn_(t);_st(t)._nextPutAll_("@");e=_st(_st(l["@y"])._notNil())._and_(function(){return smalltalk.withContext(function(t){return _st(l["@y"])._negative()},function(t){t.fillBlock({},a)})});if(smalltalk.assert(e)){_st(t)._space()}_st(l["@y"])._printOn_(t);return l},function(a){a.fill(l,"printOn:",{aStream:t},smalltalk.Point)})},messageSends:["printOn:","nextPutAll:","ifTrue:","space","and:","negative","notNil"]}),smalltalk.Point);smalltalk.addMethod(smalltalk.method({selector:"translateBy:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(_st(t)._x()).__plus(l["@x"])).__at(_st(_st(t)._y()).__plus(l["@y"]));return e},function(a){a.fill(l,"translateBy:",{delta:t},smalltalk.Point)})},messageSends:["@","+","y","x"]}),smalltalk.Point);smalltalk.addMethod(smalltalk.method({selector:"x",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@x"];return a},function(l){l.fill(t,"x",{},smalltalk.Point)})},messageSends:[]}),smalltalk.Point);smalltalk.addMethod(smalltalk.method({selector:"x:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@x"]=t;return l},function(a){a.fill(l,"x:",{aNumber:t},smalltalk.Point)})},messageSends:[]}),smalltalk.Point);smalltalk.addMethod(smalltalk.method({selector:"y",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@y"];return a},function(l){l.fill(t,"y",{},smalltalk.Point)})},messageSends:[]}),smalltalk.Point);smalltalk.addMethod(smalltalk.method({selector:"y:",fn:function(t){var l=this;
return smalltalk.withContext(function(a){l["@y"]=t;return l},function(a){a.fill(l,"y:",{aNumber:t},smalltalk.Point)})},messageSends:[]}),smalltalk.Point);smalltalk.addMethod(smalltalk.method({selector:"x:y:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s,n,o;s=_st(a)._new();_st(s)._x_(t);_st(s)._y_(l);n=_st(s)._yourself();o=n;return o},function(e){e.fill(a,"x:y:",{aNumber:t,anotherNumber:l},smalltalk.Point.klass)})},messageSends:["x:","new","y:","yourself"]}),smalltalk.Point.klass);smalltalk.addClass("Random",smalltalk.Object,[],"Kernel-Objects");smalltalk.addMethod(smalltalk.method({selector:"next",fn:function(){var t=this;return smalltalk.withContext(function(l){return Math.random();return t},function(l){l.fill(t,"next",{},smalltalk.Random)})},messageSends:[]}),smalltalk.Random);smalltalk.addMethod(smalltalk.method({selector:"next:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(1)._to_(t))._collect_(function(t){return smalltalk.withContext(function(t){return _st(l)._next()},function(l){l.fillBlock({each:t},a)})});return e},function(a){a.fill(l,"next:",{anInteger:t},smalltalk.Random)})},messageSends:["collect:","next","to:"]}),smalltalk.Random);smalltalk.addClass("Smalltalk",smalltalk.Object,[],"Kernel-Objects");smalltalk.addMethod(smalltalk.method({selector:"asSmalltalkException:",fn:function(t){var l=this;function a(){return smalltalk.JavaScriptException||(typeof JavaScriptException=="undefined"?nil:JavaScriptException)}function e(){return smalltalk.Error||(typeof Error=="undefined"?nil:Error)}return smalltalk.withContext(function(s){var n,o;n=_st(_st(l)._isSmalltalkObject_(t))._and_(function(){return smalltalk.withContext(function(l){return _st(t)._isKindOf_(e())},function(t){t.fillBlock({},s)})});if(smalltalk.assert(n)){o=t}else{o=_st(a())._on_(t)}return o},function(a){a.fill(l,"asSmalltalkException:",{anObject:t},smalltalk.Smalltalk)})},messageSends:["ifTrue:ifFalse:","on:","and:","isKindOf:","isSmalltalkObject:"]}),smalltalk.Smalltalk);smalltalk.addMethod(smalltalk.method({selector:"at:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l[t];return l},function(a){a.fill(l,"at:",{aString:t},smalltalk.Smalltalk)})},messageSends:[]}),smalltalk.Smalltalk);smalltalk.addMethod(smalltalk.method({selector:"basicParse:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return smalltalk.parser.parse(t);return l},function(a){a.fill(l,"basicParse:",{aString:t},smalltalk.Smalltalk)})},messageSends:[]}),smalltalk.Smalltalk);smalltalk.addMethod(smalltalk.method({selector:"classes",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.classes();return t},function(l){l.fill(t,"classes",{},smalltalk.Smalltalk)})},messageSends:[]}),smalltalk.Smalltalk);smalltalk.addMethod(smalltalk.method({selector:"createPackage:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return smalltalk.addPackage(t);return l},function(a){a.fill(l,"createPackage:",{packageName:t},smalltalk.Smalltalk)})},messageSends:[]}),smalltalk.Smalltalk);smalltalk.addMethod(smalltalk.method({selector:"createPackage:properties:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s,n;_st(a)._deprecatedAPI();s=_st(l)._isEmpty();if(!smalltalk.assert(s)){_st(a)._error_("createPackage:properties: called with nonempty properties")}n=_st(a)._createPackage_(t);return n},function(e){e.fill(a,"createPackage:properties:",{packageName:t,aDict:l},smalltalk.Smalltalk)})},messageSends:["deprecatedAPI","ifFalse:","error:","isEmpty","createPackage:"]}),smalltalk.Smalltalk);smalltalk.addMethod(smalltalk.method({selector:"deleteClass:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l.removeClass(t);return l},function(a){a.fill(l,"deleteClass:",{aClass:t},smalltalk.Smalltalk)})},messageSends:[]}),smalltalk.Smalltalk);smalltalk.addMethod(smalltalk.method({selector:"deletePackage:",fn:function(t){var l=this;return smalltalk.withContext(function(a){delete smalltalk.packages[t];return l},function(a){a.fill(l,"deletePackage:",{packageName:t},smalltalk.Smalltalk)})},messageSends:[]}),smalltalk.Smalltalk);smalltalk.addMethod(smalltalk.method({selector:"isSmalltalkObject:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return typeof t.klass!=="undefined";return l},function(a){a.fill(l,"isSmalltalkObject:",{anObject:t},smalltalk.Smalltalk)})},messageSends:[]}),smalltalk.Smalltalk);smalltalk.addMethod(smalltalk.method({selector:"packageAt:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l.packages[t];return l},function(a){a.fill(l,"packageAt:",{packageName:t},smalltalk.Smalltalk)})},messageSends:[]}),smalltalk.Smalltalk);smalltalk.addMethod(smalltalk.method({selector:"packageAt:ifAbsent:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s,n;s=_st(a)._packageAt_(t);n=_st(s)._ifNil_(l);return n},function(e){e.fill(a,"packageAt:ifAbsent:",{packageName:t,aBlock:l},smalltalk.Smalltalk)})},messageSends:["ifNil:","packageAt:"]}),smalltalk.Smalltalk);smalltalk.addMethod(smalltalk.method({selector:"packages",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.packages.all();return t},function(l){l.fill(t,"packages",{},smalltalk.Smalltalk)})},messageSends:[]}),smalltalk.Smalltalk);smalltalk.addMethod(smalltalk.method({selector:"parse:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s;_st(l)._try_catch_(function(){return smalltalk.withContext(function(e){a=_st(l)._basicParse_(t);return a},function(t){t.fillBlock({},e)})},function(a){return smalltalk.withContext(function(e){return _st(_st(l)._parseError_parsing_(a,t))._signal()},function(t){t.fillBlock({ex:a},e)})});s=a;return s},function(e){e.fill(l,"parse:",{aString:t,result:a},smalltalk.Smalltalk)})},messageSends:["try:catch:","basicParse:","signal","parseError:parsing:"]}),smalltalk.Smalltalk);smalltalk.addMethod(smalltalk.method({selector:"parseError:parsing:",fn:function(t,l){var a=this;function e(){return smalltalk.ParseError||(typeof ParseError=="undefined"?nil:ParseError)}return smalltalk.withContext(function(l){var a;a=_st(_st(e())._new())._messageText_(_st(_st(_st(_st(_st("Parse error on line ").__comma(_st(t)._basicAt_("line"))).__comma(" column ")).__comma(_st(t)._basicAt_("column"))).__comma(" : Unexpected character ")).__comma(_st(t)._basicAt_("found")));return a},function(e){e.fill(a,"parseError:parsing:",{anException:t,aString:l},smalltalk.Smalltalk)})},messageSends:["messageText:",",","basicAt:","new"]}),smalltalk.Smalltalk);smalltalk.addMethod(smalltalk.method({selector:"pseudoVariableNames",fn:function(){var t=this;return smalltalk.withContext(function(t){var l;l=["self","super","nil","true","false","thisContext"];return l},function(l){l.fill(t,"pseudoVariableNames",{},smalltalk.Smalltalk)})},messageSends:[]}),smalltalk.Smalltalk);smalltalk.addMethod(smalltalk.method({selector:"readJSObject:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l.readJSObject(t);return l},function(a){a.fill(l,"readJSObject:",{anObject:t},smalltalk.Smalltalk)})},messageSends:[]}),smalltalk.Smalltalk);smalltalk.addMethod(smalltalk.method({selector:"removeClass:",fn:function(t){var l=this;function a(){return smalltalk.ClassRemoved||(typeof ClassRemoved=="undefined"?nil:ClassRemoved)}function e(){return smalltalk.SystemAnnouncer||(typeof SystemAnnouncer=="undefined"?nil:SystemAnnouncer)}return smalltalk.withContext(function(s){var n,o,r;n=_st(t)._isMetaclass();if(smalltalk.assert(n)){_st(l)._error_(_st(_st(t)._asString()).__comma(" is a Metaclass and cannot be removed!"))}_st(l)._deleteClass_(t);o=_st(a())._new();_st(o)._theClass_(t);r=_st(o)._yourself();_st(_st(e())._current())._announce_(r);return l},function(a){a.fill(l,"removeClass:",{aClass:t},smalltalk.Smalltalk)})},messageSends:["ifTrue:","error:",",","asString","isMetaclass","deleteClass:","announce:","theClass:","new","yourself","current"]}),smalltalk.Smalltalk);smalltalk.addMethod(smalltalk.method({selector:"removePackage:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){a=_st(l)._packageAt_ifAbsent_(t,function(){return smalltalk.withContext(function(a){return _st(l)._error_(_st("Missing package: ").__comma(t))},function(t){t.fillBlock({},e)})});_st(_st(a)._classes())._do_(function(t){return smalltalk.withContext(function(a){return _st(l)._removeClass_(t)},function(l){l.fillBlock({each:t},e)})});_st(l)._deletePackage_(t);return l},function(e){e.fill(l,"removePackage:",{packageName:t,pkg:a},smalltalk.Smalltalk)})},messageSends:["packageAt:ifAbsent:","error:",",","do:","removeClass:","classes","deletePackage:"]}),smalltalk.Smalltalk);smalltalk.addMethod(smalltalk.method({selector:"renamePackage:to:",fn:function(t,l){var a=this;var e;return smalltalk.withContext(function(s){var n;e=_st(a)._packageAt_ifAbsent_(t,function(){return smalltalk.withContext(function(l){return _st(a)._error_(_st("Missing package: ").__comma(t))},function(t){t.fillBlock({},s)})});n=_st(a)._packageAt_(l);if(($receiver=n)==nil||$receiver==undefined){n}else{_st(a)._error_(_st("Already exists a package called: ").__comma(l))}_st(_st(a)._basicAt_("packages"))._at_put_(l,e);_st(e)._name_(l);_st(a)._deletePackage_(t);return a},function(s){s.fill(a,"renamePackage:to:",{packageName:t,newName:l,pkg:e},smalltalk.Smalltalk)})},messageSends:["packageAt:ifAbsent:","error:",",","ifNotNil:","packageAt:","at:put:","basicAt:","name:","deletePackage:"]}),smalltalk.Smalltalk);smalltalk.addMethod(smalltalk.method({selector:"reservedWords",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.reservedWords;return t},function(l){l.fill(t,"reservedWords",{},smalltalk.Smalltalk)})},messageSends:[]}),smalltalk.Smalltalk);smalltalk.addMethod(smalltalk.method({selector:"version",fn:function(){var t=this;return smalltalk.withContext(function(t){return"0.10"},function(l){l.fill(t,"version",{},smalltalk.Smalltalk)})},messageSends:[]}),smalltalk.Smalltalk);smalltalk.Smalltalk.klass.iVarNames=["current"];smalltalk.addMethod(smalltalk.method({selector:"current",fn:function(){var t=this;return smalltalk.withContext(function(l){return smalltalk;return t},function(l){l.fill(t,"current",{},smalltalk.Smalltalk.klass)})},messageSends:[]}),smalltalk.Smalltalk.klass);smalltalk.addClass("Timeout",smalltalk.Object,["rawTimeout"],"Kernel-Objects");smalltalk.addMethod(smalltalk.method({selector:"clearInterval",fn:function(){var t=this;return smalltalk.withContext(function(l){var a=t["@rawTimeout"];clearInterval(a);return t},function(l){l.fill(t,"clearInterval",{},smalltalk.Timeout)})},messageSends:[]}),smalltalk.Timeout);smalltalk.addMethod(smalltalk.method({selector:"clearTimeout",fn:function(){var t=this;return smalltalk.withContext(function(l){var a=t["@rawTimeout"];clearTimeout(a);return t},function(l){l.fill(t,"clearTimeout",{},smalltalk.Timeout)})},messageSends:[]}),smalltalk.Timeout);smalltalk.addMethod(smalltalk.method({selector:"rawTimeout:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@rawTimeout"]=t;return l},function(a){a.fill(l,"rawTimeout:",{anObject:t},smalltalk.Timeout)})},messageSends:[]}),smalltalk.Timeout);smalltalk.addMethod(smalltalk.method({selector:"on:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=_st(l)._new();_st(e)._rawTimeout_(t);s=_st(e)._yourself();n=s;return n},function(a){a.fill(l,"on:",{anObject:t},smalltalk.Timeout.klass)})},messageSends:["rawTimeout:","new","yourself"]}),smalltalk.Timeout.klass);smalltalk.addClass("UndefinedObject",smalltalk.Object,[],"Kernel-Objects");smalltalk.addMethod(smalltalk.method({selector:"asJSON",fn:function(){var t=this;return smalltalk.withContext(function(t){var l;l=null;return l},function(l){l.fill(t,"asJSON",{},smalltalk.UndefinedObject)})},messageSends:[]}),smalltalk.UndefinedObject);smalltalk.addMethod(smalltalk.method({selector:"deepCopy",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t;return a},function(l){l.fill(t,"deepCopy",{},smalltalk.UndefinedObject)})},messageSends:[]}),smalltalk.UndefinedObject);smalltalk.addMethod(smalltalk.method({selector:"ifNil:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;e=l;s=_st(e)._ifNil_ifNotNil_(t,function(){return smalltalk.withContext(function(t){},function(t){t.fillBlock({},a)})});return s},function(a){a.fill(l,"ifNil:",{aBlock:t},smalltalk.UndefinedObject)})},messageSends:["ifNil:ifNotNil:"]}),smalltalk.UndefinedObject);smalltalk.addMethod(smalltalk.method({selector:"ifNil:ifNotNil:",fn:function(t,l){var a=this;return smalltalk.withContext(function(l){var a;a=_st(t)._value();return a},function(e){e.fill(a,"ifNil:ifNotNil:",{aBlock:t,anotherBlock:l},smalltalk.UndefinedObject)})},messageSends:["value"]}),smalltalk.UndefinedObject);smalltalk.addMethod(smalltalk.method({selector:"ifNotNil:",fn:function(t){var l=this;return smalltalk.withContext(function(t){var a;a=l;return a},function(a){a.fill(l,"ifNotNil:",{aBlock:t},smalltalk.UndefinedObject)})},messageSends:[]}),smalltalk.UndefinedObject);smalltalk.addMethod(smalltalk.method({selector:"ifNotNil:ifNil:",fn:function(t,l){var a=this;return smalltalk.withContext(function(t){var a;a=_st(l)._value();return a},function(e){e.fill(a,"ifNotNil:ifNil:",{aBlock:t,anotherBlock:l},smalltalk.UndefinedObject)})},messageSends:["value"]}),smalltalk.UndefinedObject);smalltalk.addMethod(smalltalk.method({selector:"isImmutable",fn:function(){var t=this;return smalltalk.withContext(function(t){return true},function(l){l.fill(t,"isImmutable",{},smalltalk.UndefinedObject)})},messageSends:[]}),smalltalk.UndefinedObject);smalltalk.addMethod(smalltalk.method({selector:"isNil",fn:function(){var t=this;return smalltalk.withContext(function(t){return true},function(l){l.fill(t,"isNil",{},smalltalk.UndefinedObject)})},messageSends:[]}),smalltalk.UndefinedObject);smalltalk.addMethod(smalltalk.method({selector:"notNil",fn:function(){var t=this;return smalltalk.withContext(function(t){return false},function(l){l.fill(t,"notNil",{},smalltalk.UndefinedObject)})},messageSends:[]}),smalltalk.UndefinedObject);smalltalk.addMethod(smalltalk.method({selector:"printOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(t)._nextPutAll_("nil");return l},function(a){a.fill(l,"printOn:",{aStream:t},smalltalk.UndefinedObject)})},messageSends:["nextPutAll:"]}),smalltalk.UndefinedObject);smalltalk.addMethod(smalltalk.method({selector:"shallowCopy",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t;return a},function(l){l.fill(t,"shallowCopy",{},smalltalk.UndefinedObject)})},messageSends:[]}),smalltalk.UndefinedObject);smalltalk.addMethod(smalltalk.method({selector:"subclass:instanceVariableNames:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s;s=_st(a)._subclass_instanceVariableNames_package_(t,l,nil);return s},function(e){e.fill(a,"subclass:instanceVariableNames:",{aString:t,anotherString:l},smalltalk.UndefinedObject)})},messageSends:["subclass:instanceVariableNames:package:"]}),smalltalk.UndefinedObject);smalltalk.addMethod(smalltalk.method({selector:"subclass:instanceVariableNames:category:",fn:function(t,l,a){var e=this;return smalltalk.withContext(function(s){var n;_st(e)._deprecatedAPI();n=_st(e)._subclass_instanceVariableNames_package_(t,l,a);return n},function(s){s.fill(e,"subclass:instanceVariableNames:category:",{aString:t,aString2:l,aString3:a},smalltalk.UndefinedObject)})},messageSends:["deprecatedAPI","subclass:instanceVariableNames:package:"]}),smalltalk.UndefinedObject);smalltalk.addMethod(smalltalk.method({selector:"subclass:instanceVariableNames:package:",fn:function(t,l,a){var e=this;function s(){return smalltalk.ClassBuilder||(typeof ClassBuilder=="undefined"?nil:ClassBuilder)}return smalltalk.withContext(function(n){var o;o=_st(_st(s())._new())._superclass_subclass_instanceVariableNames_package_(e,_st(t)._asString(),l,a);return o},function(s){s.fill(e,"subclass:instanceVariableNames:package:",{aString:t,aString2:l,aString3:a},smalltalk.UndefinedObject)})},messageSends:["superclass:subclass:instanceVariableNames:package:","asString","new"]}),smalltalk.UndefinedObject);smalltalk.addMethod(smalltalk.method({selector:"new",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._error_("You cannot create new instances of UndefinedObject. Use nil");return t},function(l){l.fill(t,"new",{},smalltalk.UndefinedObject.klass)})},messageSends:["error:"]}),smalltalk.UndefinedObject.klass);smalltalk.addMethod(smalltalk.method({selector:"asJavaScriptSelector",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._replace_with_("^([a-zA-Z0-9]*).*$","$1");return a},function(l){l.fill(t,"asJavaScriptSelector",{},smalltalk.String)})},messageSends:["replace:with:"]}),smalltalk.String);smalltalk.addPackage("Kernel-Classes");smalltalk.addClass("Behavior",smalltalk.Object,[],"Kernel-Classes");smalltalk.addMethod(smalltalk.method({selector:"addCompiledMethod:",fn:function(t){var l=this;var a,e;function s(){return smalltalk.MethodAdded||(typeof MethodAdded=="undefined"?nil:MethodAdded)}function n(){return smalltalk.MethodModified||(typeof MethodModified=="undefined"?nil:MethodModified)}function o(){return smalltalk.SystemAnnouncer||(typeof SystemAnnouncer=="undefined"?nil:SystemAnnouncer)}return smalltalk.withContext(function(r){var i,m,u,c,d,f;a=_st(_st(l)._methodDictionary())._at_ifAbsent_(_st(t)._selector(),function(){return smalltalk.withContext(function(t){return nil},function(t){t.fillBlock({},r)})});i=_st(_st(l)._protocols())._includes_(_st(t)._protocol());if(!smalltalk.assert(i)){_st(_st(l)._organization())._addElement_(_st(t)._protocol())}_st(l)._basicAddCompiledMethod_(t);m=a;if(($receiver=m)==nil||$receiver==undefined){u=_st(s())._new();_st(u)._method_(t);c=_st(u)._yourself();e=c}else{d=_st(n())._new();_st(d)._oldMethod_(a);_st(d)._method_(t);f=_st(d)._yourself();e=f}_st(_st(o())._current())._announce_(e);return l},function(s){s.fill(l,"addCompiledMethod:",{aMethod:t,oldMethod:a,announcement:e},smalltalk.Behavior)})},messageSends:["at:ifAbsent:","selector","methodDictionary","ifFalse:","addElement:","protocol","organization","includes:","protocols","basicAddCompiledMethod:","ifNil:ifNotNil:","method:","new","yourself","oldMethod:","announce:","current"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"allInstanceVariableNames",fn:function(){var t=this;var l;return smalltalk.withContext(function(a){var e,s;l=_st(_st(t)._instanceVariableNames())._copy();e=_st(t)._superclass();if(($receiver=e)==nil||$receiver==undefined){e}else{_st(l)._addAll_(_st(_st(t)._superclass())._allInstanceVariableNames())}s=l;return s},function(a){a.fill(t,"allInstanceVariableNames",{result:l},smalltalk.Behavior)})},messageSends:["copy","instanceVariableNames","ifNotNil:","addAll:","allInstanceVariableNames","superclass"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"allSelectors",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e,s;s=_st(_st(t)._allSuperclasses())._inject_into_(_st(t)._selectors(),function(t,s){return smalltalk.withContext(function(l){a=t;_st(a)._addAll_(_st(s)._selectors());e=_st(a)._yourself();return e},function(a){a.fillBlock({soFar:t,aBehavior:s},l)})});return s},function(l){l.fill(t,"allSelectors",{},smalltalk.Behavior)})},messageSends:["inject:into:","selectors","addAll:","yourself","allSuperclasses"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"allSubclasses",fn:function(){var t=this;var l;return smalltalk.withContext(function(a){var e;l=_st(t)._subclasses();_st(_st(t)._subclasses())._do_(function(t){return smalltalk.withContext(function(a){return _st(l)._addAll_(_st(t)._allSubclasses())},function(l){l.fillBlock({each:t},a)})});e=l;return e},function(a){a.fill(t,"allSubclasses",{result:l},smalltalk.Behavior)})},messageSends:["subclasses","do:","addAll:","allSubclasses"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"allSubclassesDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._subclasses())._do_(function(l){return smalltalk.withContext(function(a){_st(t)._value_(l);return _st(l)._allSubclassesDo_(t)},function(t){t.fillBlock({each:l},a)})});return l},function(a){a.fill(l,"allSubclassesDo:",{aBlock:t},smalltalk.Behavior)})},messageSends:["do:","value:","allSubclassesDo:","subclasses"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"allSuperclasses",fn:function(){var t=this;function l(){return smalltalk.OrderedCollection||(typeof OrderedCollection=="undefined"?nil:OrderedCollection)}return smalltalk.withContext(function(a){var e,s,n,o,r;e=_st(t)._superclass();if(($receiver=e)==nil||$receiver==undefined){s=[];return s}else{e}n=_st(l())._with_(_st(t)._superclass());_st(n)._addAll_(_st(_st(t)._superclass())._allSuperclasses());o=_st(n)._yourself();r=o;return r},function(l){l.fill(t,"allSuperclasses",{},smalltalk.Behavior)})},messageSends:["ifNil:","superclass","addAll:","allSuperclasses","with:","yourself"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"basicAddCompiledMethod:",fn:function(t){var l=this;return smalltalk.withContext(function(a){smalltalk.addMethod(t,l);return l},function(a){a.fill(l,"basicAddCompiledMethod:",{aMethod:t},smalltalk.Behavior)})},messageSends:[]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"basicNew",fn:function(){var t=this;return smalltalk.withContext(function(l){return new t.fn;return t},function(l){l.fill(t,"basicNew",{},smalltalk.Behavior)})},messageSends:[]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"basicRemoveCompiledMethod:",fn:function(t){var l=this;return smalltalk.withContext(function(a){smalltalk.removeMethod(t);smalltalk.init(l);return l},function(a){a.fill(l,"basicRemoveCompiledMethod:",{aMethod:t},smalltalk.Behavior)})},messageSends:[]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"canUnderstand:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(_st(_st(l)._methodDictionary())._keys())._includes_(_st(t)._asString()))._or_(function(){return smalltalk.withContext(function(e){return _st(_st(_st(l)._superclass())._notNil())._and_(function(){return smalltalk.withContext(function(a){return _st(_st(l)._superclass())._canUnderstand_(t)},function(t){t.fillBlock({},a)})})},function(t){t.fillBlock({},a)})});return e},function(a){a.fill(l,"canUnderstand:",{aSelector:t},smalltalk.Behavior)})},messageSends:["or:","and:","canUnderstand:","superclass","notNil","includes:","asString","keys","methodDictionary"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"comment",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=_st(t)._basicAt_("comment");if(($receiver=a)==nil||$receiver==undefined){e=""}else{e=a}return e},function(l){l.fill(t,"comment",{},smalltalk.Behavior)})},messageSends:["ifNil:","basicAt:"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"comment:",fn:function(t){var l=this;function a(){return smalltalk.ClassCommentChanged||(typeof ClassCommentChanged=="undefined"?nil:ClassCommentChanged)}function e(){return smalltalk.SystemAnnouncer||(typeof SystemAnnouncer=="undefined"?nil:SystemAnnouncer)}return smalltalk.withContext(function(s){var n,o;_st(l)._basicAt_put_("comment",t);n=_st(a())._new();_st(n)._theClass_(l);o=_st(n)._yourself();_st(_st(e())._current())._announce_(o);return l},function(a){a.fill(l,"comment:",{aString:t},smalltalk.Behavior)})},messageSends:["basicAt:put:","announce:","theClass:","new","yourself","current"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"commentStamp",fn:function(){var t=this;function l(){return smalltalk.ClassCommentReader||(typeof ClassCommentReader=="undefined"?nil:ClassCommentReader)}return smalltalk.withContext(function(a){var e,s,n;e=_st(l())._new();_st(e)._class_(t);s=_st(e)._yourself();n=s;return n},function(l){l.fill(t,"commentStamp",{},smalltalk.Behavior)})},messageSends:["class:","new","yourself"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"commentStamp:prior:",fn:function(t,l){var a=this;return smalltalk.withContext(function(t){var l;l=_st(a)._commentStamp();return l},function(e){e.fill(a,"commentStamp:prior:",{aStamp:t,prior:l},smalltalk.Behavior)})},messageSends:["commentStamp"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"compile:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l)._compile_category_(t,"");return e},function(a){a.fill(l,"compile:",{aString:t},smalltalk.Behavior)})},messageSends:["compile:category:"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"compile:category:",fn:function(t,l){var a=this;function e(){return smalltalk.Compiler||(typeof Compiler=="undefined"?nil:Compiler)}return smalltalk.withContext(function(s){var n;n=_st(_st(e())._new())._install_forClass_category_(t,a,l);return n},function(e){e.fill(a,"compile:category:",{aString:t,anotherString:l},smalltalk.Behavior)})},messageSends:["install:forClass:category:","new"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"definition",fn:function(){var t=this;return smalltalk.withContext(function(t){return""},function(l){l.fill(t,"definition",{},smalltalk.Behavior)})},messageSends:[]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"includesBehavior:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l).__eq_eq(t))._or_(function(){return smalltalk.withContext(function(a){return _st(l)._inheritsFrom_(t)},function(t){t.fillBlock({},a)})});return e},function(a){a.fill(l,"includesBehavior:",{aClass:t},smalltalk.Behavior)})},messageSends:["or:","inheritsFrom:","=="]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"includesSelector:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._methodDictionary())._includesKey_(t);return e},function(a){a.fill(l,"includesSelector:",{aString:t},smalltalk.Behavior)})},messageSends:["includesKey:","methodDictionary"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"inheritsFrom:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(t)._allSubclasses())._includes_(l);return e},function(a){a.fill(l,"inheritsFrom:",{aClass:t},smalltalk.Behavior)})},messageSends:["includes:","allSubclasses"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"instanceVariableNames",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.iVarNames;return t},function(l){l.fill(t,"instanceVariableNames",{},smalltalk.Behavior)})},messageSends:[]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"isBehavior",fn:function(){var t=this;return smalltalk.withContext(function(t){return true},function(l){l.fill(t,"isBehavior",{},smalltalk.Behavior)})},messageSends:[]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"lookupSelector:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s,n;var o={};try{a=l;_st(function(){return smalltalk.withContext(function(t){return _st(a).__eq(nil)},function(t){t.fillBlock({},e)})})._whileFalse_(function(){return smalltalk.withContext(function(l){s=_st(a)._includesSelector_(t);if(smalltalk.assert(s)){n=_st(a)._methodAt_(t);throw o=[n]}a=_st(a)._superclass();return a},function(t){t.fillBlock({},e)})});return nil}catch(r){if(r===o)return r[0];throw r}},function(e){e.fill(l,"lookupSelector:",{selector:t,lookupClass:a},smalltalk.Behavior)})},messageSends:["whileFalse:","ifTrue:","methodAt:","includesSelector:","superclass","="]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"methodAt:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._methodDictionary())._at_(t);return e},function(a){a.fill(l,"methodAt:",{aString:t},smalltalk.Behavior)})},messageSends:["at:","methodDictionary"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"methodDictionary",fn:function(){var t=this;return smalltalk.withContext(function(l){var a=smalltalk.HashedCollection._new();var e=t.methods;for(var s in e){if(e[s].selector){a._at_put_(e[s].selector,e[s])}}return a;return t},function(l){l.fill(t,"methodDictionary",{},smalltalk.Behavior)})},messageSends:[]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"methods",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._methodDictionary())._values();return a},function(l){l.fill(t,"methods",{},smalltalk.Behavior)})},messageSends:["values","methodDictionary"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"methodsFor:",fn:function(t){var l=this;function a(){return smalltalk.ClassCategoryReader||(typeof ClassCategoryReader=="undefined"?nil:ClassCategoryReader)}return smalltalk.withContext(function(e){var s,n,o;s=_st(a())._new();_st(s)._class_category_(l,t);n=_st(s)._yourself();o=n;return o},function(a){a.fill(l,"methodsFor:",{aString:t},smalltalk.Behavior)})},messageSends:["class:category:","new","yourself"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"methodsFor:stamp:",fn:function(t,l){var a=this;return smalltalk.withContext(function(l){var e;e=_st(a)._methodsFor_(t);return e},function(e){e.fill(a,"methodsFor:stamp:",{aString:t,aStamp:l},smalltalk.Behavior)})},messageSends:["methodsFor:"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"methodsInProtocol:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(_st(l)._methodDictionary())._values())._select_(function(l){return smalltalk.withContext(function(a){return _st(_st(l)._protocol()).__eq(t)},function(t){t.fillBlock({each:l},a)})});return e},function(a){a.fill(l,"methodsInProtocol:",{aString:t},smalltalk.Behavior)})},messageSends:["select:","=","protocol","values","methodDictionary"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"name",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.className||nil;return t},function(l){l.fill(t,"name",{},smalltalk.Behavior)})},messageSends:[]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"new",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._basicNew())._initialize();return a},function(l){l.fill(t,"new",{},smalltalk.Behavior)})},messageSends:["initialize","basicNew"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"organization",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._basicAt_("organization");return a},function(l){l.fill(t,"organization",{},smalltalk.Behavior)})},messageSends:["basicAt:"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"protocols",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(_st(t)._organization())._elements())._sorted();return a},function(l){l.fill(t,"protocols",{},smalltalk.Behavior)})},messageSends:["sorted","elements","organization"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"protocolsDo:",fn:function(t){var l=this;var a;function e(){return smalltalk.HashedCollection||(typeof HashedCollection=="undefined"?nil:HashedCollection)}function s(){return smalltalk.Array||(typeof Array=="undefined"?nil:Array)}return smalltalk.withContext(function(n){a=_st(e())._new();_st(_st(_st(l)._methodDictionary())._values())._do_(function(t){return smalltalk.withContext(function(l){return _st(_st(a)._at_ifAbsentPut_(_st(t)._category(),function(){return smalltalk.withContext(function(t){return _st(s())._new()
},function(t){t.fillBlock({},n)})}))._add_(t)},function(l){l.fillBlock({m:t},n)})});_st(_st(l)._protocols())._do_(function(l){return smalltalk.withContext(function(e){return _st(t)._value_value_(l,_st(a)._at_(l))},function(t){t.fillBlock({category:l},n)})});return l},function(e){e.fill(l,"protocolsDo:",{aBlock:t,methodsByCategory:a},smalltalk.Behavior)})},messageSends:["new","do:","add:","at:ifAbsentPut:","category","values","methodDictionary","value:value:","at:","protocols"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"prototype",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.fn.prototype;return t},function(l){l.fill(t,"prototype",{},smalltalk.Behavior)})},messageSends:[]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"removeCompiledMethod:",fn:function(t){var l=this;function a(){return smalltalk.MethodRemoved||(typeof MethodRemoved=="undefined"?nil:MethodRemoved)}function e(){return smalltalk.SystemAnnouncer||(typeof SystemAnnouncer=="undefined"?nil:SystemAnnouncer)}return smalltalk.withContext(function(s){var n,o;_st(l)._basicRemoveCompiledMethod_(t);_st(_st(l)._methods())._detect_ifNone_(function(l){return smalltalk.withContext(function(a){return _st(_st(l)._protocol()).__eq(_st(t)._protocol())},function(t){t.fillBlock({each:l},s)})},function(){return smalltalk.withContext(function(a){return _st(_st(l)._organization())._removeElement_(_st(t)._protocol())},function(t){t.fillBlock({},s)})});n=_st(a())._new();_st(n)._method_(t);o=_st(n)._yourself();_st(_st(e())._current())._announce_(o);return l},function(a){a.fill(l,"removeCompiledMethod:",{aMethod:t},smalltalk.Behavior)})},messageSends:["basicRemoveCompiledMethod:","detect:ifNone:","=","protocol","removeElement:","organization","methods","announce:","method:","new","yourself","current"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"selectors",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._methodDictionary())._keys();return a},function(l){l.fill(t,"selectors",{},smalltalk.Behavior)})},messageSends:["keys","methodDictionary"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"subclasses",fn:function(){var t=this;return smalltalk.withContext(function(l){return smalltalk.subclasses(t);return t},function(l){l.fill(t,"subclasses",{},smalltalk.Behavior)})},messageSends:[]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"superclass",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.superclass||nil;return t},function(l){l.fill(t,"superclass",{},smalltalk.Behavior)})},messageSends:[]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"theMetaClass",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._class();return a},function(l){l.fill(t,"theMetaClass",{},smalltalk.Behavior)})},messageSends:["class"]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"theNonMetaClass",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t;return a},function(l){l.fill(t,"theNonMetaClass",{},smalltalk.Behavior)})},messageSends:[]}),smalltalk.Behavior);smalltalk.addMethod(smalltalk.method({selector:"withAllSubclasses",fn:function(){var t=this;function l(){return smalltalk.Array||(typeof Array=="undefined"?nil:Array)}return smalltalk.withContext(function(a){var e,s,n;e=_st(l())._with_(t);_st(e)._addAll_(_st(t)._allSubclasses());s=_st(e)._yourself();n=s;return n},function(l){l.fill(t,"withAllSubclasses",{},smalltalk.Behavior)})},messageSends:["addAll:","allSubclasses","with:","yourself"]}),smalltalk.Behavior);smalltalk.addClass("Class",smalltalk.Behavior,[],"Kernel-Classes");smalltalk.addMethod(smalltalk.method({selector:"asJavascript",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st("smalltalk.").__comma(_st(t)._name());return a},function(l){l.fill(t,"asJavascript",{},smalltalk.Class)})},messageSends:[",","name"]}),smalltalk.Class);smalltalk.addMethod(smalltalk.method({selector:"category",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=_st(t)._package();if(($receiver=a)==nil||$receiver==undefined){e="Unclassified"}else{e=_st(_st(t)._package())._name()}return e},function(l){l.fill(t,"category",{},smalltalk.Class)})},messageSends:["ifNil:ifNotNil:","name","package"]}),smalltalk.Class);smalltalk.addMethod(smalltalk.method({selector:"definition",fn:function(){var t=this;function l(){return smalltalk.String||(typeof String=="undefined"?nil:String)}return smalltalk.withContext(function(a){var e,s,n,o,r;r=_st(l())._streamContents_(function(r){return smalltalk.withContext(function(i){e=r;_st(e)._nextPutAll_(_st(_st(t)._superclass())._asString());_st(e)._nextPutAll_(" subclass: #");_st(e)._nextPutAll_(_st(t)._name());_st(e)._nextPutAll_(_st(_st(l())._lf()).__comma(_st(l())._tab()));s=_st(e)._nextPutAll_("instanceVariableNames: '");s;_st(_st(t)._instanceVariableNames())._do_separatedBy_(function(t){return smalltalk.withContext(function(l){return _st(r)._nextPutAll_(t)},function(l){l.fillBlock({each:t},a)})},function(){return smalltalk.withContext(function(t){return _st(r)._nextPutAll_(" ")},function(t){t.fillBlock({},a)})});n=r;_st(n)._nextPutAll_(_st(_st("'").__comma(_st(l())._lf())).__comma(_st(l())._tab()));_st(n)._nextPutAll_("package: '");_st(n)._nextPutAll_(_st(t)._category());o=_st(n)._nextPutAll_("'");return o},function(t){t.fillBlock({stream:r},a)})});return r},function(l){l.fill(t,"definition",{},smalltalk.Class)})},messageSends:["streamContents:","nextPutAll:","asString","superclass","name",",","tab","lf","do:separatedBy:","instanceVariableNames","category"]}),smalltalk.Class);smalltalk.addMethod(smalltalk.method({selector:"isClass",fn:function(){var t=this;return smalltalk.withContext(function(t){return true},function(l){l.fill(t,"isClass",{},smalltalk.Class)})},messageSends:[]}),smalltalk.Class);smalltalk.addMethod(smalltalk.method({selector:"package",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._basicAt_("pkg");return a},function(l){l.fill(t,"package",{},smalltalk.Class)})},messageSends:["basicAt:"]}),smalltalk.Class);smalltalk.addMethod(smalltalk.method({selector:"package:",fn:function(t){var l=this;var a;function e(){return smalltalk.ClassMoved||(typeof ClassMoved=="undefined"?nil:ClassMoved)}function s(){return smalltalk.SystemAnnouncer||(typeof SystemAnnouncer=="undefined"?nil:SystemAnnouncer)}return smalltalk.withContext(function(n){var o,r;a=_st(l)._package();_st(l)._basicAt_put_("pkg",t);_st(_st(a)._organization())._removeElement_(l);_st(_st(t)._organization())._addElement_(l);o=_st(e())._new();_st(o)._theClass_(l);_st(o)._oldPackage_(a);r=_st(o)._yourself();_st(_st(s())._current())._announce_(r);return l},function(e){e.fill(l,"package:",{aPackage:t,oldPackage:a},smalltalk.Class)})},messageSends:["package","basicAt:put:","removeElement:","organization","addElement:","announce:","theClass:","new","oldPackage:","yourself","current"]}),smalltalk.Class);smalltalk.addMethod(smalltalk.method({selector:"printOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(t)._nextPutAll_(_st(l)._name());return l},function(a){a.fill(l,"printOn:",{aStream:t},smalltalk.Class)})},messageSends:["nextPutAll:","name"]}),smalltalk.Class);smalltalk.addMethod(smalltalk.method({selector:"rename:",fn:function(t){var l=this;function a(){return smalltalk.ClassBuilder||(typeof ClassBuilder=="undefined"?nil:ClassBuilder)}return smalltalk.withContext(function(e){_st(_st(a())._new())._renameClass_to_(l,t);return l},function(a){a.fill(l,"rename:",{aString:t},smalltalk.Class)})},messageSends:["renameClass:to:","new"]}),smalltalk.Class);smalltalk.addMethod(smalltalk.method({selector:"subclass:instanceVariableNames:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s;s=_st(a)._subclass_instanceVariableNames_package_(t,l,nil);return s},function(e){e.fill(a,"subclass:instanceVariableNames:",{aString:t,anotherString:l},smalltalk.Class)})},messageSends:["subclass:instanceVariableNames:package:"]}),smalltalk.Class);smalltalk.addMethod(smalltalk.method({selector:"subclass:instanceVariableNames:category:",fn:function(t,l,a){var e=this;return smalltalk.withContext(function(s){var n;_st(e)._deprecatedAPI();n=_st(e)._subclass_instanceVariableNames_package_(t,l,a);return n},function(s){s.fill(e,"subclass:instanceVariableNames:category:",{aString:t,aString2:l,aString3:a},smalltalk.Class)})},messageSends:["deprecatedAPI","subclass:instanceVariableNames:package:"]}),smalltalk.Class);smalltalk.addMethod(smalltalk.method({selector:"subclass:instanceVariableNames:classVariableNames:poolDictionaries:category:",fn:function(t,l,a,e,s){var n=this;return smalltalk.withContext(function(a){var e;e=_st(n)._subclass_instanceVariableNames_package_(t,l,s);return e},function(o){o.fill(n,"subclass:instanceVariableNames:classVariableNames:poolDictionaries:category:",{aString:t,aString2:l,classVars:a,pools:e,aString3:s},smalltalk.Class)})},messageSends:["subclass:instanceVariableNames:package:"]}),smalltalk.Class);smalltalk.addMethod(smalltalk.method({selector:"subclass:instanceVariableNames:package:",fn:function(t,l,a){var e=this;function s(){return smalltalk.ClassBuilder||(typeof ClassBuilder=="undefined"?nil:ClassBuilder)}return smalltalk.withContext(function(n){var o;o=_st(_st(s())._new())._superclass_subclass_instanceVariableNames_package_(e,_st(t)._asString(),l,a);return o},function(s){s.fill(e,"subclass:instanceVariableNames:package:",{aString:t,aString2:l,aString3:a},smalltalk.Class)})},messageSends:["superclass:subclass:instanceVariableNames:package:","asString","new"]}),smalltalk.Class);smalltalk.addClass("Metaclass",smalltalk.Behavior,[],"Kernel-Classes");smalltalk.addMethod(smalltalk.method({selector:"asJavascript",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st("smalltalk.").__comma(_st(_st(t)._instanceClass())._name())).__comma(".klass");return a},function(l){l.fill(t,"asJavascript",{},smalltalk.Metaclass)})},messageSends:[",","name","instanceClass"]}),smalltalk.Metaclass);smalltalk.addMethod(smalltalk.method({selector:"definition",fn:function(){var t=this;function l(){return smalltalk.String||(typeof String=="undefined"?nil:String)}return smalltalk.withContext(function(a){var e,s,n;n=_st(l())._streamContents_(function(l){return smalltalk.withContext(function(n){e=l;_st(e)._nextPutAll_(_st(t)._asString());s=_st(e)._nextPutAll_(" instanceVariableNames: '");s;_st(_st(t)._instanceVariableNames())._do_separatedBy_(function(t){return smalltalk.withContext(function(a){return _st(l)._nextPutAll_(t)},function(l){l.fillBlock({each:t},a)})},function(){return smalltalk.withContext(function(t){return _st(l)._nextPutAll_(" ")},function(t){t.fillBlock({},a)})});return _st(l)._nextPutAll_("'")},function(t){t.fillBlock({stream:l},a)})});return n},function(l){l.fill(t,"definition",{},smalltalk.Metaclass)})},messageSends:["streamContents:","nextPutAll:","asString","do:separatedBy:","instanceVariableNames"]}),smalltalk.Metaclass);smalltalk.addMethod(smalltalk.method({selector:"instanceClass",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.instanceClass;return t},function(l){l.fill(t,"instanceClass",{},smalltalk.Metaclass)})},messageSends:[]}),smalltalk.Metaclass);smalltalk.addMethod(smalltalk.method({selector:"instanceVariableNames:",fn:function(t){var l=this;function a(){return smalltalk.ClassBuilder||(typeof ClassBuilder=="undefined"?nil:ClassBuilder)}return smalltalk.withContext(function(e){_st(_st(a())._new())._class_instanceVariableNames_(l,t);return l},function(a){a.fill(l,"instanceVariableNames:",{aCollection:t},smalltalk.Metaclass)})},messageSends:["class:instanceVariableNames:","new"]}),smalltalk.Metaclass);smalltalk.addMethod(smalltalk.method({selector:"isMetaclass",fn:function(){var t=this;return smalltalk.withContext(function(t){return true},function(l){l.fill(t,"isMetaclass",{},smalltalk.Metaclass)})},messageSends:[]}),smalltalk.Metaclass);smalltalk.addMethod(smalltalk.method({selector:"printOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;e=t;_st(e)._nextPutAll_(_st(_st(l)._instanceClass())._name());s=_st(e)._nextPutAll_(" class");return l},function(a){a.fill(l,"printOn:",{aStream:t},smalltalk.Metaclass)})},messageSends:["nextPutAll:","name","instanceClass"]}),smalltalk.Metaclass);smalltalk.addMethod(smalltalk.method({selector:"theMetaClass",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t;return a},function(l){l.fill(t,"theMetaClass",{},smalltalk.Metaclass)})},messageSends:[]}),smalltalk.Metaclass);smalltalk.addMethod(smalltalk.method({selector:"theNonMetaClass",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._instanceClass();return a},function(l){l.fill(t,"theNonMetaClass",{},smalltalk.Metaclass)})},messageSends:["instanceClass"]}),smalltalk.Metaclass);smalltalk.addClass("ClassBuilder",smalltalk.Object,[],"Kernel-Classes");smalltalk.addMethod(smalltalk.method({selector:"addSubclassOf:named:instanceVariableNames:package:",fn:function(t,l,a,e){var s=this;var n;function o(){return smalltalk.Smalltalk||(typeof Smalltalk=="undefined"?nil:Smalltalk)}return smalltalk.withContext(function(r){var i,m,u,c;n=_st(_st(o())._current())._at_(l);i=n;if(($receiver=i)==nil||$receiver==undefined){i}else{m=_st(_st(n)._superclass()).__eq_eq(t);if(!smalltalk.assert(m)){u=_st(s)._migrateClassNamed_superclass_instanceVariableNames_package_(l,t,a,e);return u}}c=_st(s)._basicAddSubclassOf_named_instanceVariableNames_package_(t,l,a,e);return c},function(o){o.fill(s,"addSubclassOf:named:instanceVariableNames:package:",{aClass:t,aString:l,aCollection:a,packageName:e,theClass:n},smalltalk.ClassBuilder)})},messageSends:["at:","current","ifNotNil:","ifFalse:","migrateClassNamed:superclass:instanceVariableNames:package:","==","superclass","basicAddSubclassOf:named:instanceVariableNames:package:"]}),smalltalk.ClassBuilder);smalltalk.addMethod(smalltalk.method({selector:"basicAddSubclassOf:named:instanceVariableNames:package:",fn:function(t,l,a,e){var s=this;return smalltalk.withContext(function(n){smalltalk.addClass(l,t,a,e);return smalltalk[l];return s},function(n){n.fill(s,"basicAddSubclassOf:named:instanceVariableNames:package:",{aClass:t,aString:l,aCollection:a,packageName:e},smalltalk.ClassBuilder)})},messageSends:[]}),smalltalk.ClassBuilder);smalltalk.addMethod(smalltalk.method({selector:"basicClass:instanceVariableNames:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){_st(a)._basicClass_instanceVariables_(t,_st(a)._instanceVariableNamesFor_(l));return a},function(e){e.fill(a,"basicClass:instanceVariableNames:",{aClass:t,aString:l},smalltalk.ClassBuilder)})},messageSends:["basicClass:instanceVariables:","instanceVariableNamesFor:"]}),smalltalk.ClassBuilder);smalltalk.addMethod(smalltalk.method({selector:"basicClass:instanceVariables:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s;s=_st(t)._isMetaclass();if(!smalltalk.assert(s)){_st(a)._error_(_st(_st(t)._name()).__comma(" is not a metaclass"))}_st(t)._basicAt_put_("iVarNames",l);return a},function(e){e.fill(a,"basicClass:instanceVariables:",{aClass:t,aCollection:l},smalltalk.ClassBuilder)})},messageSends:["ifFalse:","error:",",","name","isMetaclass","basicAt:put:"]}),smalltalk.ClassBuilder);smalltalk.addMethod(smalltalk.method({selector:"basicRemoveClass:",fn:function(t){var l=this;return smalltalk.withContext(function(a){smalltalk.removeClass(t);return l},function(a){a.fill(l,"basicRemoveClass:",{aClass:t},smalltalk.ClassBuilder)})},messageSends:[]}),smalltalk.ClassBuilder);smalltalk.addMethod(smalltalk.method({selector:"basicRenameClass:to:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){smalltalk[l]=t;delete smalltalk[t.className];t.className=l;return a},function(e){e.fill(a,"basicRenameClass:to:",{aClass:t,aString:l},smalltalk.ClassBuilder)})},messageSends:[]}),smalltalk.ClassBuilder);smalltalk.addMethod(smalltalk.method({selector:"basicSwapClassNames:with:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s=t.className;t.className=l.className;l.className=s;return a},function(e){e.fill(a,"basicSwapClassNames:with:",{aClass:t,anotherClass:l},smalltalk.ClassBuilder)})},messageSends:[]}),smalltalk.ClassBuilder);smalltalk.addMethod(smalltalk.method({selector:"class:instanceVariableNames:",fn:function(t,l){var a=this;function e(){return smalltalk.ClassDefinitionChanged||(typeof ClassDefinitionChanged=="undefined"?nil:ClassDefinitionChanged)}function s(){return smalltalk.SystemAnnouncer||(typeof SystemAnnouncer=="undefined"?nil:SystemAnnouncer)}return smalltalk.withContext(function(n){var o,r;_st(a)._basicClass_instanceVariableNames_(t,l);_st(a)._setupClass_(t);o=_st(e())._new();_st(o)._theClass_(t);r=_st(o)._yourself();_st(_st(s())._current())._announce_(r);return a},function(e){e.fill(a,"class:instanceVariableNames:",{aClass:t,aString:l},smalltalk.ClassBuilder)})},messageSends:["basicClass:instanceVariableNames:","setupClass:","announce:","theClass:","new","yourself","current"]}),smalltalk.ClassBuilder);smalltalk.addMethod(smalltalk.method({selector:"copyClass:named:",fn:function(t,l){var a=this;var e;function s(){return smalltalk.ClassAdded||(typeof ClassAdded=="undefined"?nil:ClassAdded)}function n(){return smalltalk.SystemAnnouncer||(typeof SystemAnnouncer=="undefined"?nil:SystemAnnouncer)}return smalltalk.withContext(function(o){var r,i,m;e=_st(a)._addSubclassOf_named_instanceVariableNames_package_(_st(t)._superclass(),l,_st(t)._instanceVariableNames(),_st(_st(t)._package())._name());_st(a)._copyClass_to_(t,e);r=_st(s())._new();_st(r)._theClass_(e);i=_st(r)._yourself();_st(_st(n())._current())._announce_(i);m=e;return m},function(s){s.fill(a,"copyClass:named:",{aClass:t,aString:l,newClass:e},smalltalk.ClassBuilder)})},messageSends:["addSubclassOf:named:instanceVariableNames:package:","superclass","instanceVariableNames","name","package","copyClass:to:","announce:","theClass:","new","yourself","current"]}),smalltalk.ClassBuilder);smalltalk.addMethod(smalltalk.method({selector:"copyClass:to:",fn:function(t,l){var a=this;function e(){return smalltalk.Compiler||(typeof Compiler=="undefined"?nil:Compiler)}return smalltalk.withContext(function(s){_st(l)._comment_(_st(t)._comment());_st(_st(_st(t)._methodDictionary())._values())._do_(function(t){return smalltalk.withContext(function(a){return _st(_st(e())._new())._install_forClass_category_(_st(t)._source(),l,_st(t)._category())},function(l){l.fillBlock({each:t},s)})});_st(a)._basicClass_instanceVariables_(_st(l)._class(),_st(_st(t)._class())._instanceVariableNames());_st(_st(_st(_st(t)._class())._methodDictionary())._values())._do_(function(t){return smalltalk.withContext(function(a){return _st(_st(e())._new())._install_forClass_category_(_st(t)._source(),_st(l)._class(),_st(t)._category())},function(l){l.fillBlock({each:t},s)})});_st(a)._setupClass_(l);return a},function(e){e.fill(a,"copyClass:to:",{aClass:t,anotherClass:l},smalltalk.ClassBuilder)})},messageSends:["comment:","comment","do:","install:forClass:category:","source","category","new","values","methodDictionary","basicClass:instanceVariables:","class","instanceVariableNames","setupClass:"]}),smalltalk.ClassBuilder);smalltalk.addMethod(smalltalk.method({selector:"installMethod:forClass:category:",fn:function(t,l,a){var e=this;return smalltalk.withContext(function(s){var n;_st(t)._category_(a);_st(l)._addCompiledMethod_(t);_st(e)._setupClass_(l);n=t;return n},function(s){s.fill(e,"installMethod:forClass:category:",{aCompiledMethod:t,aBehavior:l,aString:a},smalltalk.ClassBuilder)})},messageSends:["category:","addCompiledMethod:","setupClass:"]}),smalltalk.ClassBuilder);smalltalk.addMethod(smalltalk.method({selector:"instanceVariableNamesFor:",fn:function(t){var l=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._tokenize_(" "))._reject_(function(t){return smalltalk.withContext(function(l){return _st(t)._isEmpty()},function(a){a.fillBlock({each:t},l)})});return a},function(a){a.fill(l,"instanceVariableNamesFor:",{aString:t},smalltalk.ClassBuilder)})},messageSends:["reject:","isEmpty","tokenize:"]}),smalltalk.ClassBuilder);smalltalk.addMethod(smalltalk.method({selector:"migrateClass:superclass:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){_st(console)._log_(_st(t)._name());_st(a)._migrateClassNamed_superclass_instanceVariableNames_package_(_st(t)._name(),l,_st(t)._instanceVariableNames(),_st(_st(t)._package())._name());return a},function(e){e.fill(a,"migrateClass:superclass:",{aClass:t,anotherClass:l},smalltalk.ClassBuilder)})},messageSends:["log:","name","migrateClassNamed:superclass:instanceVariableNames:package:","instanceVariableNames","package"]}),smalltalk.ClassBuilder);smalltalk.addMethod(smalltalk.method({selector:"migrateClassNamed:superclass:instanceVariableNames:package:",fn:function(t,l,a,e){var s=this;var n,o,r;function i(){return smalltalk.Smalltalk||(typeof Smalltalk=="undefined"?nil:Smalltalk)}function m(){return smalltalk.Error||(typeof Error=="undefined"?nil:Error)}return smalltalk.withContext(function(u){var c,d,f,k,_;r=_st("new*").__comma(t);n=_st(_st(i())._current())._at_(t);o=_st(s)._addSubclassOf_named_instanceVariableNames_package_(l,r,a,e);_st(s)._basicSwapClassNames_with_(n,o);_st(function(){return smalltalk.withContext(function(t){return _st(s)._copyClass_to_(n,o)},function(t){t.fillBlock({},u)})})._on_do_(m(),function(t){return smalltalk.withContext(function(l){c=s;_st(c)._basicSwapClassNames_with_(n,o);d=_st(c)._basicRemoveClass_(o);d;return _st(t)._signal()},function(l){l.fillBlock({exception:t},u)})});f=s;_st(f)._rawRenameClass_to_(n,r);k=_st(f)._rawRenameClass_to_(o,t);_st(_st(n)._subclasses())._do_(function(t){return smalltalk.withContext(function(l){return _st(s)._migrateClass_superclass_(t,o)},function(l){l.fillBlock({each:t},u)})});_st(s)._basicRemoveClass_(n);_=o;return _},function(i){i.fill(s,"migrateClassNamed:superclass:instanceVariableNames:package:",{aString:t,aClass:l,aCollection:a,packageName:e,oldClass:n,newClass:o,tmp:r},smalltalk.ClassBuilder)})},messageSends:[",","at:","current","addSubclassOf:named:instanceVariableNames:package:","basicSwapClassNames:with:","on:do:","basicRemoveClass:","signal","copyClass:to:","rawRenameClass:to:","do:","migrateClass:superclass:","subclasses"]}),smalltalk.ClassBuilder);smalltalk.addMethod(smalltalk.method({selector:"rawRenameClass:to:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){smalltalk[l]=t;return a},function(e){e.fill(a,"rawRenameClass:to:",{aClass:t,aString:l},smalltalk.ClassBuilder)})},messageSends:[]}),smalltalk.ClassBuilder);smalltalk.addMethod(smalltalk.method({selector:"renameClass:to:",fn:function(t,l){var a=this;function e(){return smalltalk.ClassRenamed||(typeof ClassRenamed=="undefined"?nil:ClassRenamed)}function s(){return smalltalk.SystemAnnouncer||(typeof SystemAnnouncer=="undefined"?nil:SystemAnnouncer)}return smalltalk.withContext(function(n){var o,r;_st(a)._basicRenameClass_to_(t,l);o=_st(e())._new();_st(o)._theClass_(t);r=_st(o)._yourself();_st(_st(s())._current())._announce_(r);return a},function(e){e.fill(a,"renameClass:to:",{aClass:t,aString:l},smalltalk.ClassBuilder)})},messageSends:["basicRenameClass:to:","announce:","theClass:","new","yourself","current"]}),smalltalk.ClassBuilder);smalltalk.addMethod(smalltalk.method({selector:"setupClass:",fn:function(t){var l=this;return smalltalk.withContext(function(a){smalltalk.init(t);return l},function(a){a.fill(l,"setupClass:",{aClass:t},smalltalk.ClassBuilder)})},messageSends:[]}),smalltalk.ClassBuilder);smalltalk.addMethod(smalltalk.method({selector:"superclass:subclass:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s;s=_st(a)._superclass_subclass_instanceVariableNames_package_(t,l,"",nil);return s},function(e){e.fill(a,"superclass:subclass:",{aClass:t,aString:l},smalltalk.ClassBuilder)})},messageSends:["superclass:subclass:instanceVariableNames:package:"]}),smalltalk.ClassBuilder);smalltalk.addMethod(smalltalk.method({selector:"superclass:subclass:instanceVariableNames:package:",fn:function(t,l,a,e){var s=this;var n;function o(){return smalltalk.ClassAdded||(typeof ClassAdded=="undefined"?nil:ClassAdded)}function r(){return smalltalk.SystemAnnouncer||(typeof SystemAnnouncer=="undefined"?nil:SystemAnnouncer)}return smalltalk.withContext(function(i){var m,u,c,d,f,k,_,h,g;m=s;u=t;c=l;d=_st(s)._instanceVariableNamesFor_(a);f=e;if(($receiver=f)==nil||$receiver==undefined){k="unclassified"}else{k=f}n=_st(m)._addSubclassOf_named_instanceVariableNames_package_(u,c,d,k);_st(s)._setupClass_(n);_=_st(o())._new();_st(_)._theClass_(n);h=_st(_)._yourself();_st(_st(r())._current())._announce_(h);g=n;return g},function(o){o.fill(s,"superclass:subclass:instanceVariableNames:package:",{aClass:t,aString:l,aString2:a,aString3:e,newClass:n},smalltalk.ClassBuilder)})},messageSends:["addSubclassOf:named:instanceVariableNames:package:","instanceVariableNamesFor:","ifNil:","setupClass:","announce:","theClass:","new","yourself","current"]}),smalltalk.ClassBuilder);smalltalk.addClass("ClassCategoryReader",smalltalk.Object,["class","category"],"Kernel-Classes");smalltalk.addMethod(smalltalk.method({selector:"class:category:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){a["@class"]=t;a["@category"]=l;return a},function(e){e.fill(a,"class:category:",{aClass:t,aString:l},smalltalk.ClassCategoryReader)})},messageSends:[]}),smalltalk.ClassCategoryReader);smalltalk.addMethod(smalltalk.method({selector:"compileMethod:",fn:function(t){var l=this;function a(){return smalltalk.Compiler||(typeof Compiler=="undefined"?nil:Compiler)}return smalltalk.withContext(function(e){_st(_st(a())._new())._install_forClass_category_(t,l["@class"],l["@category"]);return l},function(a){a.fill(l,"compileMethod:",{aString:t},smalltalk.ClassCategoryReader)})},messageSends:["install:forClass:category:","new"]}),smalltalk.ClassCategoryReader);smalltalk.addMethod(smalltalk.method({selector:"initialize",fn:function(){var t=this;return smalltalk.withContext(function(l){smalltalk.Object.fn.prototype._initialize.apply(_st(t),[]);return t},function(l){l.fill(t,"initialize",{},smalltalk.ClassCategoryReader)})},messageSends:["initialize"]}),smalltalk.ClassCategoryReader);smalltalk.addMethod(smalltalk.method({selector:"scanFrom:",fn:function(t){var l=this;var a;function e(){return smalltalk.ClassBuilder||(typeof ClassBuilder=="undefined"?nil:ClassBuilder)}return smalltalk.withContext(function(s){_st(function(){return smalltalk.withContext(function(l){a=_st(t)._nextChunk();a;return _st(a)._isEmpty()},function(t){t.fillBlock({},s)})})._whileFalse_(function(){return smalltalk.withContext(function(t){return _st(l)._compileMethod_(a)},function(t){t.fillBlock({},s)})});_st(_st(e())._new())._setupClass_(l["@class"]);return l},function(e){e.fill(l,"scanFrom:",{aChunkParser:t,chunk:a},smalltalk.ClassCategoryReader)})},messageSends:["whileFalse:","compileMethod:","nextChunk","isEmpty","setupClass:","new"]}),smalltalk.ClassCategoryReader);smalltalk.addClass("ClassCommentReader",smalltalk.Object,["class"],"Kernel-Classes");smalltalk.addMethod(smalltalk.method({selector:"class:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@class"]=t;return l},function(a){a.fill(l,"class:",{aClass:t},smalltalk.ClassCommentReader)})},messageSends:[]}),smalltalk.ClassCommentReader);smalltalk.addMethod(smalltalk.method({selector:"initialize",fn:function(){var t=this;return smalltalk.withContext(function(l){smalltalk.Object.fn.prototype._initialize.apply(_st(t),[]);return t},function(l){l.fill(t,"initialize",{},smalltalk.ClassCommentReader)})},messageSends:["initialize"]}),smalltalk.ClassCommentReader);smalltalk.addMethod(smalltalk.method({selector:"scanFrom:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s;a=_st(t)._nextChunk();s=_st(a)._isEmpty();if(!smalltalk.assert(s)){_st(l)._setComment_(a)}return l},function(e){e.fill(l,"scanFrom:",{aChunkParser:t,chunk:a},smalltalk.ClassCommentReader)})},messageSends:["nextChunk","ifFalse:","setComment:","isEmpty"]}),smalltalk.ClassCommentReader);smalltalk.addMethod(smalltalk.method({selector:"setComment:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l["@class"])._comment_(t);return l},function(a){a.fill(l,"setComment:",{aString:t},smalltalk.ClassCommentReader)})},messageSends:["comment:"]}),smalltalk.ClassCommentReader);smalltalk.addClass("ClassSorterNode",smalltalk.Object,["theClass","level","nodes"],"Kernel-Classes");smalltalk.addMethod(smalltalk.method({selector:"getNodesFrom:",fn:function(t){var l=this;var a,e;function s(){return smalltalk.ClassSorterNode||(typeof ClassSorterNode=="undefined"?nil:ClassSorterNode)}return smalltalk.withContext(function(n){var o;a=[];e=[];_st(t)._do_(function(t){return smalltalk.withContext(function(s){o=_st(_st(t)._superclass()).__eq(_st(l)._theClass());if(smalltalk.assert(o)){return _st(a)._add_(t)}else{return _st(e)._add_(t)}},function(l){l.fillBlock({each:t},n)})});l["@nodes"]=_st(a)._collect_(function(t){return smalltalk.withContext(function(a){return _st(s())._on_classes_level_(t,e,_st(_st(l)._level()).__plus(1))},function(l){l.fillBlock({each:t},n)})});return l},function(s){s.fill(l,"getNodesFrom:",{aCollection:t,children:a,others:e},smalltalk.ClassSorterNode)})},messageSends:["do:","ifTrue:ifFalse:","add:","=","theClass","superclass","collect:","on:classes:level:","+","level"]}),smalltalk.ClassSorterNode);smalltalk.addMethod(smalltalk.method({selector:"level",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@level"];return a},function(l){l.fill(t,"level",{},smalltalk.ClassSorterNode)})},messageSends:[]}),smalltalk.ClassSorterNode);smalltalk.addMethod(smalltalk.method({selector:"level:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@level"]=t;return l},function(a){a.fill(l,"level:",{anInteger:t},smalltalk.ClassSorterNode)})},messageSends:[]}),smalltalk.ClassSorterNode);smalltalk.addMethod(smalltalk.method({selector:"nodes",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@nodes"];return a},function(l){l.fill(t,"nodes",{},smalltalk.ClassSorterNode)})},messageSends:[]}),smalltalk.ClassSorterNode);smalltalk.addMethod(smalltalk.method({selector:"theClass",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@theClass"];return a},function(l){l.fill(t,"theClass",{},smalltalk.ClassSorterNode)})},messageSends:[]}),smalltalk.ClassSorterNode);smalltalk.addMethod(smalltalk.method({selector:"theClass:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@theClass"]=t;return l},function(a){a.fill(l,"theClass:",{aClass:t},smalltalk.ClassSorterNode)})},messageSends:[]}),smalltalk.ClassSorterNode);smalltalk.addMethod(smalltalk.method({selector:"traverseClassesWith:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(t)._add_(_st(l)._theClass());_st(_st(_st(l)._nodes())._sorted_(function(t,l){return smalltalk.withContext(function(a){return _st(_st(_st(t)._theClass())._name()).__lt_eq(_st(_st(l)._theClass())._name())},function(e){e.fillBlock({a:t,b:l},a)})}))._do_(function(l){return smalltalk.withContext(function(a){return _st(l)._traverseClassesWith_(t)},function(t){t.fillBlock({aNode:l},a)})});return l},function(a){a.fill(l,"traverseClassesWith:",{aCollection:t},smalltalk.ClassSorterNode)})},messageSends:["add:","theClass","do:","traverseClassesWith:","sorted:","<=","name","nodes"]}),smalltalk.ClassSorterNode);smalltalk.addMethod(smalltalk.method({selector:"on:classes:level:",fn:function(t,l,a){var e=this;return smalltalk.withContext(function(s){var n,o,r;n=_st(e)._new();
_st(n)._theClass_(t);_st(n)._level_(a);_st(n)._getNodesFrom_(l);o=_st(n)._yourself();r=o;return r},function(s){s.fill(e,"on:classes:level:",{aClass:t,aCollection:l,anInteger:a},smalltalk.ClassSorterNode.klass)})},messageSends:["theClass:","new","level:","getNodesFrom:","yourself"]}),smalltalk.ClassSorterNode.klass);smalltalk.addPackage("Kernel-Methods");smalltalk.addClass("BlockClosure",smalltalk.Object,[],"Kernel-Methods");smalltalk.addMethod(smalltalk.method({selector:"applyTo:arguments:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){return a.apply(t,l);return a},function(e){e.fill(a,"applyTo:arguments:",{anObject:t,aCollection:l},smalltalk.BlockClosure)})},messageSends:[]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"asCompiledMethod:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return smalltalk.method({selector:t,fn:l});return l},function(a){a.fill(l,"asCompiledMethod:",{aString:t},smalltalk.BlockClosure)})},messageSends:[]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"compiledSource",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.toString();return t},function(l){l.fill(t,"compiledSource",{},smalltalk.BlockClosure)})},messageSends:[]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"currySelf",fn:function(){var t=this;return smalltalk.withContext(function(l){return function(){var l=[this];l.push.apply(l,arguments);return t.apply(null,l)};return t},function(l){l.fill(t,"currySelf",{},smalltalk.BlockClosure)})},messageSends:[]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"ensure:",fn:function(t){var l=this;return smalltalk.withContext(function(a){try{return l()}finally{t._value()}return l},function(a){a.fill(l,"ensure:",{aBlock:t},smalltalk.BlockClosure)})},messageSends:[]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"fork",fn:function(){var t=this;function l(){return smalltalk.ForkPool||(typeof ForkPool=="undefined"?nil:ForkPool)}return smalltalk.withContext(function(a){_st(_st(l())._default())._fork_(t);return t},function(l){l.fill(t,"fork",{},smalltalk.BlockClosure)})},messageSends:["fork:","default"]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"new",fn:function(){var t=this;return smalltalk.withContext(function(l){return new t;return t},function(l){l.fill(t,"new",{},smalltalk.BlockClosure)})},messageSends:[]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"newValue:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return new l(t);return l},function(a){a.fill(l,"newValue:",{anObject:t},smalltalk.BlockClosure)})},messageSends:[]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"newValue:value:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){return new a(t,l);return a},function(e){e.fill(a,"newValue:value:",{anObject:t,anObject2:l},smalltalk.BlockClosure)})},messageSends:[]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"newValue:value:value:",fn:function(t,l,a){var e=this;return smalltalk.withContext(function(s){return new e(t,l,a);return e},function(s){s.fill(e,"newValue:value:value:",{anObject:t,anObject2:l,anObject3:a},smalltalk.BlockClosure)})},messageSends:[]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"numArgs",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.length;return t},function(l){l.fill(t,"numArgs",{},smalltalk.BlockClosure)})},messageSends:[]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"on:do:",fn:function(t,l){var a=this;function e(){return smalltalk.Smalltalk||(typeof Smalltalk=="undefined"?nil:Smalltalk)}return smalltalk.withContext(function(s){var n,o;o=_st(a)._try_catch_(a,function(a){var o;return smalltalk.withContext(function(s){o=_st(_st(e())._current())._asSmalltalkException_(a);o;n=_st(o)._isKindOf_(t);if(smalltalk.assert(n)){return _st(l)._value_(o)}else{return _st(o)._signal()}},function(t){t.fillBlock({error:a,smalltalkError:o},s)})});return o},function(e){e.fill(a,"on:do:",{anErrorClass:t,aBlock:l},smalltalk.BlockClosure)})},messageSends:["try:catch:","asSmalltalkException:","current","ifTrue:ifFalse:","value:","signal","isKindOf:"]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"timeToRun",fn:function(){var t=this;function l(){return smalltalk.Date||(typeof Date=="undefined"?nil:Date)}return smalltalk.withContext(function(a){var e;e=_st(l())._millisecondsToRun_(t);return e},function(l){l.fill(t,"timeToRun",{},smalltalk.BlockClosure)})},messageSends:["millisecondsToRun:"]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"value",fn:function(){var t=this;return smalltalk.withContext(function(l){return t();return t},function(l){l.fill(t,"value",{},smalltalk.BlockClosure)})},messageSends:[]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"value:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l(t);return l},function(a){a.fill(l,"value:",{anArg:t},smalltalk.BlockClosure)})},messageSends:[]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"value:value:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){return a(t,l);return a},function(e){e.fill(a,"value:value:",{firstArg:t,secondArg:l},smalltalk.BlockClosure)})},messageSends:[]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"value:value:value:",fn:function(t,l,a){var e=this;return smalltalk.withContext(function(s){return e(t,l,a);return e},function(s){s.fill(e,"value:value:value:",{firstArg:t,secondArg:l,thirdArg:a},smalltalk.BlockClosure)})},messageSends:[]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"valueWithInterval:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e=setInterval(l,t);return smalltalk.Timeout._on_(e);return l},function(a){a.fill(l,"valueWithInterval:",{aNumber:t},smalltalk.BlockClosure)})},messageSends:[]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"valueWithPossibleArguments:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l.apply(null,t);return l},function(a){a.fill(l,"valueWithPossibleArguments:",{aCollection:t},smalltalk.BlockClosure)})},messageSends:[]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"valueWithTimeout:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e=setTimeout(l,t);return smalltalk.Timeout._on_(e);return l},function(a){a.fill(l,"valueWithTimeout:",{aNumber:t},smalltalk.BlockClosure)})},messageSends:[]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"whileFalse",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._whileFalse_(function(){return smalltalk.withContext(function(t){},function(t){t.fillBlock({},l)})});return t},function(l){l.fill(t,"whileFalse",{},smalltalk.BlockClosure)})},messageSends:["whileFalse:"]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"whileFalse:",fn:function(t){var l=this;return smalltalk.withContext(function(a){while(!l()){t()}return l},function(a){a.fill(l,"whileFalse:",{aBlock:t},smalltalk.BlockClosure)})},messageSends:[]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"whileTrue",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._whileTrue_(function(){return smalltalk.withContext(function(t){},function(t){t.fillBlock({},l)})});return t},function(l){l.fill(t,"whileTrue",{},smalltalk.BlockClosure)})},messageSends:["whileTrue:"]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"whileTrue:",fn:function(t){var l=this;return smalltalk.withContext(function(a){while(l()){t()}return l},function(a){a.fill(l,"whileTrue:",{aBlock:t},smalltalk.BlockClosure)})},messageSends:[]}),smalltalk.BlockClosure);smalltalk.addClass("CompiledMethod",smalltalk.Object,[],"Kernel-Methods");smalltalk.addMethod(smalltalk.method({selector:"arguments",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.args||[];return t},function(l){l.fill(t,"arguments",{},smalltalk.CompiledMethod)})},messageSends:[]}),smalltalk.CompiledMethod);smalltalk.addMethod(smalltalk.method({selector:"category",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=_st(t)._basicAt_("category");if(($receiver=a)==nil||$receiver==undefined){e=_st(t)._defaultCategory()}else{e=a}return e},function(l){l.fill(t,"category",{},smalltalk.CompiledMethod)})},messageSends:["ifNil:","defaultCategory","basicAt:"]}),smalltalk.CompiledMethod);smalltalk.addMethod(smalltalk.method({selector:"category:",fn:function(t){var l=this;var a;function e(){return smalltalk.MethodMoved||(typeof MethodMoved=="undefined"?nil:MethodMoved)}function s(){return smalltalk.SystemAnnouncer||(typeof SystemAnnouncer=="undefined"?nil:SystemAnnouncer)}return smalltalk.withContext(function(n){var o,r,i;a=_st(l)._protocol();_st(l)._basicAt_put_("category",t);o=_st(e())._new();_st(o)._method_(l);_st(o)._oldProtocol_(a);r=_st(o)._yourself();_st(_st(s())._current())._announce_(r);i=_st(l)._methodClass();if(($receiver=i)==nil||$receiver==undefined){i}else{_st(_st(_st(l)._methodClass())._organization())._addElement_(t);_st(_st(_st(_st(l)._methodClass())._methods())._select_(function(t){return smalltalk.withContext(function(l){return _st(_st(t)._protocol()).__eq(a)},function(l){l.fillBlock({each:t},n)})}))._ifEmpty_(function(){return smalltalk.withContext(function(t){return _st(_st(_st(l)._methodClass())._organization())._removeElement_(a)},function(t){t.fillBlock({},n)})})}return l},function(e){e.fill(l,"category:",{aString:t,oldProtocol:a},smalltalk.CompiledMethod)})},messageSends:["protocol","basicAt:put:","announce:","method:","new","oldProtocol:","yourself","current","ifNotNil:","addElement:","organization","methodClass","ifEmpty:","removeElement:","select:","=","methods"]}),smalltalk.CompiledMethod);smalltalk.addMethod(smalltalk.method({selector:"defaultCategory",fn:function(){var t=this;return smalltalk.withContext(function(t){return"as yet unclassified"},function(l){l.fill(t,"defaultCategory",{},smalltalk.CompiledMethod)})},messageSends:[]}),smalltalk.CompiledMethod);smalltalk.addMethod(smalltalk.method({selector:"fn",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._basicAt_("fn");return a},function(l){l.fill(t,"fn",{},smalltalk.CompiledMethod)})},messageSends:["basicAt:"]}),smalltalk.CompiledMethod);smalltalk.addMethod(smalltalk.method({selector:"fn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._basicAt_put_("fn",t);return l},function(a){a.fill(l,"fn:",{aBlock:t},smalltalk.CompiledMethod)})},messageSends:["basicAt:put:"]}),smalltalk.CompiledMethod);smalltalk.addMethod(smalltalk.method({selector:"isCompiledMethod",fn:function(){var t=this;return smalltalk.withContext(function(t){return true},function(l){l.fill(t,"isCompiledMethod",{},smalltalk.CompiledMethod)})},messageSends:[]}),smalltalk.CompiledMethod);smalltalk.addMethod(smalltalk.method({selector:"isOverridden",fn:function(){var t=this;var l;return smalltalk.withContext(function(a){var e;var s={};try{l=_st(t)._selector();_st(_st(t)._methodClass())._allSubclassesDo_(function(t){return smalltalk.withContext(function(a){e=_st(t)._includesSelector_(l);if(smalltalk.assert(e)){throw s=[true]}},function(l){l.fillBlock({each:t},a)})});return false}catch(n){if(n===s)return n[0];throw n}},function(a){a.fill(t,"isOverridden",{selector:l},smalltalk.CompiledMethod)})},messageSends:["selector","allSubclassesDo:","ifTrue:","includesSelector:","methodClass"]}),smalltalk.CompiledMethod);smalltalk.addMethod(smalltalk.method({selector:"isOverride",fn:function(){var t=this;var l;return smalltalk.withContext(function(a){var e,s;l=_st(_st(t)._methodClass())._superclass();e=l;if(($receiver=e)==nil||$receiver==undefined){return false}else{e}s=_st(_st(_st(_st(t)._methodClass())._superclass())._lookupSelector_(_st(t)._selector()))._notNil();return s},function(a){a.fill(t,"isOverride",{superclass:l},smalltalk.CompiledMethod)})},messageSends:["superclass","methodClass","ifNil:","notNil","lookupSelector:","selector"]}),smalltalk.CompiledMethod);smalltalk.addMethod(smalltalk.method({selector:"messageSends",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._basicAt_("messageSends");return a},function(l){l.fill(t,"messageSends",{},smalltalk.CompiledMethod)})},messageSends:["basicAt:"]}),smalltalk.CompiledMethod);smalltalk.addMethod(smalltalk.method({selector:"methodClass",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._basicAt_("methodClass");return a},function(l){l.fill(t,"methodClass",{},smalltalk.CompiledMethod)})},messageSends:["basicAt:"]}),smalltalk.CompiledMethod);smalltalk.addMethod(smalltalk.method({selector:"protocol",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._category();return a},function(l){l.fill(t,"protocol",{},smalltalk.CompiledMethod)})},messageSends:["category"]}),smalltalk.CompiledMethod);smalltalk.addMethod(smalltalk.method({selector:"protocol:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._category_(t);return l},function(a){a.fill(l,"protocol:",{aString:t},smalltalk.CompiledMethod)})},messageSends:["category:"]}),smalltalk.CompiledMethod);smalltalk.addMethod(smalltalk.method({selector:"referencedClasses",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._basicAt_("referencedClasses");return a},function(l){l.fill(t,"referencedClasses",{},smalltalk.CompiledMethod)})},messageSends:["basicAt:"]}),smalltalk.CompiledMethod);smalltalk.addMethod(smalltalk.method({selector:"selector",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._basicAt_("selector");return a},function(l){l.fill(t,"selector",{},smalltalk.CompiledMethod)})},messageSends:["basicAt:"]}),smalltalk.CompiledMethod);smalltalk.addMethod(smalltalk.method({selector:"selector:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._basicAt_put_("selector",t);return l},function(a){a.fill(l,"selector:",{aString:t},smalltalk.CompiledMethod)})},messageSends:["basicAt:put:"]}),smalltalk.CompiledMethod);smalltalk.addMethod(smalltalk.method({selector:"source",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=_st(t)._basicAt_("source");if(($receiver=a)==nil||$receiver==undefined){e=""}else{e=a}return e},function(l){l.fill(t,"source",{},smalltalk.CompiledMethod)})},messageSends:["ifNil:","basicAt:"]}),smalltalk.CompiledMethod);smalltalk.addMethod(smalltalk.method({selector:"source:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._basicAt_put_("source",t);return l},function(a){a.fill(l,"source:",{aString:t},smalltalk.CompiledMethod)})},messageSends:["basicAt:put:"]}),smalltalk.CompiledMethod);smalltalk.addClass("ForkPool",smalltalk.Object,["poolSize","maxPoolSize","queue","worker"],"Kernel-Methods");smalltalk.addMethod(smalltalk.method({selector:"addWorker",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t["@worker"])._valueWithTimeout_(0);t["@poolSize"]=_st(t["@poolSize"]).__plus(1);return t},function(l){l.fill(t,"addWorker",{},smalltalk.ForkPool)})},messageSends:["valueWithTimeout:","+"]}),smalltalk.ForkPool);smalltalk.addMethod(smalltalk.method({selector:"defaultMaxPoolSize",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._class())._defaultMaxPoolSize();return a},function(l){l.fill(t,"defaultMaxPoolSize",{},smalltalk.ForkPool)})},messageSends:["defaultMaxPoolSize","class"]}),smalltalk.ForkPool);smalltalk.addMethod(smalltalk.method({selector:"fork:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l["@poolSize"]).__lt(_st(l)._maxPoolSize());if(smalltalk.assert(e)){_st(l)._addWorker()}_st(l["@queue"])._nextPut_(t);return l},function(a){a.fill(l,"fork:",{aBlock:t},smalltalk.ForkPool)})},messageSends:["ifTrue:","addWorker","<","maxPoolSize","nextPut:"]}),smalltalk.ForkPool);smalltalk.addMethod(smalltalk.method({selector:"initialize",fn:function(){var t=this;function l(){return smalltalk.Queue||(typeof Queue=="undefined"?nil:Queue)}return smalltalk.withContext(function(a){smalltalk.Object.fn.prototype._initialize.apply(_st(t),[]);t["@poolSize"]=0;t["@queue"]=_st(l())._new();t["@worker"]=_st(t)._makeWorker();return t},function(l){l.fill(t,"initialize",{},smalltalk.ForkPool)})},messageSends:["initialize","new","makeWorker"]}),smalltalk.ForkPool);smalltalk.addMethod(smalltalk.method({selector:"makeWorker",fn:function(){var t=this;var l;function a(){return smalltalk.Object||(typeof Object=="undefined"?nil:Object)}return smalltalk.withContext(function(e){var s,n;l=_st(a())._new();n=function(){var a;return smalltalk.withContext(function(n){t["@poolSize"]=_st(t["@poolSize"]).__minus(1);t["@poolSize"];a=_st(t["@queue"])._nextIfAbsent_(function(){return smalltalk.withContext(function(t){return l},function(t){t.fillBlock({},e)})});a;s=_st(a).__eq_eq(l);if(!smalltalk.assert(s)){return _st(function(){return smalltalk.withContext(function(t){return _st(a)._value()},function(t){t.fillBlock({},e)})})._ensure_(function(){return smalltalk.withContext(function(l){return _st(t)._addWorker()},function(t){t.fillBlock({},e)})})}},function(t){t.fillBlock({block:a},e)})};return n},function(a){a.fill(t,"makeWorker",{sentinel:l},smalltalk.ForkPool)})},messageSends:["new","-","nextIfAbsent:","ifFalse:","ensure:","addWorker","value","=="]}),smalltalk.ForkPool);smalltalk.addMethod(smalltalk.method({selector:"maxPoolSize",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@maxPoolSize"];if(($receiver=a)==nil||$receiver==undefined){e=_st(t)._defaultMaxPoolSize()}else{e=a}return e},function(l){l.fill(t,"maxPoolSize",{},smalltalk.ForkPool)})},messageSends:["ifNil:","defaultMaxPoolSize"]}),smalltalk.ForkPool);smalltalk.addMethod(smalltalk.method({selector:"maxPoolSize:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@maxPoolSize"]=t;return l},function(a){a.fill(l,"maxPoolSize:",{anInteger:t},smalltalk.ForkPool)})},messageSends:[]}),smalltalk.ForkPool);smalltalk.ForkPool.klass.iVarNames=["default"];smalltalk.addMethod(smalltalk.method({selector:"default",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@default"];if(($receiver=a)==nil||$receiver==undefined){t["@default"]=_st(t)._new();e=t["@default"]}else{e=a}return e},function(l){l.fill(t,"default",{},smalltalk.ForkPool.klass)})},messageSends:["ifNil:","new"]}),smalltalk.ForkPool.klass);smalltalk.addMethod(smalltalk.method({selector:"defaultMaxPoolSize",fn:function(){var t=this;return smalltalk.withContext(function(t){var l;l=100;return l},function(l){l.fill(t,"defaultMaxPoolSize",{},smalltalk.ForkPool.klass)})},messageSends:[]}),smalltalk.ForkPool.klass);smalltalk.addMethod(smalltalk.method({selector:"resetDefault",fn:function(){var t=this;return smalltalk.withContext(function(l){t["@default"]=nil;return t},function(l){l.fill(t,"resetDefault",{},smalltalk.ForkPool.klass)})},messageSends:[]}),smalltalk.ForkPool.klass);smalltalk.addClass("Message",smalltalk.Object,["selector","arguments"],"Kernel-Methods");smalltalk.addMethod(smalltalk.method({selector:"arguments",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@arguments"];return a},function(l){l.fill(t,"arguments",{},smalltalk.Message)})},messageSends:[]}),smalltalk.Message);smalltalk.addMethod(smalltalk.method({selector:"arguments:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@arguments"]=t;return l},function(a){a.fill(l,"arguments:",{anArray:t},smalltalk.Message)})},messageSends:[]}),smalltalk.Message);smalltalk.addMethod(smalltalk.method({selector:"printOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;smalltalk.Object.fn.prototype._printOn_.apply(_st(l),[t]);e=t;_st(e)._nextPutAll_("(");_st(e)._nextPutAll_(_st(l)._selector());s=_st(e)._nextPutAll_(")");return l},function(a){a.fill(l,"printOn:",{aStream:t},smalltalk.Message)})},messageSends:["printOn:","nextPutAll:","selector"]}),smalltalk.Message);smalltalk.addMethod(smalltalk.method({selector:"selector",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@selector"];return a},function(l){l.fill(t,"selector",{},smalltalk.Message)})},messageSends:[]}),smalltalk.Message);smalltalk.addMethod(smalltalk.method({selector:"selector:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@selector"]=t;return l},function(a){a.fill(l,"selector:",{aString:t},smalltalk.Message)})},messageSends:[]}),smalltalk.Message);smalltalk.addMethod(smalltalk.method({selector:"sendTo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(t)._perform_withArguments_(_st(l)._selector(),_st(l)._arguments());return e},function(a){a.fill(l,"sendTo:",{anObject:t},smalltalk.Message)})},messageSends:["perform:withArguments:","selector","arguments"]}),smalltalk.Message);smalltalk.addMethod(smalltalk.method({selector:"selector:arguments:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s,n,o;s=_st(a)._new();_st(s)._selector_(t);_st(s)._arguments_(l);n=_st(s)._yourself();o=n;return o},function(e){e.fill(a,"selector:arguments:",{aString:t,anArray:l},smalltalk.Message.klass)})},messageSends:["selector:","new","arguments:","yourself"]}),smalltalk.Message.klass);smalltalk.addClass("MethodContext",smalltalk.Object,[],"Kernel-Methods");smalltalk.addMethod(smalltalk.method({selector:"asString",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=_st(t)._isBlockContext();if(smalltalk.assert(a)){e=_st(_st("a block (in ").__comma(_st(_st(_st(_st(t)._methodContext())._receiver())._class())._printString())).__comma(")")}else{e=_st(_st(_st(_st(_st(t)._receiver())._class())._printString()).__comma(" >> ")).__comma(_st(t)._selector())}return e},function(l){l.fill(t,"asString",{},smalltalk.MethodContext)})},messageSends:["ifTrue:ifFalse:",",","printString","class","receiver","methodContext","selector","isBlockContext"]}),smalltalk.MethodContext);smalltalk.addMethod(smalltalk.method({selector:"home",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.methodContext||t.homeContext;return t},function(l){l.fill(t,"home",{},smalltalk.MethodContext)})},messageSends:[]}),smalltalk.MethodContext);smalltalk.addMethod(smalltalk.method({selector:"isBlockContext",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._selector())._isNil();return a},function(l){l.fill(t,"isBlockContext",{},smalltalk.MethodContext)})},messageSends:["isNil","selector"]}),smalltalk.MethodContext);smalltalk.addMethod(smalltalk.method({selector:"locals",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.locals;return t},function(l){l.fill(t,"locals",{},smalltalk.MethodContext)})},messageSends:[]}),smalltalk.MethodContext);smalltalk.addMethod(smalltalk.method({selector:"method",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(_st(_st(t)._methodContext())._receiver())._class())._lookupSelector_(_st(_st(t)._methodContext())._selector());return a},function(l){l.fill(t,"method",{},smalltalk.MethodContext)})},messageSends:["lookupSelector:","selector","methodContext","class","receiver"]}),smalltalk.MethodContext);smalltalk.addMethod(smalltalk.method({selector:"methodContext",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e,s;a=_st(t)._isBlockContext();if(!smalltalk.assert(a)){e=t;return e}s=_st(t)._home();return s},function(l){l.fill(t,"methodContext",{},smalltalk.MethodContext)})},messageSends:["ifFalse:","isBlockContext","home"]}),smalltalk.MethodContext);smalltalk.addMethod(smalltalk.method({selector:"outerContext",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.homeContext;return t},function(l){l.fill(t,"outerContext",{},smalltalk.MethodContext)})},messageSends:[]}),smalltalk.MethodContext);smalltalk.addMethod(smalltalk.method({selector:"pc",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.pc;return t},function(l){l.fill(t,"pc",{},smalltalk.MethodContext)})},messageSends:[]}),smalltalk.MethodContext);smalltalk.addMethod(smalltalk.method({selector:"printOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;smalltalk.Object.fn.prototype._printOn_.apply(_st(l),[t]);e=t;_st(e)._nextPutAll_("(");_st(e)._nextPutAll_(_st(l)._asString());s=_st(e)._nextPutAll_(")");return l},function(a){a.fill(l,"printOn:",{aStream:t},smalltalk.MethodContext)})},messageSends:["printOn:","nextPutAll:","asString"]}),smalltalk.MethodContext);smalltalk.addMethod(smalltalk.method({selector:"receiver",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.receiver;return t},function(l){l.fill(t,"receiver",{},smalltalk.MethodContext)})},messageSends:[]}),smalltalk.MethodContext);smalltalk.addMethod(smalltalk.method({selector:"selector",fn:function(){var t=this;return smalltalk.withContext(function(l){if(t.selector){return smalltalk.convertSelector(t.selector)}else{return nil}return t},function(l){l.fill(t,"selector",{},smalltalk.MethodContext)})},messageSends:[]}),smalltalk.MethodContext);smalltalk.addMethod(smalltalk.method({selector:"temps",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;_st(t)._deprecatedAPI();a=_st(t)._locals();return a},function(l){l.fill(t,"temps",{},smalltalk.MethodContext)})},messageSends:["deprecatedAPI","locals"]}),smalltalk.MethodContext);smalltalk.addClass("NativeFunction",smalltalk.Object,[],"Kernel-Methods");smalltalk.addMethod(smalltalk.method({selector:"constructor:",fn:function(aString){var self=this;return smalltalk.withContext(function($ctx1){var native=eval(aString);return new native;return self},function(t){t.fill(self,"constructor:",{aString:aString},smalltalk.NativeFunction.klass)})},messageSends:[]}),smalltalk.NativeFunction.klass);smalltalk.addMethod(smalltalk.method({selector:"constructor:value:",fn:function(aString,anObject){var self=this;return smalltalk.withContext(function($ctx1){var native=eval(aString);return new native(anObject);return self},function(t){t.fill(self,"constructor:value:",{aString:aString,anObject:anObject},smalltalk.NativeFunction.klass)})},messageSends:[]}),smalltalk.NativeFunction.klass);smalltalk.addMethod(smalltalk.method({selector:"constructor:value:value:",fn:function(aString,anObject,anObject2){var self=this;return smalltalk.withContext(function($ctx1){var native=eval(aString);return new native(anObject,anObject2);return self},function(t){t.fill(self,"constructor:value:value:",{aString:aString,anObject:anObject,anObject2:anObject2},smalltalk.NativeFunction.klass)})},messageSends:[]}),smalltalk.NativeFunction.klass);smalltalk.addMethod(smalltalk.method({selector:"constructor:value:value:value:",fn:function(aString,anObject,anObject2,anObject3){var self=this;return smalltalk.withContext(function($ctx1){var native=eval(aString);return new native(anObject,anObject2,anObject3);return self},function(t){t.fill(self,"constructor:value:value:value:",{aString:aString,anObject:anObject,anObject2:anObject2,anObject3:anObject3},smalltalk.NativeFunction.klass)})},messageSends:[]}),smalltalk.NativeFunction.klass);smalltalk.addMethod(smalltalk.method({selector:"exists:",fn:function(t){var l=this;return smalltalk.withContext(function(a){if(t in window){return true}else{return false}return l},function(a){a.fill(l,"exists:",{aString:t},smalltalk.NativeFunction.klass)})},messageSends:[]}),smalltalk.NativeFunction.klass);smalltalk.addPackage("Kernel-Collections");smalltalk.addClass("Association",smalltalk.Object,["key","value"],"Kernel-Collections");smalltalk.addMethod(smalltalk.method({selector:"=",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(_st(l)._class()).__eq(_st(t)._class()))._and_(function(){return smalltalk.withContext(function(e){return _st(_st(_st(l)._key()).__eq(_st(t)._key()))._and_(function(){return smalltalk.withContext(function(a){return _st(_st(l)._value()).__eq(_st(t)._value())},function(t){t.fillBlock({},a)})})},function(t){t.fillBlock({},a)})});return e},function(a){a.fill(l,"=",{anAssociation:t},smalltalk.Association)})},messageSends:["and:","=","value","key","class"]}),smalltalk.Association);smalltalk.addMethod(smalltalk.method({selector:"key",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@key"];return a},function(l){l.fill(t,"key",{},smalltalk.Association)})},messageSends:[]}),smalltalk.Association);smalltalk.addMethod(smalltalk.method({selector:"key:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@key"]=t;return l},function(a){a.fill(l,"key:",{aKey:t},smalltalk.Association)})},messageSends:[]}),smalltalk.Association);smalltalk.addMethod(smalltalk.method({selector:"printOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._key())._printOn_(t);_st(t)._nextPutAll_(" -> ");_st(_st(l)._value())._printOn_(t);return l},function(a){a.fill(l,"printOn:",{aStream:t},smalltalk.Association)})},messageSends:["printOn:","key","nextPutAll:","value"]}),smalltalk.Association);smalltalk.addMethod(smalltalk.method({selector:"value",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@value"];return a},function(l){l.fill(t,"value",{},smalltalk.Association)})},messageSends:[]}),smalltalk.Association);smalltalk.addMethod(smalltalk.method({selector:"value:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@value"]=t;return l},function(a){a.fill(l,"value:",{aValue:t},smalltalk.Association)})},messageSends:[]}),smalltalk.Association);smalltalk.addMethod(smalltalk.method({selector:"key:value:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s,n,o;s=_st(a)._new();_st(s)._key_(t);_st(s)._value_(l);n=_st(s)._yourself();o=n;return o},function(e){e.fill(a,"key:value:",{aKey:t,aValue:l},smalltalk.Association.klass)})},messageSends:["key:","new","value:","yourself"]}),smalltalk.Association.klass);smalltalk.addClass("Collection",smalltalk.Object,[],"Kernel-Collections");smalltalk.addMethod(smalltalk.method({selector:",",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=_st(l)._copy();_st(e)._addAll_(t);s=_st(e)._yourself();n=s;return n},function(a){a.fill(l,",",{aCollection:t},smalltalk.Collection)})},messageSends:["addAll:","copy","yourself"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"add:",fn:function(t){var l=this;return smalltalk.withContext(function(t){_st(l)._subclassResponsibility();return l},function(a){a.fill(l,"add:",{anObject:t},smalltalk.Collection)})},messageSends:["subclassResponsibility"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"addAll:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;_st(t)._do_(function(t){return smalltalk.withContext(function(a){return _st(l)._add_(t)},function(l){l.fillBlock({each:t},a)})});e=t;return e},function(a){a.fill(l,"addAll:",{aCollection:t},smalltalk.Collection)})},messageSends:["do:","add:"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"asArray",fn:function(){var t=this;function l(){return smalltalk.Array||(typeof Array=="undefined"?nil:Array)}return smalltalk.withContext(function(a){var e;e=_st(l())._withAll_(t);return e},function(l){l.fill(t,"asArray",{},smalltalk.Collection)})},messageSends:["withAll:"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"asJSON",fn:function(){var t=this;
return smalltalk.withContext(function(l){var a;a=_st(_st(t)._asArray())._collect_(function(t){return smalltalk.withContext(function(l){return _st(t)._asJSON()},function(a){a.fillBlock({each:t},l)})});return a},function(l){l.fill(t,"asJSON",{},smalltalk.Collection)})},messageSends:["collect:","asJSON","asArray"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"asOrderedCollection",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._asArray();return a},function(l){l.fill(t,"asOrderedCollection",{},smalltalk.Collection)})},messageSends:["asArray"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"asSet",fn:function(){var t=this;function l(){return smalltalk.Set||(typeof Set=="undefined"?nil:Set)}return smalltalk.withContext(function(a){var e;e=_st(l())._withAll_(t);return e},function(l){l.fill(t,"asSet",{},smalltalk.Collection)})},messageSends:["withAll:"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"collect:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s;a=_st(_st(_st(l)._class())._new())._writeStream();_st(l)._do_(function(l){return smalltalk.withContext(function(e){return _st(a)._nextPut_(_st(t)._value_(l))},function(t){t.fillBlock({each:l},e)})});s=_st(a)._contents();return s},function(e){e.fill(l,"collect:",{aBlock:t,stream:a},smalltalk.Collection)})},messageSends:["writeStream","new","class","do:","nextPut:","value:","contents"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"copyWith:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=_st(l)._copy();_st(e)._add_(t);s=_st(e)._yourself();n=s;return n},function(a){a.fill(l,"copyWith:",{anObject:t},smalltalk.Collection)})},messageSends:["add:","copy","yourself"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"copyWithAll:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=_st(l)._copy();_st(e)._addAll_(t);s=_st(e)._yourself();n=s;return n},function(a){a.fill(l,"copyWithAll:",{aCollection:t},smalltalk.Collection)})},messageSends:["addAll:","copy","yourself"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"copyWithoutAll:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l)._reject_(function(l){return smalltalk.withContext(function(a){return _st(t)._includes_(l)},function(t){t.fillBlock({each:l},a)})});return e},function(a){a.fill(l,"copyWithoutAll:",{aCollection:t},smalltalk.Collection)})},messageSends:["reject:","includes:"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"detect:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l)._detect_ifNone_(t,function(){return smalltalk.withContext(function(t){return _st(l)._errorNotFound()},function(t){t.fillBlock({},a)})});return e},function(a){a.fill(l,"detect:",{aBlock:t},smalltalk.Collection)})},messageSends:["detect:ifNone:","errorNotFound"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"detect:ifNone:",fn:function(t,l){var a=this;return smalltalk.withContext(function(t){_st(a)._subclassResponsibility();return a},function(e){e.fill(a,"detect:ifNone:",{aBlock:t,anotherBlock:l},smalltalk.Collection)})},messageSends:["subclassResponsibility"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"do:",fn:function(t){var l=this;return smalltalk.withContext(function(t){_st(l)._subclassResponsibility();return l},function(a){a.fill(l,"do:",{aBlock:t},smalltalk.Collection)})},messageSends:["subclassResponsibility"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"do:separatedBy:",fn:function(t,l){var a=this;var e;return smalltalk.withContext(function(s){e=function(){return smalltalk.withContext(function(t){e=l;return e},function(t){t.fillBlock({},s)})};_st(a)._do_(function(l){return smalltalk.withContext(function(a){_st(e)._value();return _st(t)._value_(l)},function(t){t.fillBlock({each:l},s)})});return a},function(s){s.fill(a,"do:separatedBy:",{aBlock:t,anotherBlock:l,actionBeforeElement:e},smalltalk.Collection)})},messageSends:["do:","value","value:"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"errorNotFound",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._error_("Object is not in the collection");return t},function(l){l.fill(t,"errorNotFound",{},smalltalk.Collection)})},messageSends:["error:"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"ifEmpty:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;e=_st(l)._isEmpty();if(smalltalk.assert(e)){s=_st(t)._value()}else{s=l}return s},function(a){a.fill(l,"ifEmpty:",{aBlock:t},smalltalk.Collection)})},messageSends:["ifTrue:ifFalse:","value","isEmpty"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"ifNotEmpty:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l)._notEmpty();_st(e)._ifTrue_(t);return l},function(a){a.fill(l,"ifNotEmpty:",{aBlock:t},smalltalk.Collection)})},messageSends:["ifTrue:","notEmpty"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"includes:",fn:function(t){var l=this;var a;function e(){return smalltalk.Object||(typeof Object=="undefined"?nil:Object)}return smalltalk.withContext(function(s){var n;a=_st(e())._new();n=_st(_st(l)._detect_ifNone_(function(l){return smalltalk.withContext(function(a){return _st(l).__eq(t)},function(t){t.fillBlock({each:l},s)})},function(){return smalltalk.withContext(function(t){return a},function(t){t.fillBlock({},s)})})).__tild_eq(a);return n},function(e){e.fill(l,"includes:",{anObject:t,sentinel:a},smalltalk.Collection)})},messageSends:["new","~=","detect:ifNone:","="]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"inject:into:",fn:function(t,l){var a=this;var e;return smalltalk.withContext(function(s){var n;e=t;_st(a)._do_(function(t){return smalltalk.withContext(function(a){e=_st(l)._value_value_(e,t);return e},function(l){l.fillBlock({each:t},s)})});n=e;return n},function(s){s.fill(a,"inject:into:",{anObject:t,aBlock:l,result:e},smalltalk.Collection)})},messageSends:["do:","value:value:"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"intersection:",fn:function(t){var l=this;var a,e;function s(){return smalltalk.Set||(typeof Set=="undefined"?nil:Set)}return smalltalk.withContext(function(n){var o,r;a=_st(l)._asSet();e=_st(s())._new();_st(t)._do_(function(t){return smalltalk.withContext(function(l){o=_st(_st(a)._includes_(t))._and_(function(){return smalltalk.withContext(function(l){return _st(_st(e)._includes_(t))._not()},function(t){t.fillBlock({},n)})});if(smalltalk.assert(o)){return _st(e)._add_(t)}},function(l){l.fillBlock({each:t},n)})});r=_st(_st(l)._class())._withAll_(_st(e)._asArray());return r},function(s){s.fill(l,"intersection:",{aCollection:t,set:a,outputSet:e},smalltalk.Collection)})},messageSends:["asSet","new","do:","ifTrue:","add:","and:","not","includes:","withAll:","asArray","class"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"isEmpty",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._size()).__eq(0);return a},function(l){l.fill(t,"isEmpty",{},smalltalk.Collection)})},messageSends:["=","size"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"notEmpty",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._isEmpty())._not();return a},function(l){l.fill(t,"notEmpty",{},smalltalk.Collection)})},messageSends:["not","isEmpty"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"occurrencesOf:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s,n;a=0;_st(l)._do_(function(l){return smalltalk.withContext(function(e){s=_st(t).__eq(l);if(smalltalk.assert(s)){a=_st(a).__plus(1);return a}},function(t){t.fillBlock({each:l},e)})});n=a;return n},function(e){e.fill(l,"occurrencesOf:",{anObject:t,tally:a},smalltalk.Collection)})},messageSends:["do:","ifTrue:","+","="]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"putOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._do_(function(l){return smalltalk.withContext(function(a){return _st(l)._putOn_(t)},function(t){t.fillBlock({each:l},a)})});return l},function(a){a.fill(l,"putOn:",{aStream:t},smalltalk.Collection)})},messageSends:["do:","putOn:"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"reject:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l)._select_(function(l){return smalltalk.withContext(function(a){return _st(_st(t)._value_(l)).__eq(false)},function(t){t.fillBlock({each:l},a)})});return e},function(a){a.fill(l,"reject:",{aBlock:t},smalltalk.Collection)})},messageSends:["select:","=","value:"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"remove:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l)._remove_ifAbsent_(t,function(){return smalltalk.withContext(function(t){return _st(l)._errorNotFound()},function(t){t.fillBlock({},a)})});return e},function(a){a.fill(l,"remove:",{anObject:t},smalltalk.Collection)})},messageSends:["remove:ifAbsent:","errorNotFound"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"remove:ifAbsent:",fn:function(t,l){var a=this;return smalltalk.withContext(function(t){_st(a)._subclassResponsibility();return a},function(e){e.fill(a,"remove:ifAbsent:",{anObject:t,aBlock:l},smalltalk.Collection)})},messageSends:["subclassResponsibility"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"select:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s,n;a=_st(_st(_st(l)._class())._new())._writeStream();_st(l)._do_(function(l){return smalltalk.withContext(function(e){s=_st(t)._value_(l);if(smalltalk.assert(s)){return _st(a)._nextPut_(l)}},function(t){t.fillBlock({each:l},e)})});n=_st(a)._contents();return n},function(e){e.fill(l,"select:",{aBlock:t,stream:a},smalltalk.Collection)})},messageSends:["writeStream","new","class","do:","ifTrue:","nextPut:","value:","contents"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"size",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._subclassResponsibility();return t},function(l){l.fill(t,"size",{},smalltalk.Collection)})},messageSends:["subclassResponsibility"]}),smalltalk.Collection);smalltalk.addMethod(smalltalk.method({selector:"new:",fn:function(t){var l=this;return smalltalk.withContext(function(t){var a;a=_st(l)._new();return a},function(a){a.fill(l,"new:",{anInteger:t},smalltalk.Collection.klass)})},messageSends:["new"]}),smalltalk.Collection.klass);smalltalk.addMethod(smalltalk.method({selector:"with:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=_st(l)._new();_st(e)._add_(t);s=_st(e)._yourself();n=s;return n},function(a){a.fill(l,"with:",{anObject:t},smalltalk.Collection.klass)})},messageSends:["add:","new","yourself"]}),smalltalk.Collection.klass);smalltalk.addMethod(smalltalk.method({selector:"with:with:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s,n,o;s=_st(a)._new();_st(s)._add_(t);_st(s)._add_(l);n=_st(s)._yourself();o=n;return o},function(e){e.fill(a,"with:with:",{anObject:t,anotherObject:l},smalltalk.Collection.klass)})},messageSends:["add:","new","yourself"]}),smalltalk.Collection.klass);smalltalk.addMethod(smalltalk.method({selector:"with:with:with:",fn:function(t,l,a){var e=this;return smalltalk.withContext(function(s){var n,o,r;n=_st(e)._new();_st(n)._add_(t);_st(n)._add_(l);_st(n)._add_(a);o=_st(n)._yourself();r=o;return r},function(s){s.fill(e,"with:with:with:",{firstObject:t,secondObject:l,thirdObject:a},smalltalk.Collection.klass)})},messageSends:["add:","new","yourself"]}),smalltalk.Collection.klass);smalltalk.addMethod(smalltalk.method({selector:"withAll:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=_st(l)._new();_st(e)._addAll_(t);s=_st(e)._yourself();n=s;return n},function(a){a.fill(l,"withAll:",{aCollection:t},smalltalk.Collection.klass)})},messageSends:["addAll:","new","yourself"]}),smalltalk.Collection.klass);smalltalk.addClass("IndexableCollection",smalltalk.Collection,[],"Kernel-Collections");smalltalk.addMethod(smalltalk.method({selector:"at:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l)._at_ifAbsent_(t,function(){return smalltalk.withContext(function(t){return _st(l)._errorNotFound()},function(t){t.fillBlock({},a)})});return e},function(a){a.fill(l,"at:",{anIndex:t},smalltalk.IndexableCollection)})},messageSends:["at:ifAbsent:","errorNotFound"]}),smalltalk.IndexableCollection);smalltalk.addMethod(smalltalk.method({selector:"at:ifAbsent:",fn:function(t,l){var a=this;return smalltalk.withContext(function(t){_st(a)._subclassReponsibility();return a},function(e){e.fill(a,"at:ifAbsent:",{anIndex:t,aBlock:l},smalltalk.IndexableCollection)})},messageSends:["subclassReponsibility"]}),smalltalk.IndexableCollection);smalltalk.addMethod(smalltalk.method({selector:"at:ifPresent:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s;s=_st(a)._at_ifPresent_ifAbsent_(t,l,function(){return smalltalk.withContext(function(t){return nil},function(t){t.fillBlock({},e)})});return s},function(e){e.fill(a,"at:ifPresent:",{anIndex:t,aBlock:l},smalltalk.IndexableCollection)})},messageSends:["at:ifPresent:ifAbsent:"]}),smalltalk.IndexableCollection);smalltalk.addMethod(smalltalk.method({selector:"at:ifPresent:ifAbsent:",fn:function(t,l,a){var e=this;return smalltalk.withContext(function(t){_st(e)._subclassReponsibility();return e},function(s){s.fill(e,"at:ifPresent:ifAbsent:",{anIndex:t,aBlock:l,anotherBlock:a},smalltalk.IndexableCollection)})},messageSends:["subclassReponsibility"]}),smalltalk.IndexableCollection);smalltalk.addMethod(smalltalk.method({selector:"at:put:",fn:function(t,l){var a=this;return smalltalk.withContext(function(t){_st(a)._subclassReponsibility();return a},function(e){e.fill(a,"at:put:",{anIndex:t,anObject:l},smalltalk.IndexableCollection)})},messageSends:["subclassReponsibility"]}),smalltalk.IndexableCollection);smalltalk.addMethod(smalltalk.method({selector:"indexOf:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l)._indexOf_ifAbsent_(t,function(){return smalltalk.withContext(function(t){return _st(l)._errorNotFound()},function(t){t.fillBlock({},a)})});return e},function(a){a.fill(l,"indexOf:",{anObject:t},smalltalk.IndexableCollection)})},messageSends:["indexOf:ifAbsent:","errorNotFound"]}),smalltalk.IndexableCollection);smalltalk.addMethod(smalltalk.method({selector:"indexOf:ifAbsent:",fn:function(t,l){var a=this;return smalltalk.withContext(function(t){_st(a)._subclassResponsibility();return a},function(e){e.fill(a,"indexOf:ifAbsent:",{anObject:t,aBlock:l},smalltalk.IndexableCollection)})},messageSends:["subclassResponsibility"]}),smalltalk.IndexableCollection);smalltalk.addMethod(smalltalk.method({selector:"with:do:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){_st(a)._withIndexDo_(function(a,s){return smalltalk.withContext(function(e){return _st(l)._value_value_(a,_st(t)._at_(s))},function(t){t.fillBlock({each:a,index:s},e)})});return a},function(e){e.fill(a,"with:do:",{anotherCollection:t,aBlock:l},smalltalk.IndexableCollection)})},messageSends:["withIndexDo:","value:value:","at:"]}),smalltalk.IndexableCollection);smalltalk.addMethod(smalltalk.method({selector:"withIndexDo:",fn:function(t){var l=this;return smalltalk.withContext(function(t){_st(l)._subclassReponsibility();return l},function(a){a.fill(l,"withIndexDo:",{aBlock:t},smalltalk.IndexableCollection)})},messageSends:["subclassReponsibility"]}),smalltalk.IndexableCollection);smalltalk.addClass("HashedCollection",smalltalk.IndexableCollection,[],"Kernel-Collections");smalltalk.addMethod(smalltalk.method({selector:",",fn:function(t){var l=this;return smalltalk.withContext(function(t){_st(l)._shouldNotImplement();return l},function(a){a.fill(l,",",{aCollection:t},smalltalk.HashedCollection)})},messageSends:["shouldNotImplement"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"=",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=_st(_st(l)._class()).__eq(_st(t)._class());if(!smalltalk.assert(e)){return false}s=_st(_st(l)._size()).__eq(_st(t)._size());if(!smalltalk.assert(s)){return false}n=_st(_st(l)._associations()).__eq(_st(t)._associations());return n},function(a){a.fill(l,"=",{aHashedCollection:t},smalltalk.HashedCollection)})},messageSends:["ifFalse:","=","class","size","associations"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"add:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_(_st(t)._key(),_st(t)._value());return l},function(a){a.fill(l,"add:",{anAssociation:t},smalltalk.HashedCollection)})},messageSends:["at:put:","key","value"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"addAll:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;smalltalk.IndexableCollection.fn.prototype._addAll_.apply(_st(l),[_st(t)._associations()]);e=t;return e},function(a){a.fill(l,"addAll:",{aHashedCollection:t},smalltalk.HashedCollection)})},messageSends:["addAll:","associations"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"asDictionary",fn:function(){var t=this;function l(){return smalltalk.Dictionary||(typeof Dictionary=="undefined"?nil:Dictionary)}return smalltalk.withContext(function(a){var e;e=_st(l())._fromPairs_(_st(t)._associations());return e},function(l){l.fill(t,"asDictionary",{},smalltalk.HashedCollection)})},messageSends:["fromPairs:","associations"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"asJSON",fn:function(){var t=this;var l;return smalltalk.withContext(function(a){var e;l=_st(_st(t)._class())._new();_st(t)._keysAndValuesDo_(function(t,e){return smalltalk.withContext(function(a){return _st(l)._at_put_(t,_st(e)._asJSON())},function(l){l.fillBlock({key:t,value:e},a)})});e=l;return e},function(a){a.fill(t,"asJSON",{c:l},smalltalk.HashedCollection)})},messageSends:["new","class","keysAndValuesDo:","at:put:","asJSON"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"associations",fn:function(){var t=this;var l;return smalltalk.withContext(function(a){var e;l=[];_st(t)._associationsDo_(function(t){return smalltalk.withContext(function(a){return _st(l)._add_(t)},function(l){l.fillBlock({each:t},a)})});e=l;return e},function(a){a.fill(t,"associations",{associations:l},smalltalk.HashedCollection)})},messageSends:["associationsDo:","add:"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"associationsDo:",fn:function(t){var l=this;function a(){return smalltalk.Association||(typeof Association=="undefined"?nil:Association)}return smalltalk.withContext(function(e){_st(l)._keysAndValuesDo_(function(l,s){return smalltalk.withContext(function(e){return _st(t)._value_(_st(a())._key_value_(l,s))},function(t){t.fillBlock({key:l,value:s},e)})});return l},function(a){a.fill(l,"associationsDo:",{aBlock:t},smalltalk.HashedCollection)})},messageSends:["keysAndValuesDo:","value:","key:value:"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"at:ifAbsent:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s,n;s=_st(a)._includesKey_(t);n=_st(s)._ifTrue_ifFalse_(function(){return smalltalk.withContext(function(l){return _st(a)._basicAt_(t)},function(t){t.fillBlock({},e)})},l);return n},function(e){e.fill(a,"at:ifAbsent:",{aKey:t,aBlock:l},smalltalk.HashedCollection)})},messageSends:["ifTrue:ifFalse:","basicAt:","includesKey:"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"at:ifAbsentPut:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s;s=_st(a)._at_ifAbsent_(t,function(){return smalltalk.withContext(function(e){return _st(a)._at_put_(t,_st(l)._value())},function(t){t.fillBlock({},e)})});return s},function(e){e.fill(a,"at:ifAbsentPut:",{aKey:t,aBlock:l},smalltalk.HashedCollection)})},messageSends:["at:ifAbsent:","at:put:","value"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"at:ifPresent:ifAbsent:",fn:function(t,l,a){var e=this;return smalltalk.withContext(function(s){var n,o;n=_st(e)._includesKey_(t);o=_st(n)._ifTrue_ifFalse_(function(){return smalltalk.withContext(function(a){return _st(l)._value_(_st(e)._at_(t))},function(t){t.fillBlock({},s)})},a);return o},function(s){s.fill(e,"at:ifPresent:ifAbsent:",{aKey:t,aBlock:l,anotherBlock:a},smalltalk.HashedCollection)})},messageSends:["ifTrue:ifFalse:","value:","at:","includesKey:"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"at:put:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s;s=_st(a)._basicAt_put_(t,l);return s},function(e){e.fill(a,"at:put:",{aKey:t,aValue:l},smalltalk.HashedCollection)})},messageSends:["basicAt:put:"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"collect:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s;a=_st(_st(l)._class())._new();_st(l)._keysAndValuesDo_(function(l,s){return smalltalk.withContext(function(e){return _st(a)._at_put_(l,_st(t)._value_(s))},function(t){t.fillBlock({key:l,value:s},e)})});s=a;return s},function(e){e.fill(l,"collect:",{aBlock:t,newDict:a},smalltalk.HashedCollection)})},messageSends:["new","class","keysAndValuesDo:","at:put:","value:"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"deepCopy",fn:function(){var t=this;var l;return smalltalk.withContext(function(a){var e;l=_st(_st(t)._class())._new();_st(t)._keysAndValuesDo_(function(t,e){return smalltalk.withContext(function(a){return _st(l)._at_put_(t,_st(e)._deepCopy())},function(l){l.fillBlock({key:t,value:e},a)})});e=l;return e},function(a){a.fill(t,"deepCopy",{copy:l},smalltalk.HashedCollection)})},messageSends:["new","class","keysAndValuesDo:","at:put:","deepCopy"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"detect:ifNone:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s;s=_st(_st(a)._values())._detect_ifNone_(t,l);return s},function(e){e.fill(a,"detect:ifNone:",{aBlock:t,anotherBlock:l},smalltalk.HashedCollection)})},messageSends:["detect:ifNone:","values"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"do:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._valuesDo_(t);return l},function(a){a.fill(l,"do:",{aBlock:t},smalltalk.HashedCollection)})},messageSends:["valuesDo:"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"includes:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._values())._includes_(t);return e},function(a){a.fill(l,"includes:",{anObject:t},smalltalk.HashedCollection)})},messageSends:["includes:","values"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"includesKey:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l.hasOwnProperty(t);return l},function(a){a.fill(l,"includesKey:",{aKey:t},smalltalk.HashedCollection)})},messageSends:[]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"indexOf:ifAbsent:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s;s=_st(_st(a)._keys())._detect_ifNone_(function(l){return smalltalk.withContext(function(e){return _st(_st(a)._at_(l)).__eq(t)},function(t){t.fillBlock({each:l},e)})},l);return s},function(e){e.fill(a,"indexOf:ifAbsent:",{anObject:t,aBlock:l},smalltalk.HashedCollection)})},messageSends:["detect:ifNone:","=","at:","keys"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"keys",fn:function(){var t=this;return smalltalk.withContext(function(l){if("function"===typeof Object.keys)return Object.keys(t);var a=[];for(var e in t){if(t.hasOwnProperty(e)){a.push(e)}}return a;return t},function(l){l.fill(t,"keys",{},smalltalk.HashedCollection)})},messageSends:[]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"keysAndValuesDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._keysDo_(function(e){return smalltalk.withContext(function(a){return _st(t)._value_value_(e,_st(l)._at_(e))},function(t){t.fillBlock({each:e},a)})});return l},function(a){a.fill(l,"keysAndValuesDo:",{aBlock:t},smalltalk.HashedCollection)})},messageSends:["keysDo:","value:value:","at:"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"keysDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._keys())._do_(t);return l},function(a){a.fill(l,"keysDo:",{aBlock:t},smalltalk.HashedCollection)})},messageSends:["do:","keys"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"printOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){smalltalk.IndexableCollection.fn.prototype._printOn_.apply(_st(l),[t]);_st(t)._nextPutAll_(" (");_st(_st(l)._associations())._do_separatedBy_(function(l){return smalltalk.withContext(function(a){return _st(l)._printOn_(t)},function(t){t.fillBlock({each:l},a)})},function(){return smalltalk.withContext(function(l){return _st(t)._nextPutAll_(" , ")},function(t){t.fillBlock({},a)})});_st(t)._nextPutAll_(")");return l},function(a){a.fill(l,"printOn:",{aStream:t},smalltalk.HashedCollection)})},messageSends:["printOn:","nextPutAll:","do:separatedBy:","associations"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"remove:ifAbsent:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s;s=_st(a)._removeKey_ifAbsent_(t,l);return s},function(e){e.fill(a,"remove:ifAbsent:",{aKey:t,aBlock:l},smalltalk.HashedCollection)})},messageSends:["removeKey:ifAbsent:"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"removeKey:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l)._remove_(t);return e},function(a){a.fill(l,"removeKey:",{aKey:t},smalltalk.HashedCollection)})},messageSends:["remove:"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"removeKey:ifAbsent:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s,n;s=_st(a)._includesKey_(t);if(smalltalk.assert(s)){n=_st(a)._basicDelete_(t)}else{n=_st(l)._value()}return n},function(e){e.fill(a,"removeKey:ifAbsent:",{aKey:t,aBlock:l},smalltalk.HashedCollection)})},messageSends:["ifFalse:ifTrue:","value","basicDelete:","includesKey:"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"select:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s,n;a=_st(_st(l)._class())._new();_st(l)._keysAndValuesDo_(function(l,n){return smalltalk.withContext(function(e){s=_st(t)._value_(n);if(smalltalk.assert(s)){return _st(a)._at_put_(l,n)}},function(t){t.fillBlock({key:l,value:n},e)})});n=a;return n},function(e){e.fill(l,"select:",{aBlock:t,newDict:a},smalltalk.HashedCollection)})},messageSends:["new","class","keysAndValuesDo:","ifTrue:","at:put:","value:"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"shallowCopy",fn:function(){var t=this;var l;return smalltalk.withContext(function(a){var e;l=_st(_st(t)._class())._new();_st(t)._keysAndValuesDo_(function(t,e){return smalltalk.withContext(function(a){return _st(l)._at_put_(t,e)},function(l){l.fillBlock({key:t,value:e},a)})});e=l;return e},function(a){a.fill(t,"shallowCopy",{copy:l},smalltalk.HashedCollection)})},messageSends:["new","class","keysAndValuesDo:","at:put:"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"size",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._keys())._size();return a},function(l){l.fill(t,"size",{},smalltalk.HashedCollection)})},messageSends:["size","keys"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"values",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._keys())._collect_(function(a){return smalltalk.withContext(function(l){return _st(t)._at_(a)},function(t){t.fillBlock({each:a},l)})});return a},function(l){l.fill(t,"values",{},smalltalk.HashedCollection)})},messageSends:["collect:","at:","keys"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"valuesDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._keysAndValuesDo_(function(l,e){return smalltalk.withContext(function(l){return _st(t)._value_(e)},function(t){t.fillBlock({key:l,value:e},a)})});return l},function(a){a.fill(l,"valuesDo:",{aBlock:t},smalltalk.HashedCollection)})},messageSends:["keysAndValuesDo:","value:"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"withIndexDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._keysAndValuesDo_(function(l,e){return smalltalk.withContext(function(a){return _st(t)._value_value_(e,l)},function(t){t.fillBlock({key:l,value:e},a)})});return l},function(a){a.fill(l,"withIndexDo:",{aBlock:t},smalltalk.HashedCollection)})},messageSends:["keysAndValuesDo:","value:value:"]}),smalltalk.HashedCollection);smalltalk.addMethod(smalltalk.method({selector:"fromPairs:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s;a=_st(l)._new();_st(t)._do_(function(t){return smalltalk.withContext(function(l){return _st(a)._add_(t)},function(l){l.fillBlock({each:t},e)})});s=a;return s},function(e){e.fill(l,"fromPairs:",{aCollection:t,dict:a},smalltalk.HashedCollection.klass)})},messageSends:["new","do:","add:"]}),smalltalk.HashedCollection.klass);smalltalk.addClass("Dictionary",smalltalk.HashedCollection,["keys","values"],"Kernel-Collections");smalltalk.addMethod(smalltalk.method({selector:"asHashedCollection",fn:function(){var t=this;function l(){return smalltalk.HashedCollection||(typeof HashedCollection=="undefined"?nil:HashedCollection)}return smalltalk.withContext(function(a){var e;e=_st(l())._fromPairs_(_st(t)._associations());return e},function(l){l.fill(t,"asHashedCollection",{},smalltalk.Dictionary)})},messageSends:["fromPairs:","associations"]}),smalltalk.Dictionary);smalltalk.addMethod(smalltalk.method({selector:"asJSON",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._asHashedCollection())._asJSON();return a},function(l){l.fill(t,"asJSON",{},smalltalk.Dictionary)})},messageSends:["asJSON","asHashedCollection"]}),smalltalk.Dictionary);smalltalk.addMethod(smalltalk.method({selector:"at:ifAbsent:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s=a._positionOfKey_(t);return s>=0?a["@values"][s]:l();return a},function(e){e.fill(a,"at:ifAbsent:",{aKey:t,aBlock:l},smalltalk.Dictionary)})},messageSends:[]}),smalltalk.Dictionary);smalltalk.addMethod(smalltalk.method({selector:"at:put:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s=a._positionOfKey_(t);if(s===-1){var n=a["@keys"];s=n.length;n.push(t)}return a["@values"][s]=l;return a},function(e){e.fill(a,"at:put:",{aKey:t,aValue:l},smalltalk.Dictionary)})},messageSends:[]}),smalltalk.Dictionary);smalltalk.addMethod(smalltalk.method({selector:"includesKey:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l._positionOfKey_(t)>=0;
return l},function(a){a.fill(l,"includesKey:",{aKey:t},smalltalk.Dictionary)})},messageSends:[]}),smalltalk.Dictionary);smalltalk.addMethod(smalltalk.method({selector:"indexOf:ifAbsent:",fn:function(t,l){var a=this;var e;return smalltalk.withContext(function(s){var n,o;e=_st(a["@values"])._indexOf_ifAbsent_(t,function(){return smalltalk.withContext(function(t){return 0},function(t){t.fillBlock({},s)})});n=_st(e).__eq(0);if(smalltalk.assert(n)){o=_st(l)._value()}else{o=_st(a["@keys"])._at_(e)}return o},function(s){s.fill(a,"indexOf:ifAbsent:",{anObject:t,aBlock:l,index:e},smalltalk.Dictionary)})},messageSends:["indexOf:ifAbsent:","ifTrue:ifFalse:","value","at:","="]}),smalltalk.Dictionary);smalltalk.addMethod(smalltalk.method({selector:"initialize",fn:function(){var t=this;return smalltalk.withContext(function(l){smalltalk.HashedCollection.fn.prototype._initialize.apply(_st(t),[]);t["@keys"]=[];t["@values"]=[];return t},function(l){l.fill(t,"initialize",{},smalltalk.Dictionary)})},messageSends:["initialize"]}),smalltalk.Dictionary);smalltalk.addMethod(smalltalk.method({selector:"keys",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t["@keys"])._copy();return a},function(l){l.fill(t,"keys",{},smalltalk.Dictionary)})},messageSends:["copy"]}),smalltalk.Dictionary);smalltalk.addMethod(smalltalk.method({selector:"keysAndValuesDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l["@keys"])._with_do_(l["@values"],t);return e},function(a){a.fill(l,"keysAndValuesDo:",{aBlock:t},smalltalk.Dictionary)})},messageSends:["with:do:"]}),smalltalk.Dictionary);smalltalk.addMethod(smalltalk.method({selector:"keysDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l["@keys"])._do_(t);return e},function(a){a.fill(l,"keysDo:",{aBlock:t},smalltalk.Dictionary)})},messageSends:["do:"]}),smalltalk.Dictionary);smalltalk.addMethod(smalltalk.method({selector:"positionOfKey:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e=l["@keys"];for(var s=0;s<e.length;s++){if(e[s].__eq(t)){return s}}return-1;return l},function(a){a.fill(l,"positionOfKey:",{anObject:t},smalltalk.Dictionary)})},messageSends:[]}),smalltalk.Dictionary);smalltalk.addMethod(smalltalk.method({selector:"removeKey:ifAbsent:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s=a._positionOfKey_(t);if(s===-1){return l()}else{var n=a["@keys"],o=a["@values"];var r=o[s],i=n.length;n[s]=n[i-1];n.pop();o[s]=o[i-1];o.pop();return r}return a},function(e){e.fill(a,"removeKey:ifAbsent:",{aKey:t,aBlock:l},smalltalk.Dictionary)})},messageSends:[]}),smalltalk.Dictionary);smalltalk.addMethod(smalltalk.method({selector:"values",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t["@values"])._copy();return a},function(l){l.fill(t,"values",{},smalltalk.Dictionary)})},messageSends:["copy"]}),smalltalk.Dictionary);smalltalk.addMethod(smalltalk.method({selector:"valuesDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l["@values"])._do_(t);return e},function(a){a.fill(l,"valuesDo:",{aBlock:t},smalltalk.Dictionary)})},messageSends:["do:"]}),smalltalk.Dictionary);smalltalk.addClass("SequenceableCollection",smalltalk.IndexableCollection,[],"Kernel-Collections");smalltalk.addMethod(smalltalk.method({selector:"=",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;var n={};try{e=_st(_st(_st(l)._class()).__eq(_st(t)._class()))._and_(function(){return smalltalk.withContext(function(a){return _st(_st(l)._size()).__eq(_st(t)._size())},function(t){t.fillBlock({},a)})});if(!smalltalk.assert(e)){return false}_st(l)._withIndexDo_(function(l,e){return smalltalk.withContext(function(a){s=_st(_st(t)._at_(e)).__eq(l);if(!smalltalk.assert(s)){throw n=[false]}},function(t){t.fillBlock({each:l,i:e},a)})});return true}catch(o){if(o===n)return o[0];throw o}},function(a){a.fill(l,"=",{aCollection:t},smalltalk.SequenceableCollection)})},messageSends:["ifFalse:","and:","=","size","class","withIndexDo:","at:"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"addLast:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._add_(t);return l},function(a){a.fill(l,"addLast:",{anObject:t},smalltalk.SequenceableCollection)})},messageSends:["add:"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"allButFirst",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._copyFrom_to_(2,_st(t)._size());return a},function(l){l.fill(t,"allButFirst",{},smalltalk.SequenceableCollection)})},messageSends:["copyFrom:to:","size"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"allButLast",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._copyFrom_to_(1,_st(_st(t)._size()).__minus(1));return a},function(l){l.fill(t,"allButLast",{},smalltalk.SequenceableCollection)})},messageSends:["copyFrom:to:","-","size"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"atRandom",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._at_(_st(_st(t)._size())._atRandom());return a},function(l){l.fill(t,"atRandom",{},smalltalk.SequenceableCollection)})},messageSends:["at:","atRandom","size"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"copyFrom:to:",fn:function(t,l){var a=this;var e,s;return smalltalk.withContext(function(n){var o;e=_st(t)._to_(l);s=_st(_st(a)._class())._new_(_st(e)._size());_st(e)._withIndexDo_(function(t,l){return smalltalk.withContext(function(e){return _st(s)._at_put_(l,_st(a)._at_(t))},function(a){a.fillBlock({each:t,i:l},n)})});o=s;return o},function(n){n.fill(a,"copyFrom:to:",{anIndex:t,anotherIndex:l,range:e,newCollection:s},smalltalk.SequenceableCollection)})},messageSends:["to:","new:","size","class","withIndexDo:","at:put:","at:"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"deepCopy",fn:function(){var t=this;var l;return smalltalk.withContext(function(a){var e;l=_st(_st(t)._class())._new_(_st(t)._size());_st(t)._withIndexDo_(function(t,e){return smalltalk.withContext(function(a){return _st(l)._at_put_(e,_st(t)._deepCopy())},function(l){l.fillBlock({each:t,index:e},a)})});e=l;return e},function(a){a.fill(t,"deepCopy",{newCollection:l},smalltalk.SequenceableCollection)})},messageSends:["new:","size","class","withIndexDo:","at:put:","deepCopy"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"detect:ifNone:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){for(var s=0;s<a.length;s++)if(t(a[s]))return a[s];return l();return a},function(e){e.fill(a,"detect:ifNone:",{aBlock:t,anotherBlock:l},smalltalk.SequenceableCollection)})},messageSends:[]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"do:",fn:function(t){var l=this;return smalltalk.withContext(function(a){for(var e=0;e<l.length;e++){t(l[e])}return l},function(a){a.fill(l,"do:",{aBlock:t},smalltalk.SequenceableCollection)})},messageSends:[]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"first",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._at_(1);return a},function(l){l.fill(t,"first",{},smalltalk.SequenceableCollection)})},messageSends:["at:"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"first:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l)._copyFrom_to_(1,t);return e},function(a){a.fill(l,"first:",{n:t},smalltalk.SequenceableCollection)})},messageSends:["copyFrom:to:"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"fourth",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._at_(4);return a},function(l){l.fill(t,"fourth",{},smalltalk.SequenceableCollection)})},messageSends:["at:"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"includes:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._indexOf_ifAbsent_(t,function(){return smalltalk.withContext(function(t){return nil},function(t){t.fillBlock({},a)})}))._notNil();return e},function(a){a.fill(l,"includes:",{anObject:t},smalltalk.SequenceableCollection)})},messageSends:["notNil","indexOf:ifAbsent:"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"indexOf:ifAbsent:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){for(var s=0;s<a.length;s++){if(a[s].__eq(t)){return s+1}}return l();return a},function(e){e.fill(a,"indexOf:ifAbsent:",{anObject:t,aBlock:l},smalltalk.SequenceableCollection)})},messageSends:[]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"indexOf:startingAt:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s;s=_st(a)._indexOf_startingAt_ifAbsent_(t,l,function(){return smalltalk.withContext(function(t){return 0},function(t){t.fillBlock({},e)})});return s},function(e){e.fill(a,"indexOf:startingAt:",{anObject:t,start:l},smalltalk.SequenceableCollection)})},messageSends:["indexOf:startingAt:ifAbsent:"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"indexOf:startingAt:ifAbsent:",fn:function(t,l,a){var e=this;return smalltalk.withContext(function(s){for(var n=l-1;n<e.length;n++){if(e[n].__eq(t)){return n+1}}return a();return e},function(s){s.fill(e,"indexOf:startingAt:ifAbsent:",{anObject:t,start:l,aBlock:a},smalltalk.SequenceableCollection)})},messageSends:[]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"last",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._at_(_st(t)._size());return a},function(l){l.fill(t,"last",{},smalltalk.SequenceableCollection)})},messageSends:["at:","size"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"newStream",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._streamClass())._on_(t);return a},function(l){l.fill(t,"newStream",{},smalltalk.SequenceableCollection)})},messageSends:["on:","streamClass"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"readStream",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._stream();return a},function(l){l.fill(t,"readStream",{},smalltalk.SequenceableCollection)})},messageSends:["stream"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"removeLast",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._remove_(_st(t)._last());return t},function(l){l.fill(t,"removeLast",{},smalltalk.SequenceableCollection)})},messageSends:["remove:","last"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"reversed",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._subclassResponsibility();return t},function(l){l.fill(t,"reversed",{},smalltalk.SequenceableCollection)})},messageSends:["subclassResponsibility"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"second",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._at_(2);return a},function(l){l.fill(t,"second",{},smalltalk.SequenceableCollection)})},messageSends:["at:"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"shallowCopy",fn:function(){var t=this;var l;return smalltalk.withContext(function(a){var e;l=_st(_st(t)._class())._new_(_st(t)._size());_st(t)._withIndexDo_(function(t,e){return smalltalk.withContext(function(a){return _st(l)._at_put_(e,t)},function(l){l.fillBlock({each:t,index:e},a)})});e=l;return e},function(a){a.fill(t,"shallowCopy",{newCollection:l},smalltalk.SequenceableCollection)})},messageSends:["new:","size","class","withIndexDo:","at:put:"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"stream",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._newStream();return a},function(l){l.fill(t,"stream",{},smalltalk.SequenceableCollection)})},messageSends:["newStream"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"streamClass",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._class())._streamClass();return a},function(l){l.fill(t,"streamClass",{},smalltalk.SequenceableCollection)})},messageSends:["streamClass","class"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"third",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._at_(3);return a},function(l){l.fill(t,"third",{},smalltalk.SequenceableCollection)})},messageSends:["at:"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"with:do:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){for(var s=0;s<a.length;s++){l(a[s],t[s])}return a},function(e){e.fill(a,"with:do:",{anotherCollection:t,aBlock:l},smalltalk.SequenceableCollection)})},messageSends:[]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"withIndexDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){for(var e=0;e<l.length;e++){t(l[e],e+1)}return l},function(a){a.fill(l,"withIndexDo:",{aBlock:t},smalltalk.SequenceableCollection)})},messageSends:[]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"writeStream",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._stream();return a},function(l){l.fill(t,"writeStream",{},smalltalk.SequenceableCollection)})},messageSends:["stream"]}),smalltalk.SequenceableCollection);smalltalk.addMethod(smalltalk.method({selector:"streamClass",fn:function(){var t=this;function l(){return smalltalk.Stream||(typeof Stream=="undefined"?nil:Stream)}return smalltalk.withContext(function(t){var a;a=l();return a},function(l){l.fill(t,"streamClass",{},smalltalk.SequenceableCollection.klass)})},messageSends:[]}),smalltalk.SequenceableCollection.klass);smalltalk.addMethod(smalltalk.method({selector:"streamContents:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s;a=_st(_st(l)._streamClass())._on_(_st(l)._new());_st(t)._value_(a);s=_st(a)._contents();return s},function(e){e.fill(l,"streamContents:",{aBlock:t,stream:a},smalltalk.SequenceableCollection.klass)})},messageSends:["on:","new","streamClass","value:","contents"]}),smalltalk.SequenceableCollection.klass);smalltalk.addClass("Array",smalltalk.SequenceableCollection,[],"Kernel-Collections");smalltalk.addMethod(smalltalk.method({selector:"add:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l.push(t);return t;return l},function(a){a.fill(l,"add:",{anObject:t},smalltalk.Array)})},messageSends:[]}),smalltalk.Array);smalltalk.addMethod(smalltalk.method({selector:"asJavascript",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st("[").__comma(_st(_st(t)._collect_(function(t){return smalltalk.withContext(function(l){return _st(t)._asJavascript()},function(a){a.fillBlock({each:t},l)})}))._join_(", "))).__comma("]");return a},function(l){l.fill(t,"asJavascript",{},smalltalk.Array)})},messageSends:[",","join:","collect:","asJavascript"]}),smalltalk.Array);smalltalk.addMethod(smalltalk.method({selector:"at:ifAbsent:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){if(t<1||a.length<t){return l()}return a[t-1];return a},function(e){e.fill(a,"at:ifAbsent:",{anIndex:t,aBlock:l},smalltalk.Array)})},messageSends:[]}),smalltalk.Array);smalltalk.addMethod(smalltalk.method({selector:"at:put:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){return a[t-1]=l;return a},function(e){e.fill(a,"at:put:",{anIndex:t,anObject:l},smalltalk.Array)})},messageSends:[]}),smalltalk.Array);smalltalk.addMethod(smalltalk.method({selector:"join:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l.join(t);return l},function(a){a.fill(l,"join:",{aString:t},smalltalk.Array)})},messageSends:[]}),smalltalk.Array);smalltalk.addMethod(smalltalk.method({selector:"printOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){smalltalk.SequenceableCollection.fn.prototype._printOn_.apply(_st(l),[t]);_st(t)._nextPutAll_(" (");_st(l)._do_separatedBy_(function(l){return smalltalk.withContext(function(a){return _st(l)._printOn_(t)},function(t){t.fillBlock({each:l},a)})},function(){return smalltalk.withContext(function(l){return _st(t)._nextPutAll_(" ")},function(t){t.fillBlock({},a)})});_st(t)._nextPutAll_(")");return l},function(a){a.fill(l,"printOn:",{aStream:t},smalltalk.Array)})},messageSends:["printOn:","nextPutAll:","do:separatedBy:"]}),smalltalk.Array);smalltalk.addMethod(smalltalk.method({selector:"remove:ifAbsent:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){for(var s=0;s<a.length;s++){if(a[s]==t){a.splice(s,1);return a}}l._value();return a},function(e){e.fill(a,"remove:ifAbsent:",{anObject:t,aBlock:l},smalltalk.Array)})},messageSends:[]}),smalltalk.Array);smalltalk.addMethod(smalltalk.method({selector:"removeFrom:to:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){a.splice(t-1,l-1);return a},function(e){e.fill(a,"removeFrom:to:",{aNumber:t,anotherNumber:l},smalltalk.Array)})},messageSends:[]}),smalltalk.Array);smalltalk.addMethod(smalltalk.method({selector:"reversed",fn:function(){var t=this;return smalltalk.withContext(function(l){return t._copy().reverse();return t},function(l){l.fill(t,"reversed",{},smalltalk.Array)})},messageSends:[]}),smalltalk.Array);smalltalk.addMethod(smalltalk.method({selector:"size",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.length;return t},function(l){l.fill(t,"size",{},smalltalk.Array)})},messageSends:[]}),smalltalk.Array);smalltalk.addMethod(smalltalk.method({selector:"sort",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._basicPerform_("sort");return a},function(l){l.fill(t,"sort",{},smalltalk.Array)})},messageSends:["basicPerform:"]}),smalltalk.Array);smalltalk.addMethod(smalltalk.method({selector:"sort:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l.sort(function(l,a){if(t(l,a)){return-1}else{return 1}});return l},function(a){a.fill(l,"sort:",{aBlock:t},smalltalk.Array)})},messageSends:[]}),smalltalk.Array);smalltalk.addMethod(smalltalk.method({selector:"sorted",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._copy())._sort();return a},function(l){l.fill(t,"sorted",{},smalltalk.Array)})},messageSends:["sort","copy"]}),smalltalk.Array);smalltalk.addMethod(smalltalk.method({selector:"sorted:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._copy())._sort_(t);return e},function(a){a.fill(l,"sorted:",{aBlock:t},smalltalk.Array)})},messageSends:["sort:","copy"]}),smalltalk.Array);smalltalk.addMethod(smalltalk.method({selector:"new:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return new Array(t);return l},function(a){a.fill(l,"new:",{anInteger:t},smalltalk.Array.klass)})},messageSends:[]}),smalltalk.Array.klass);smalltalk.addMethod(smalltalk.method({selector:"with:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=_st(l)._new_(1);_st(e)._at_put_(1,t);s=_st(e)._yourself();n=s;return n},function(a){a.fill(l,"with:",{anObject:t},smalltalk.Array.klass)})},messageSends:["at:put:","new:","yourself"]}),smalltalk.Array.klass);smalltalk.addMethod(smalltalk.method({selector:"with:with:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s,n,o;s=_st(a)._new_(2);_st(s)._at_put_(1,t);_st(s)._at_put_(2,l);n=_st(s)._yourself();o=n;return o},function(e){e.fill(a,"with:with:",{anObject:t,anObject2:l},smalltalk.Array.klass)})},messageSends:["at:put:","new:","yourself"]}),smalltalk.Array.klass);smalltalk.addMethod(smalltalk.method({selector:"with:with:with:",fn:function(t,l,a){var e=this;return smalltalk.withContext(function(s){var n,o,r;n=_st(e)._new_(3);_st(n)._at_put_(1,t);_st(n)._at_put_(2,l);_st(n)._at_put_(3,a);o=_st(n)._yourself();r=o;return r},function(s){s.fill(e,"with:with:with:",{anObject:t,anObject2:l,anObject3:a},smalltalk.Array.klass)})},messageSends:["at:put:","new:","yourself"]}),smalltalk.Array.klass);smalltalk.addMethod(smalltalk.method({selector:"withAll:",fn:function(t){var l=this;var a,e;return smalltalk.withContext(function(s){var n;e=1;a=_st(l)._new_(_st(t)._size());_st(t)._do_(function(t){return smalltalk.withContext(function(l){_st(a)._at_put_(e,t);e=_st(e).__plus(1);return e},function(l){l.fillBlock({each:t},s)})});n=a;return n},function(s){s.fill(l,"withAll:",{aCollection:t,instance:a,index:e},smalltalk.Array.klass)})},messageSends:["new:","size","do:","at:put:","+"]}),smalltalk.Array.klass);smalltalk.addClass("CharacterArray",smalltalk.SequenceableCollection,[],"Kernel-Collections");smalltalk.addMethod(smalltalk.method({selector:",",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._asString()).__comma(_st(t)._asString());return e},function(a){a.fill(l,",",{aString:t},smalltalk.CharacterArray)})},messageSends:[",","asString"]}),smalltalk.CharacterArray);smalltalk.addMethod(smalltalk.method({selector:"add:",fn:function(t){var l=this;return smalltalk.withContext(function(t){_st(l)._errorReadOnly();return l},function(a){a.fill(l,"add:",{anObject:t},smalltalk.CharacterArray)})},messageSends:["errorReadOnly"]}),smalltalk.CharacterArray);smalltalk.addMethod(smalltalk.method({selector:"asLowercase",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._class())._fromString_(_st(_st(t)._asString())._asLowercase());return a},function(l){l.fill(t,"asLowercase",{},smalltalk.CharacterArray)})},messageSends:["fromString:","asLowercase","asString","class"]}),smalltalk.CharacterArray);smalltalk.addMethod(smalltalk.method({selector:"asNumber",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._asString())._asNumber();return a},function(l){l.fill(t,"asNumber",{},smalltalk.CharacterArray)})},messageSends:["asNumber","asString"]}),smalltalk.CharacterArray);smalltalk.addMethod(smalltalk.method({selector:"asString",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._subclassResponsibility();return a},function(l){l.fill(t,"asString",{},smalltalk.CharacterArray)})},messageSends:["subclassResponsibility"]}),smalltalk.CharacterArray);smalltalk.addMethod(smalltalk.method({selector:"asSymbol",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._asString();return a},function(l){l.fill(t,"asSymbol",{},smalltalk.CharacterArray)})},messageSends:["asString"]}),smalltalk.CharacterArray);smalltalk.addMethod(smalltalk.method({selector:"asUppercase",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._class())._fromString_(_st(_st(t)._asString())._asUppercase());return a},function(l){l.fill(t,"asUppercase",{},smalltalk.CharacterArray)})},messageSends:["fromString:","asUppercase","asString","class"]}),smalltalk.CharacterArray);smalltalk.addMethod(smalltalk.method({selector:"at:put:",fn:function(t,l){var a=this;return smalltalk.withContext(function(t){_st(a)._errorReadOnly();return a},function(e){e.fill(a,"at:put:",{anIndex:t,anObject:l},smalltalk.CharacterArray)})},messageSends:["errorReadOnly"]}),smalltalk.CharacterArray);smalltalk.addMethod(smalltalk.method({selector:"errorReadOnly",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._error_("Object is read-only");return t},function(l){l.fill(t,"errorReadOnly",{},smalltalk.CharacterArray)})},messageSends:["error:"]}),smalltalk.CharacterArray);smalltalk.addMethod(smalltalk.method({selector:"printOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._asString())._printOn_(t);return l},function(a){a.fill(l,"printOn:",{aStream:t},smalltalk.CharacterArray)})},messageSends:["printOn:","asString"]}),smalltalk.CharacterArray);smalltalk.addMethod(smalltalk.method({selector:"putOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(t)._nextPutString_(l);return l},function(a){a.fill(l,"putOn:",{aStream:t},smalltalk.CharacterArray)})},messageSends:["nextPutString:"]}),smalltalk.CharacterArray);smalltalk.addMethod(smalltalk.method({selector:"remove:",fn:function(t){var l=this;return smalltalk.withContext(function(t){_st(l)._errorReadOnly();return l},function(a){a.fill(l,"remove:",{anObject:t},smalltalk.CharacterArray)})},messageSends:["errorReadOnly"]}),smalltalk.CharacterArray);smalltalk.addMethod(smalltalk.method({selector:"fromString:",fn:function(t){var l=this;return smalltalk.withContext(function(t){_st(l)._subclassResponsibility();return l},function(a){a.fill(l,"fromString:",{aString:t},smalltalk.CharacterArray.klass)})},messageSends:["subclassResponsibility"]}),smalltalk.CharacterArray.klass);smalltalk.addClass("String",smalltalk.CharacterArray,[],"Kernel-Collections");smalltalk.addMethod(smalltalk.method({selector:",",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l+t;return l},function(a){a.fill(l,",",{aString:t},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"<",fn:function(t){var l=this;return smalltalk.withContext(function(a){return String(l)<t._asString();return l},function(a){a.fill(l,"<",{aString:t},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"<=",fn:function(t){var l=this;return smalltalk.withContext(function(a){return String(l)<=t._asString();return l},function(a){a.fill(l,"<=",{aString:t},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"=",fn:function(t){var l=this;return smalltalk.withContext(function(a){if(typeof t==="undefined"){return false}if(!t._isString||!t._isString()){return false}return String(l)===String(t);return l},function(a){a.fill(l,"=",{aString:t},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"==",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l).__eq(t);return e},function(a){a.fill(l,"==",{aString:t},smalltalk.String)})},messageSends:["="]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:">",fn:function(t){var l=this;return smalltalk.withContext(function(a){return String(l)>t._asString();return l},function(a){a.fill(l,">",{aString:t},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:">=",fn:function(t){var l=this;return smalltalk.withContext(function(a){return String(l)>=t._asString();return l},function(a){a.fill(l,">=",{aString:t},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"asJSON",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t;return a},function(l){l.fill(t,"asJSON",{},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"asJavascript",fn:function(){var t=this;return smalltalk.withContext(function(l){if(t.search(/^[a-zA-Z0-9_:.$ ]*$/)==-1)return'"'+t.replace(/[\x00-\x1f"\\\x7f-\x9f]/g,function(t){var l=t.charCodeAt(0);return"\\x"+("0"+l.toString(16)).slice(-2)})+'"';else return'"'+t+'"';return t},function(l){l.fill(t,"asJavascript",{},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"asLowercase",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.toLowerCase();return t},function(l){l.fill(t,"asLowercase",{},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"asNumber",fn:function(){var t=this;return smalltalk.withContext(function(l){return Number(t);return t},function(l){l.fill(t,"asNumber",{},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"asRegexp",fn:function(){var t=this;function l(){return smalltalk.RegularExpression||(typeof RegularExpression=="undefined"?nil:RegularExpression)}return smalltalk.withContext(function(a){var e;e=_st(l())._fromString_(t);return e},function(l){l.fill(t,"asRegexp",{},smalltalk.String)})},messageSends:["fromString:"]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"asSelector",fn:function(){var t=this;return smalltalk.withContext(function(l){return smalltalk.selector(t);return t},function(l){l.fill(t,"asSelector",{},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"asString",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t;return a},function(l){l.fill(t,"asString",{},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"asSymbol",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t;return a},function(l){l.fill(t,"asSymbol",{},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"asUppercase",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.toUpperCase();return t},function(l){l.fill(t,"asUppercase",{},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"asciiValue",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.charCodeAt(0);return t},function(l){l.fill(t,"asciiValue",{},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"at:ifAbsent:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){return String(a).charAt(t-1)||l();return a},function(e){e.fill(a,"at:ifAbsent:",{anIndex:t,aBlock:l},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"charCodeAt:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l.charCodeAt(t-1);return l},function(a){a.fill(l,"charCodeAt:",{anInteger:t},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"copyFrom:to:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){return a.substring(t-1,l);return a},function(e){e.fill(a,"copyFrom:to:",{anIndex:t,anotherIndex:l},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"crlfSanitized",fn:function(){var t=this;function l(){return smalltalk.String||(typeof String=="undefined"?nil:String)}return smalltalk.withContext(function(a){var e;e=_st(_st(t)._lines())._join_(_st(l())._lf());return e},function(l){l.fill(t,"crlfSanitized",{},smalltalk.String)})},messageSends:["join:","lf","lines"]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"deepCopy",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._shallowCopy();return a},function(l){l.fill(t,"deepCopy",{},smalltalk.String)})},messageSends:["shallowCopy"]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"do:",fn:function(t){var l=this;return smalltalk.withContext(function(a){for(var e=0;e<l.length;e++){t(l.charAt(e))}return l},function(a){a.fill(l,"do:",{aBlock:t},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"escaped",fn:function(){var t=this;return smalltalk.withContext(function(l){return escape(t);
return t},function(l){l.fill(t,"escaped",{},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"includesSubString:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l.indexOf(t)!=-1;return l},function(a){a.fill(l,"includesSubString:",{subString:t},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"isImmutable",fn:function(){var t=this;return smalltalk.withContext(function(t){return true},function(l){l.fill(t,"isImmutable",{},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"isString",fn:function(){var t=this;return smalltalk.withContext(function(t){return true},function(l){l.fill(t,"isString",{},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"isVowel",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(_st(t)._size()).__eq(1))._and_(function(){return smalltalk.withContext(function(l){return _st("aeiou")._includes_(_st(t)._asLowercase())},function(t){t.fillBlock({},l)})});return a},function(l){l.fill(t,"isVowel",{},smalltalk.String)})},messageSends:["and:","includes:","asLowercase","=","size"]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"join:",fn:function(t){var l=this;function a(){return smalltalk.String||(typeof String=="undefined"?nil:String)}return smalltalk.withContext(function(e){var s;s=_st(a())._streamContents_(function(a){return smalltalk.withContext(function(s){return _st(t)._do_separatedBy_(function(t){return smalltalk.withContext(function(l){return _st(a)._nextPutAll_(_st(t)._asString())},function(l){l.fillBlock({each:t},e)})},function(){return smalltalk.withContext(function(t){return _st(a)._nextPutAll_(l)},function(t){t.fillBlock({},e)})})},function(t){t.fillBlock({stream:a},e)})});return s},function(a){a.fill(l,"join:",{aCollection:t},smalltalk.String)})},messageSends:["streamContents:","do:separatedBy:","nextPutAll:","asString"]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"lineIndicesDo:",fn:function(t){var l=this;var a,e,s,n,o,r;function i(){return smalltalk.String||(typeof String=="undefined"?nil:String)}return smalltalk.withContext(function(m){var u,c,d,f;var k={};try{s=1;n=_st(l)._size();a=_st(i())._cr();r=_st(l)._indexOf_startingAt_(a,1);e=_st(i())._lf();o=_st(l)._indexOf_startingAt_(e,1);_st(function(){return smalltalk.withContext(function(t){return _st(s).__lt_eq(n)},function(t){t.fillBlock({},m)})})._whileTrue_(function(){return smalltalk.withContext(function(i){u=_st(_st(o).__eq(0))._and_(function(){return smalltalk.withContext(function(t){return _st(r).__eq(0)},function(t){t.fillBlock({},m)})});if(smalltalk.assert(u)){_st(t)._value_value_value_(s,n,n);c=l;throw k=[c]}d=_st(_st(r).__eq(0))._or_(function(){return smalltalk.withContext(function(t){return _st(_st(0).__lt(o))._and_(function(){return smalltalk.withContext(function(t){return _st(o).__lt(r)},function(t){t.fillBlock({},m)})})},function(t){t.fillBlock({},m)})});if(smalltalk.assert(d)){_st(t)._value_value_value_(s,_st(o).__minus(1),o);s=_st(1).__plus(o);s;o=_st(l)._indexOf_startingAt_(e,s);return o}else{f=_st(_st(1).__plus(r)).__eq(o);if(smalltalk.assert(f)){_st(t)._value_value_value_(s,_st(r).__minus(1),o);s=_st(1).__plus(o);s;r=_st(l)._indexOf_startingAt_(a,s);r;o=_st(l)._indexOf_startingAt_(e,s);return o}else{_st(t)._value_value_value_(s,_st(r).__minus(1),r);s=_st(1).__plus(r);s;r=_st(l)._indexOf_startingAt_(a,s);return r}}},function(t){t.fillBlock({},m)})});return l}catch(_){if(_===k)return _[0];throw _}},function(i){i.fill(l,"lineIndicesDo:",{aBlock:t,cr:a,lf:e,start:s,sz:n,nextLF:o,nextCR:r},smalltalk.String)})},messageSends:["size","cr","indexOf:startingAt:","lf","whileTrue:","ifTrue:","value:value:value:","and:","=","ifTrue:ifFalse:","-","+","or:","<","<="]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"lineNumber:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s,n;var o={};try{a=0;_st(l)._lineIndicesDo_(function(r,i,m){return smalltalk.withContext(function(e){a=_st(a).__plus(1);s=_st(a).__eq(t);if(smalltalk.assert(s)){n=_st(l)._copyFrom_to_(r,i);throw o=[n]}},function(t){t.fillBlock({start:r,endWithoutDelimiters:i,end:m},e)})});return nil}catch(r){if(r===o)return r[0];throw r}},function(e){e.fill(l,"lineNumber:",{anIndex:t,lineCount:a},smalltalk.String)})},messageSends:["lineIndicesDo:","ifTrue:","copyFrom:to:","=","+"]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"lines",fn:function(){var t=this;var l;function a(){return smalltalk.Array||(typeof Array=="undefined"?nil:Array)}return smalltalk.withContext(function(e){var s;l=_st(a())._new();_st(t)._linesDo_(function(t){return smalltalk.withContext(function(a){return _st(l)._add_(t)},function(l){l.fillBlock({aLine:t},e)})});s=l;return s},function(a){a.fill(t,"lines",{lines:l},smalltalk.String)})},messageSends:["new","linesDo:","add:"]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"linesDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._lineIndicesDo_(function(e,s,n){return smalltalk.withContext(function(a){return _st(t)._value_(_st(l)._copyFrom_to_(e,s))},function(t){t.fillBlock({start:e,endWithoutDelimiters:s,end:n},a)})});return l},function(a){a.fill(l,"linesDo:",{aBlock:t},smalltalk.String)})},messageSends:["lineIndicesDo:","value:","copyFrom:to:"]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"match:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l.search(t)!=-1;return l},function(a){a.fill(l,"match:",{aRegexp:t},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"matchesOf:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l.match(t);return l},function(a){a.fill(l,"matchesOf:",{aRegularExpression:t},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"printNl",fn:function(){var t=this;return smalltalk.withContext(function(l){console.log(t);return t},function(l){l.fill(t,"printNl",{},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"printOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;e=t;_st(e)._nextPutAll_("'");_st(e)._nextPutAll_(l);s=_st(e)._nextPutAll_("'");return l},function(a){a.fill(l,"printOn:",{aStream:t},smalltalk.String)})},messageSends:["nextPutAll:"]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"replace:with:",fn:function(t,l){var a=this;function e(){return smalltalk.RegularExpression||(typeof RegularExpression=="undefined"?nil:RegularExpression)}return smalltalk.withContext(function(s){var n;n=_st(a)._replaceRegexp_with_(_st(e())._fromString_flag_(t,"g"),l);return n},function(e){e.fill(a,"replace:with:",{aString:t,anotherString:l},smalltalk.String)})},messageSends:["replaceRegexp:with:","fromString:flag:"]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"replaceRegexp:with:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){return a.replace(t,l);return a},function(e){e.fill(a,"replaceRegexp:with:",{aRegexp:t,aString:l},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"reversed",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.split("").reverse().join("");return t},function(l){l.fill(t,"reversed",{},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"shallowCopy",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._class())._fromString_(t);return a},function(l){l.fill(t,"shallowCopy",{},smalltalk.String)})},messageSends:["fromString:","class"]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"size",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.length;return t},function(l){l.fill(t,"size",{},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"tokenize:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l.split(t);return l},function(a){a.fill(l,"tokenize:",{aString:t},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"trimBoth",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._trimBoth_("\\s");return a},function(l){l.fill(t,"trimBoth",{},smalltalk.String)})},messageSends:["trimBoth:"]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"trimBoth:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._trimLeft_(t))._trimRight_(t);return e},function(a){a.fill(l,"trimBoth:",{separators:t},smalltalk.String)})},messageSends:["trimRight:","trimLeft:"]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"trimLeft",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._trimLeft_("\\s");return a},function(l){l.fill(t,"trimLeft",{},smalltalk.String)})},messageSends:["trimLeft:"]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"trimLeft:",fn:function(t){var l=this;function a(){return smalltalk.RegularExpression||(typeof RegularExpression=="undefined"?nil:RegularExpression)}return smalltalk.withContext(function(e){var s;s=_st(l)._replaceRegexp_with_(_st(a())._fromString_flag_(_st(_st("^[").__comma(t)).__comma("]+"),"g"),"");return s},function(a){a.fill(l,"trimLeft:",{separators:t},smalltalk.String)})},messageSends:["replaceRegexp:with:","fromString:flag:",","]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"trimRight",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._trimRight_("\\s");return a},function(l){l.fill(t,"trimRight",{},smalltalk.String)})},messageSends:["trimRight:"]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"trimRight:",fn:function(t){var l=this;function a(){return smalltalk.RegularExpression||(typeof RegularExpression=="undefined"?nil:RegularExpression)}return smalltalk.withContext(function(e){var s;s=_st(l)._replaceRegexp_with_(_st(a())._fromString_flag_(_st(_st("[").__comma(t)).__comma("]+$"),"g"),"");return s},function(a){a.fill(l,"trimRight:",{separators:t},smalltalk.String)})},messageSends:["replaceRegexp:with:","fromString:flag:",","]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"unescaped",fn:function(){var t=this;return smalltalk.withContext(function(l){return unescape(t);return t},function(l){l.fill(t,"unescaped",{},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"withIndexDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){for(var e=0;e<l.length;e++){t(l.charAt(e),e+1)}return l},function(a){a.fill(l,"withIndexDo:",{aBlock:t},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"cr",fn:function(){var t=this;return smalltalk.withContext(function(l){return"\r";return t},function(l){l.fill(t,"cr",{},smalltalk.String.klass)})},messageSends:[]}),smalltalk.String.klass);smalltalk.addMethod(smalltalk.method({selector:"crlf",fn:function(){var t=this;return smalltalk.withContext(function(l){return"\r\n";return t},function(l){l.fill(t,"crlf",{},smalltalk.String.klass)})},messageSends:[]}),smalltalk.String.klass);smalltalk.addMethod(smalltalk.method({selector:"fromCharCode:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return String.fromCharCode(t);return l},function(a){a.fill(l,"fromCharCode:",{anInteger:t},smalltalk.String.klass)})},messageSends:[]}),smalltalk.String.klass);smalltalk.addMethod(smalltalk.method({selector:"fromString:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return String(t);return l},function(a){a.fill(l,"fromString:",{aString:t},smalltalk.String.klass)})},messageSends:[]}),smalltalk.String.klass);smalltalk.addMethod(smalltalk.method({selector:"lf",fn:function(){var t=this;return smalltalk.withContext(function(l){return"\n";return t},function(l){l.fill(t,"lf",{},smalltalk.String.klass)})},messageSends:[]}),smalltalk.String.klass);smalltalk.addMethod(smalltalk.method({selector:"random",fn:function(){var t=this;return smalltalk.withContext(function(l){return(Math.random()*(22/32)+10/32).toString(32).slice(2);return t},function(l){l.fill(t,"random",{},smalltalk.String.klass)})},messageSends:[]}),smalltalk.String.klass);smalltalk.addMethod(smalltalk.method({selector:"randomNotIn:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s;_st(function(){return smalltalk.withContext(function(e){a=_st(l)._random();a;return _st(t)._includesSubString_(a)},function(t){t.fillBlock({},e)})})._whileTrue();s=a;return s},function(e){e.fill(l,"randomNotIn:",{aString:t,result:a},smalltalk.String.klass)})},messageSends:["whileTrue","random","includesSubString:"]}),smalltalk.String.klass);smalltalk.addMethod(smalltalk.method({selector:"space",fn:function(){var t=this;return smalltalk.withContext(function(l){return" ";return t},function(l){l.fill(t,"space",{},smalltalk.String.klass)})},messageSends:[]}),smalltalk.String.klass);smalltalk.addMethod(smalltalk.method({selector:"streamClass",fn:function(){var t=this;function l(){return smalltalk.StringStream||(typeof StringStream=="undefined"?nil:StringStream)}return smalltalk.withContext(function(t){var a;a=l();return a},function(l){l.fill(t,"streamClass",{},smalltalk.String.klass)})},messageSends:[]}),smalltalk.String.klass);smalltalk.addMethod(smalltalk.method({selector:"tab",fn:function(){var t=this;return smalltalk.withContext(function(l){return"	";return t},function(l){l.fill(t,"tab",{},smalltalk.String.klass)})},messageSends:[]}),smalltalk.String.klass);smalltalk.addMethod(smalltalk.method({selector:"value:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return String.fromCharCode(t);return l},function(a){a.fill(l,"value:",{aUTFCharCode:t},smalltalk.String.klass)})},messageSends:[]}),smalltalk.String.klass);smalltalk.addClass("Set",smalltalk.Collection,["elements"],"Kernel-Collections");smalltalk.addMethod(smalltalk.method({selector:"=",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;var o={};try{e=_st(_st(l)._class()).__eq(_st(t)._class());if(!smalltalk.assert(e)){return false}s=_st(_st(l)._size()).__eq(_st(t)._size());if(!smalltalk.assert(s)){return false}_st(l)._do_(function(l){return smalltalk.withContext(function(a){n=_st(t)._includes_(l);if(!smalltalk.assert(n)){throw o=[false]}},function(t){t.fillBlock({each:l},a)})});return true}catch(r){if(r===o)return r[0];throw r}},function(a){a.fill(l,"=",{aCollection:t},smalltalk.Set)})},messageSends:["ifFalse:","=","class","size","do:","includes:"]}),smalltalk.Set);smalltalk.addMethod(smalltalk.method({selector:"add:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;for(var s=0;s<l["@elements"].length;s++){if(t==l["@elements"][s]){e=true;break}}if(!e){l["@elements"].push(t)}return l},function(a){a.fill(l,"add:",{anObject:t},smalltalk.Set)})},messageSends:[]}),smalltalk.Set);smalltalk.addMethod(smalltalk.method({selector:"asArray",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t["@elements"])._copy();return a},function(l){l.fill(t,"asArray",{},smalltalk.Set)})},messageSends:["copy"]}),smalltalk.Set);smalltalk.addMethod(smalltalk.method({selector:"collect:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._class())._withAll_(_st(l["@elements"])._collect_(t));return e},function(a){a.fill(l,"collect:",{aBlock:t},smalltalk.Set)})},messageSends:["withAll:","collect:","class"]}),smalltalk.Set);smalltalk.addMethod(smalltalk.method({selector:"detect:ifNone:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s;s=_st(a["@elements"])._detect_ifNone_(t,l);return s},function(e){e.fill(a,"detect:ifNone:",{aBlock:t,anotherBlock:l},smalltalk.Set)})},messageSends:["detect:ifNone:"]}),smalltalk.Set);smalltalk.addMethod(smalltalk.method({selector:"do:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l["@elements"])._do_(t);return l},function(a){a.fill(l,"do:",{aBlock:t},smalltalk.Set)})},messageSends:["do:"]}),smalltalk.Set);smalltalk.addMethod(smalltalk.method({selector:"includes:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l["@elements"])._includes_(t);return e},function(a){a.fill(l,"includes:",{anObject:t},smalltalk.Set)})},messageSends:["includes:"]}),smalltalk.Set);smalltalk.addMethod(smalltalk.method({selector:"initialize",fn:function(){var t=this;return smalltalk.withContext(function(l){smalltalk.Collection.fn.prototype._initialize.apply(_st(t),[]);t["@elements"]=[];return t},function(l){l.fill(t,"initialize",{},smalltalk.Set)})},messageSends:["initialize"]}),smalltalk.Set);smalltalk.addMethod(smalltalk.method({selector:"printOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){smalltalk.Collection.fn.prototype._printOn_.apply(_st(l),[t]);_st(t)._nextPutAll_(" (");_st(l)._do_separatedBy_(function(l){return smalltalk.withContext(function(a){return _st(l)._printOn_(t)},function(t){t.fillBlock({each:l},a)})},function(){return smalltalk.withContext(function(l){return _st(t)._nextPutAll_(" ")},function(t){t.fillBlock({},a)})});_st(t)._nextPutAll_(")");return l},function(a){a.fill(l,"printOn:",{aStream:t},smalltalk.Set)})},messageSends:["printOn:","nextPutAll:","do:separatedBy:"]}),smalltalk.Set);smalltalk.addMethod(smalltalk.method({selector:"remove:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l["@elements"])._remove_(t);return l},function(a){a.fill(l,"remove:",{anObject:t},smalltalk.Set)})},messageSends:["remove:"]}),smalltalk.Set);smalltalk.addMethod(smalltalk.method({selector:"select:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s,n;a=_st(_st(l)._class())._new();_st(l)._do_(function(l){return smalltalk.withContext(function(e){s=_st(t)._value_(l);if(smalltalk.assert(s)){return _st(a)._add_(l)}},function(t){t.fillBlock({each:l},e)})});n=a;return n},function(e){e.fill(l,"select:",{aBlock:t,collection:a},smalltalk.Set)})},messageSends:["new","class","do:","ifTrue:","add:","value:"]}),smalltalk.Set);smalltalk.addMethod(smalltalk.method({selector:"size",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t["@elements"])._size();return a},function(l){l.fill(t,"size",{},smalltalk.Set)})},messageSends:["size"]}),smalltalk.Set);smalltalk.addClass("Queue",smalltalk.Object,["read","readIndex","write"],"Kernel-Collections");smalltalk.addMethod(smalltalk.method({selector:"initialize",fn:function(){var t=this;function l(){return smalltalk.OrderedCollection||(typeof OrderedCollection=="undefined"?nil:OrderedCollection)}return smalltalk.withContext(function(a){smalltalk.Object.fn.prototype._initialize.apply(_st(t),[]);t["@read"]=_st(l())._new();t["@write"]=_st(l())._new();t["@readIndex"]=1;return t},function(l){l.fill(t,"initialize",{},smalltalk.Queue)})},messageSends:["initialize","new"]}),smalltalk.Queue);smalltalk.addMethod(smalltalk.method({selector:"next",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._nextIfAbsent_(function(){return smalltalk.withContext(function(l){return _st(t)._error_("Cannot read from empty Queue.")},function(t){t.fillBlock({},l)})});return a},function(l){l.fill(t,"next",{},smalltalk.Queue)})},messageSends:["nextIfAbsent:","error:"]}),smalltalk.Queue);smalltalk.addMethod(smalltalk.method({selector:"nextIfAbsent:",fn:function(t){var l=this;var a;function e(){return smalltalk.OrderedCollection||(typeof OrderedCollection=="undefined"?nil:OrderedCollection)}return smalltalk.withContext(function(s){var n,o,r,i;var m={};try{a=_st(l["@read"])._at_ifAbsent_(l["@readIndex"],function(){return smalltalk.withContext(function(a){n=_st(l["@write"])._isEmpty();if(smalltalk.assert(n)){o=_st(l["@readIndex"]).__gt(1);if(smalltalk.assert(o)){l["@read"]=[];l["@read"];l["@readIndex"]=1;l["@readIndex"]}r=_st(t)._value();throw m=[r]}l["@read"]=l["@write"];l["@read"];l["@readIndex"]=1;l["@readIndex"];l["@write"]=_st(e())._new();l["@write"];return _st(l["@read"])._first()},function(t){t.fillBlock({},s)})});_st(l["@read"])._at_put_(l["@readIndex"],nil);l["@readIndex"]=_st(l["@readIndex"]).__plus(1);i=a;return i}catch(u){if(u===m)return u[0];throw u}},function(e){e.fill(l,"nextIfAbsent:",{aBlock:t,result:a},smalltalk.Queue)})},messageSends:["at:ifAbsent:","ifTrue:",">","value","isEmpty","new","first","at:put:","+"]}),smalltalk.Queue);smalltalk.addMethod(smalltalk.method({selector:"nextPut:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l["@write"])._add_(t);return l},function(a){a.fill(l,"nextPut:",{anObject:t},smalltalk.Queue)})},messageSends:["add:"]}),smalltalk.Queue);smalltalk.addClass("RegularExpression",smalltalk.Object,[],"Kernel-Collections");smalltalk.addMethod(smalltalk.method({selector:"compile:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l.compile(t);return l},function(a){a.fill(l,"compile:",{aString:t},smalltalk.RegularExpression)})},messageSends:[]}),smalltalk.RegularExpression);smalltalk.addMethod(smalltalk.method({selector:"exec:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l.exec(t)||nil;return l},function(a){a.fill(l,"exec:",{aString:t},smalltalk.RegularExpression)})},messageSends:[]}),smalltalk.RegularExpression);smalltalk.addMethod(smalltalk.method({selector:"test:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return l.test(t);return l},function(a){a.fill(l,"test:",{aString:t},smalltalk.RegularExpression)})},messageSends:[]}),smalltalk.RegularExpression);smalltalk.addMethod(smalltalk.method({selector:"fromString:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l)._fromString_flag_(t,"");return e},function(a){a.fill(l,"fromString:",{aString:t},smalltalk.RegularExpression.klass)})},messageSends:["fromString:flag:"]}),smalltalk.RegularExpression.klass);smalltalk.addMethod(smalltalk.method({selector:"fromString:flag:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){return new RegExp(t,l);return a},function(e){e.fill(a,"fromString:flag:",{aString:t,anotherString:l},smalltalk.RegularExpression.klass)})},messageSends:[]}),smalltalk.RegularExpression.klass);smalltalk.addClass("Stream",smalltalk.Object,["collection","position","streamSize"],"Kernel-Collections");smalltalk.addMethod(smalltalk.method({selector:"<<",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._write_(t);return l},function(a){a.fill(l,"<<",{anObject:t},smalltalk.Stream)})},messageSends:["write:"]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"atEnd",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._position()).__eq(_st(t)._size());return a},function(l){l.fill(t,"atEnd",{},smalltalk.Stream)})},messageSends:["=","size","position"]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"atStart",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._position()).__eq(0);return a},function(l){l.fill(t,"atStart",{},smalltalk.Stream)})},messageSends:["=","position"]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"close",fn:function(){var t=this;return smalltalk.withContext(function(l){return t},function(l){l.fill(t,"close",{},smalltalk.Stream)})},messageSends:[]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"collection",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@collection"];return a},function(l){l.fill(t,"collection",{},smalltalk.Stream)})},messageSends:[]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"contents",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._collection())._copyFrom_to_(1,_st(t)._streamSize());return a},function(l){l.fill(t,"contents",{},smalltalk.Stream)})},messageSends:["copyFrom:to:","streamSize","collection"]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"do:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(function(){return smalltalk.withContext(function(t){return _st(l)._atEnd()},function(t){t.fillBlock({},a)})})._whileFalse_(function(){return smalltalk.withContext(function(a){return _st(t)._value_(_st(l)._next())},function(t){t.fillBlock({},a)})});return l},function(a){a.fill(l,"do:",{aBlock:t},smalltalk.Stream)})},messageSends:["whileFalse:","value:","next","atEnd"]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"flush",fn:function(){var t=this;return smalltalk.withContext(function(l){return t},function(l){l.fill(t,"flush",{},smalltalk.Stream)})},messageSends:[]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"isEmpty",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._size()).__eq(0);return a},function(l){l.fill(t,"isEmpty",{},smalltalk.Stream)})},messageSends:["=","size"]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"next",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=_st(t)._atEnd();if(smalltalk.assert(a)){e=nil}else{_st(t)._position_(_st(_st(t)._position()).__plus(1));e=_st(t["@collection"])._at_(_st(t)._position())}return e},function(l){l.fill(t,"next",{},smalltalk.Stream)})},messageSends:["ifTrue:ifFalse:","position:","+","position","at:","atEnd"]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"next:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s,n;a=_st(_st(_st(l)._collection())._class())._new();_st(t)._timesRepeat_(function(){return smalltalk.withContext(function(t){s=_st(l)._atEnd();if(!smalltalk.assert(s)){return _st(a)._add_(_st(l)._next())}},function(t){t.fillBlock({},e)})});n=a;return n},function(e){e.fill(l,"next:",{anInteger:t,tempCollection:a},smalltalk.Stream)})},messageSends:["new","class","collection","timesRepeat:","ifFalse:","add:","next","atEnd"]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"nextPut:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._position_(_st(_st(l)._position()).__plus(1));_st(_st(l)._collection())._at_put_(_st(l)._position(),t);_st(l)._setStreamSize_(_st(_st(l)._streamSize())._max_(_st(l)._position()));return l},function(a){a.fill(l,"nextPut:",{anObject:t},smalltalk.Stream)})},messageSends:["position:","+","position","at:put:","collection","setStreamSize:","max:","streamSize"]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"nextPutAll:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(t)._do_(function(t){return smalltalk.withContext(function(a){return _st(l)._nextPut_(t)},function(l){l.fillBlock({each:t},a)})});return l},function(a){a.fill(l,"nextPutAll:",{aCollection:t},smalltalk.Stream)})},messageSends:["do:","nextPut:"]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"nextPutString:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._nextPut_(t);return l},function(a){a.fill(l,"nextPutString:",{aString:t},smalltalk.Stream)})},messageSends:["nextPut:"]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"peek",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=_st(t)._atEnd();if(!smalltalk.assert(a)){e=_st(_st(t)._collection())._at_(_st(_st(t)._position()).__plus(1))}return e},function(l){l.fill(t,"peek",{},smalltalk.Stream)})},messageSends:["ifFalse:","at:","+","position","collection","atEnd"]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"position",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@position"];if(($receiver=a)==nil||$receiver==undefined){t["@position"]=0;e=t["@position"]}else{e=a}return e},function(l){l.fill(t,"position",{},smalltalk.Stream)})},messageSends:["ifNil:"]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"position:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@position"]=t;return l},function(a){a.fill(l,"position:",{anInteger:t},smalltalk.Stream)})},messageSends:[]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"reset",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._position_(0);return t},function(l){l.fill(t,"reset",{},smalltalk.Stream)})},messageSends:["position:"]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"resetContents",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._reset();_st(t)._setStreamSize_(0);return t},function(l){l.fill(t,"resetContents",{},smalltalk.Stream)})},messageSends:["reset","setStreamSize:"]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"setCollection:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@collection"]=t;return l},function(a){a.fill(l,"setCollection:",{aCollection:t},smalltalk.Stream)})},messageSends:[]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"setStreamSize:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@streamSize"]=t;return l},function(a){a.fill(l,"setStreamSize:",{anInteger:t},smalltalk.Stream)})},messageSends:[]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"setToEnd",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._position_(_st(t)._size());return t},function(l){l.fill(t,"setToEnd",{},smalltalk.Stream)})},messageSends:["position:","size"]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"size",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._streamSize();return a},function(l){l.fill(t,"size",{},smalltalk.Stream)})},messageSends:["streamSize"]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"skip:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._position_(_st(_st(_st(l)._position()).__plus(t))._min_max_(_st(l)._size(),0));return l},function(a){a.fill(l,"skip:",{anInteger:t},smalltalk.Stream)})},messageSends:["position:","min:max:","size","+","position"]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"streamSize",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@streamSize"];return a},function(l){l.fill(t,"streamSize",{},smalltalk.Stream)})},messageSends:[]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"write:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(t)._putOn_(l);return l},function(a){a.fill(l,"write:",{anObject:t},smalltalk.Stream)})},messageSends:["putOn:"]}),smalltalk.Stream);smalltalk.addMethod(smalltalk.method({selector:"on:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=_st(l)._new();_st(e)._setCollection_(t);_st(e)._setStreamSize_(_st(t)._size());s=_st(e)._yourself();n=s;return n},function(a){a.fill(l,"on:",{aCollection:t},smalltalk.Stream.klass)})},messageSends:["setCollection:","new","setStreamSize:","size","yourself"]}),smalltalk.Stream.klass);smalltalk.addClass("StringStream",smalltalk.Stream,[],"Kernel-Collections");smalltalk.addMethod(smalltalk.method({selector:"cr",fn:function(){var t=this;function l(){return smalltalk.String||(typeof String=="undefined"?nil:String)}return smalltalk.withContext(function(a){var e;e=_st(t)._nextPutAll_(_st(l())._cr());return e},function(l){l.fill(t,"cr",{},smalltalk.StringStream)
})},messageSends:["nextPutAll:","cr"]}),smalltalk.StringStream);smalltalk.addMethod(smalltalk.method({selector:"crlf",fn:function(){var t=this;function l(){return smalltalk.String||(typeof String=="undefined"?nil:String)}return smalltalk.withContext(function(a){var e;e=_st(t)._nextPutAll_(_st(l())._crlf());return e},function(l){l.fill(t,"crlf",{},smalltalk.StringStream)})},messageSends:["nextPutAll:","crlf"]}),smalltalk.StringStream);smalltalk.addMethod(smalltalk.method({selector:"lf",fn:function(){var t=this;function l(){return smalltalk.String||(typeof String=="undefined"?nil:String)}return smalltalk.withContext(function(a){var e;e=_st(t)._nextPutAll_(_st(l())._lf());return e},function(l){l.fill(t,"lf",{},smalltalk.StringStream)})},messageSends:["nextPutAll:","lf"]}),smalltalk.StringStream);smalltalk.addMethod(smalltalk.method({selector:"next:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s,n;a=_st(_st(_st(l)._collection())._class())._new();_st(t)._timesRepeat_(function(){return smalltalk.withContext(function(t){s=_st(l)._atEnd();if(!smalltalk.assert(s)){a=_st(a).__comma(_st(l)._next());return a}},function(t){t.fillBlock({},e)})});n=a;return n},function(e){e.fill(l,"next:",{anInteger:t,tempCollection:a},smalltalk.StringStream)})},messageSends:["new","class","collection","timesRepeat:","ifFalse:",",","next","atEnd"]}),smalltalk.StringStream);smalltalk.addMethod(smalltalk.method({selector:"nextPut:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._nextPutAll_(t);return l},function(a){a.fill(l,"nextPut:",{aString:t},smalltalk.StringStream)})},messageSends:["nextPutAll:"]}),smalltalk.StringStream);smalltalk.addMethod(smalltalk.method({selector:"nextPutAll:",fn:function(t){var l=this;var a,e;return smalltalk.withContext(function(s){var n;n=_st(l)._atEnd();if(smalltalk.assert(n)){_st(l)._setCollection_(_st(_st(l)._collection()).__comma(t))}else{a=_st(_st(l)._collection())._copyFrom_to_(1,_st(l)._position());a;e=_st(_st(l)._collection())._copyFrom_to_(_st(_st(_st(l)._position()).__plus(1)).__plus(_st(t)._size()),_st(_st(l)._collection())._size());e;_st(l)._setCollection_(_st(_st(a).__comma(t)).__comma(e))}_st(l)._position_(_st(_st(l)._position()).__plus(_st(t)._size()));_st(l)._setStreamSize_(_st(_st(l)._streamSize())._max_(_st(l)._position()));return l},function(s){s.fill(l,"nextPutAll:",{aString:t,pre:a,post:e},smalltalk.StringStream)})},messageSends:["ifTrue:ifFalse:","setCollection:",",","collection","copyFrom:to:","position","+","size","atEnd","position:","setStreamSize:","max:","streamSize"]}),smalltalk.StringStream);smalltalk.addMethod(smalltalk.method({selector:"nextPutString:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._nextPutAll_(t);return l},function(a){a.fill(l,"nextPutString:",{aString:t},smalltalk.StringStream)})},messageSends:["nextPutAll:"]}),smalltalk.StringStream);smalltalk.addMethod(smalltalk.method({selector:"space",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._nextPut_(" ");return t},function(l){l.fill(t,"space",{},smalltalk.StringStream)})},messageSends:["nextPut:"]}),smalltalk.StringStream);smalltalk.addMethod(smalltalk.method({selector:"tab",fn:function(){var t=this;function l(){return smalltalk.String||(typeof String=="undefined"?nil:String)}return smalltalk.withContext(function(a){var e;e=_st(t)._nextPutAll_(_st(l())._tab());return e},function(l){l.fill(t,"tab",{},smalltalk.StringStream)})},messageSends:["nextPutAll:","tab"]}),smalltalk.StringStream);smalltalk.addPackage("Kernel-Announcements");smalltalk.addClass("AnnouncementSubscription",smalltalk.Object,["block","announcementClass"],"Kernel-Announcements");smalltalk.addMethod(smalltalk.method({selector:"announcementClass",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@announcementClass"];return a},function(l){l.fill(t,"announcementClass",{},smalltalk.AnnouncementSubscription)})},messageSends:[]}),smalltalk.AnnouncementSubscription);smalltalk.addMethod(smalltalk.method({selector:"announcementClass:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@announcementClass"]=t;return l},function(a){a.fill(l,"announcementClass:",{aClass:t},smalltalk.AnnouncementSubscription)})},messageSends:[]}),smalltalk.AnnouncementSubscription);smalltalk.addMethod(smalltalk.method({selector:"block",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@block"];return a},function(l){l.fill(t,"block",{},smalltalk.AnnouncementSubscription)})},messageSends:[]}),smalltalk.AnnouncementSubscription);smalltalk.addMethod(smalltalk.method({selector:"block:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@block"]=t;return l},function(a){a.fill(l,"block:",{aBlock:t},smalltalk.AnnouncementSubscription)})},messageSends:[]}),smalltalk.AnnouncementSubscription);smalltalk.addMethod(smalltalk.method({selector:"deliver:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l)._handlesAnnouncement_(t);if(smalltalk.assert(e)){_st(_st(l)._block())._value_(t)}return l},function(a){a.fill(l,"deliver:",{anAnnouncement:t},smalltalk.AnnouncementSubscription)})},messageSends:["ifTrue:","value:","block","handlesAnnouncement:"]}),smalltalk.AnnouncementSubscription);smalltalk.addMethod(smalltalk.method({selector:"handlesAnnouncement:",fn:function(t){var l=this;function a(){return smalltalk.Smalltalk||(typeof Smalltalk=="undefined"?nil:Smalltalk)}return smalltalk.withContext(function(e){var s,n;s=_st(_st(a())._current())._at_(_st(_st(l)._announcementClass())._name());if(($receiver=s)==nil||$receiver==undefined){return false}else{var o;o=$receiver;n=_st(o)._includesBehavior_(_st(_st(a())._current())._at_(_st(_st(_st(t)._class())._theNonMetaClass())._name()))}return n},function(a){a.fill(l,"handlesAnnouncement:",{anAnnouncement:t},smalltalk.AnnouncementSubscription)})},messageSends:["ifNil:ifNotNil:","includesBehavior:","at:","name","theNonMetaClass","class","current","announcementClass"]}),smalltalk.AnnouncementSubscription);smalltalk.addClass("Announcer",smalltalk.Object,["registry","subscriptions"],"Kernel-Announcements");smalltalk.addMethod(smalltalk.method({selector:"announce:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l["@subscriptions"])._do_(function(l){return smalltalk.withContext(function(a){return _st(l)._deliver_(t)},function(t){t.fillBlock({each:l},a)})});return l},function(a){a.fill(l,"announce:",{anAnnouncement:t},smalltalk.Announcer)})},messageSends:["do:","deliver:"]}),smalltalk.Announcer);smalltalk.addMethod(smalltalk.method({selector:"initialize",fn:function(){var t=this;function l(){return smalltalk.Array||(typeof Array=="undefined"?nil:Array)}return smalltalk.withContext(function(a){smalltalk.Object.fn.prototype._initialize.apply(_st(t),[]);t["@subscriptions"]=_st(l())._new();return t},function(l){l.fill(t,"initialize",{},smalltalk.Announcer)})},messageSends:["initialize","new"]}),smalltalk.Announcer);smalltalk.addMethod(smalltalk.method({selector:"on:do:",fn:function(t,l){var a=this;function e(){return smalltalk.AnnouncementSubscription||(typeof AnnouncementSubscription=="undefined"?nil:AnnouncementSubscription)}return smalltalk.withContext(function(s){var n,o;n=_st(e())._new();_st(n)._block_(l);_st(n)._announcementClass_(t);o=_st(n)._yourself();_st(a["@subscriptions"])._add_(o);return a},function(e){e.fill(a,"on:do:",{aClass:t,aBlock:l},smalltalk.Announcer)})},messageSends:["add:","block:","new","announcementClass:","yourself"]}),smalltalk.Announcer);smalltalk.addClass("SystemAnnouncer",smalltalk.Announcer,[],"Kernel-Announcements");smalltalk.SystemAnnouncer.klass.iVarNames=["current"];smalltalk.addMethod(smalltalk.method({selector:"current",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@current"];if(($receiver=a)==nil||$receiver==undefined){t["@current"]=smalltalk.Announcer.klass.fn.prototype._new.apply(_st(t),[]);e=t["@current"]}else{e=a}return e},function(l){l.fill(t,"current",{},smalltalk.SystemAnnouncer.klass)})},messageSends:["ifNil:","new"]}),smalltalk.SystemAnnouncer.klass);smalltalk.addMethod(smalltalk.method({selector:"new",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._shouldNotImplement();return t},function(l){l.fill(t,"new",{},smalltalk.SystemAnnouncer.klass)})},messageSends:["shouldNotImplement"]}),smalltalk.SystemAnnouncer.klass);smalltalk.addClass("SystemAnnouncement",smalltalk.Object,["theClass"],"Kernel-Announcements");smalltalk.addMethod(smalltalk.method({selector:"theClass",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@theClass"];return a},function(l){l.fill(t,"theClass",{},smalltalk.SystemAnnouncement)})},messageSends:[]}),smalltalk.SystemAnnouncement);smalltalk.addMethod(smalltalk.method({selector:"theClass:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@theClass"]=t;return l},function(a){a.fill(l,"theClass:",{aClass:t},smalltalk.SystemAnnouncement)})},messageSends:[]}),smalltalk.SystemAnnouncement);smalltalk.addClass("ClassAnnouncement",smalltalk.SystemAnnouncement,["theClass"],"Kernel-Announcements");smalltalk.addMethod(smalltalk.method({selector:"theClass",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@theClass"];return a},function(l){l.fill(t,"theClass",{},smalltalk.ClassAnnouncement)})},messageSends:[]}),smalltalk.ClassAnnouncement);smalltalk.addMethod(smalltalk.method({selector:"theClass:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@theClass"]=t;return l},function(a){a.fill(l,"theClass:",{aClass:t},smalltalk.ClassAnnouncement)})},messageSends:[]}),smalltalk.ClassAnnouncement);smalltalk.addClass("ClassAdded",smalltalk.ClassAnnouncement,[],"Kernel-Announcements");smalltalk.addClass("ClassCommentChanged",smalltalk.ClassAnnouncement,[],"Kernel-Announcements");smalltalk.addClass("ClassDefinitionChanged",smalltalk.ClassAnnouncement,[],"Kernel-Announcements");smalltalk.addClass("ClassMoved",smalltalk.ClassAnnouncement,["oldPackage"],"Kernel-Announcements");smalltalk.addMethod(smalltalk.method({selector:"oldPackage",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@oldPackage"];return a},function(l){l.fill(t,"oldPackage",{},smalltalk.ClassMoved)})},messageSends:[]}),smalltalk.ClassMoved);smalltalk.addMethod(smalltalk.method({selector:"oldPackage:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@oldPackage"]=t;return l},function(a){a.fill(l,"oldPackage:",{aPackage:t},smalltalk.ClassMoved)})},messageSends:[]}),smalltalk.ClassMoved);smalltalk.addClass("ClassRemoved",smalltalk.ClassAnnouncement,[],"Kernel-Announcements");smalltalk.addClass("ClassRenamed",smalltalk.ClassAnnouncement,[],"Kernel-Announcements");smalltalk.addClass("MethodAnnouncement",smalltalk.SystemAnnouncement,["method"],"Kernel-Announcements");smalltalk.addMethod(smalltalk.method({selector:"method",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@method"];return a},function(l){l.fill(t,"method",{},smalltalk.MethodAnnouncement)})},messageSends:[]}),smalltalk.MethodAnnouncement);smalltalk.addMethod(smalltalk.method({selector:"method:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@method"]=t;return l},function(a){a.fill(l,"method:",{aCompiledMethod:t},smalltalk.MethodAnnouncement)})},messageSends:[]}),smalltalk.MethodAnnouncement);smalltalk.addClass("MethodAdded",smalltalk.MethodAnnouncement,[],"Kernel-Announcements");smalltalk.addClass("MethodModified",smalltalk.MethodAnnouncement,["oldMethod"],"Kernel-Announcements");smalltalk.addMethod(smalltalk.method({selector:"oldMethod",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@oldMethod"];return a},function(l){l.fill(t,"oldMethod",{},smalltalk.MethodModified)})},messageSends:[]}),smalltalk.MethodModified);smalltalk.addMethod(smalltalk.method({selector:"oldMethod:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@oldMethod"]=t;return l},function(a){a.fill(l,"oldMethod:",{aMethod:t},smalltalk.MethodModified)})},messageSends:[]}),smalltalk.MethodModified);smalltalk.addClass("MethodMoved",smalltalk.MethodAnnouncement,["oldProtocol"],"Kernel-Announcements");smalltalk.addMethod(smalltalk.method({selector:"oldProtocol",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@oldProtocol"];return a},function(l){l.fill(t,"oldProtocol",{},smalltalk.MethodMoved)})},messageSends:[]}),smalltalk.MethodMoved);smalltalk.addMethod(smalltalk.method({selector:"oldProtocol:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@oldProtocol"]=t;return l},function(a){a.fill(l,"oldProtocol:",{aString:t},smalltalk.MethodMoved)})},messageSends:[]}),smalltalk.MethodMoved);smalltalk.addClass("MethodRemoved",smalltalk.MethodAnnouncement,[],"Kernel-Announcements");smalltalk.addClass("PackageAnnouncement",smalltalk.SystemAnnouncement,["package"],"Kernel-Announcements");smalltalk.addMethod(smalltalk.method({selector:"package",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@package"];return a},function(l){l.fill(t,"package",{},smalltalk.PackageAnnouncement)})},messageSends:[]}),smalltalk.PackageAnnouncement);smalltalk.addMethod(smalltalk.method({selector:"package:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@package"]=t;return l},function(a){a.fill(l,"package:",{aPackage:t},smalltalk.PackageAnnouncement)})},messageSends:[]}),smalltalk.PackageAnnouncement);smalltalk.addClass("PackageAdded",smalltalk.PackageAnnouncement,[],"Kernel-Announcements");smalltalk.addClass("PackageRemoved",smalltalk.PackageAnnouncement,[],"Kernel-Announcements");smalltalk.addClass("ProtocolAnnouncement",smalltalk.SystemAnnouncement,["theClass","protocol"],"Kernel-Announcements");smalltalk.addMethod(smalltalk.method({selector:"protocol",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@protocol"];return a},function(l){l.fill(t,"protocol",{},smalltalk.ProtocolAnnouncement)})},messageSends:[]}),smalltalk.ProtocolAnnouncement);smalltalk.addMethod(smalltalk.method({selector:"protocol:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@protocol"]=t;return l},function(a){a.fill(l,"protocol:",{aString:t},smalltalk.ProtocolAnnouncement)})},messageSends:[]}),smalltalk.ProtocolAnnouncement);smalltalk.addMethod(smalltalk.method({selector:"theClass",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@theClass"];return a},function(l){l.fill(t,"theClass",{},smalltalk.ProtocolAnnouncement)})},messageSends:[]}),smalltalk.ProtocolAnnouncement);smalltalk.addMethod(smalltalk.method({selector:"theClass:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@theClass"]=t;return l},function(a){a.fill(l,"theClass:",{aClass:t},smalltalk.ProtocolAnnouncement)})},messageSends:[]}),smalltalk.ProtocolAnnouncement);smalltalk.addClass("ProtocolAdded",smalltalk.ProtocolAnnouncement,[],"Kernel-Announcements");smalltalk.addClass("ProtocolRemoved",smalltalk.ProtocolAnnouncement,[],"Kernel-Announcements");smalltalk.addPackage("Kernel-Exceptions");smalltalk.addClass("Error",smalltalk.Object,["messageText"],"Kernel-Exceptions");smalltalk.addMethod(smalltalk.method({selector:"context",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.context;return t},function(l){l.fill(t,"context",{},smalltalk.Error)})},messageSends:[]}),smalltalk.Error);smalltalk.addMethod(smalltalk.method({selector:"initialize",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._messageText_(_st("Errorclass: ").__comma(_st(_st(t)._class())._name()));return t},function(l){l.fill(t,"initialize",{},smalltalk.Error)})},messageSends:["messageText:",",","name","class"]}),smalltalk.Error);smalltalk.addMethod(smalltalk.method({selector:"isSmalltalkError",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.smalltalkError===true;return t},function(l){l.fill(t,"isSmalltalkError",{},smalltalk.Error)})},messageSends:[]}),smalltalk.Error);smalltalk.addMethod(smalltalk.method({selector:"jsStack",fn:function(){var t=this;return smalltalk.withContext(function(l){return t.stack;return t},function(l){l.fill(t,"jsStack",{},smalltalk.Error)})},messageSends:[]}),smalltalk.Error);smalltalk.addMethod(smalltalk.method({selector:"messageText",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@messageText"];return a},function(l){l.fill(t,"messageText",{},smalltalk.Error)})},messageSends:[]}),smalltalk.Error);smalltalk.addMethod(smalltalk.method({selector:"messageText:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@messageText"]=t;return l},function(a){a.fill(l,"messageText:",{aString:t},smalltalk.Error)})},messageSends:[]}),smalltalk.Error);smalltalk.addMethod(smalltalk.method({selector:"signal",fn:function(){var t=this;return smalltalk.withContext(function(l){t.context=smalltalk.getThisContext();t.smalltalkError=true;throw t;return t},function(l){l.fill(t,"signal",{},smalltalk.Error)})},messageSends:[]}),smalltalk.Error);smalltalk.addMethod(smalltalk.method({selector:"signal:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._messageText_(t);_st(l)._signal();return l},function(a){a.fill(l,"signal:",{aString:t},smalltalk.Error)})},messageSends:["messageText:","signal"]}),smalltalk.Error);smalltalk.addMethod(smalltalk.method({selector:"signal",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._new())._signal();return a},function(l){l.fill(t,"signal",{},smalltalk.Error.klass)})},messageSends:["signal","new"]}),smalltalk.Error.klass);smalltalk.addMethod(smalltalk.method({selector:"signal:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._new())._signal_(t);return e},function(a){a.fill(l,"signal:",{aString:t},smalltalk.Error.klass)})},messageSends:["signal:","new"]}),smalltalk.Error.klass);smalltalk.addClass("JavaScriptException",smalltalk.Error,["exception"],"Kernel-Exceptions");smalltalk.addMethod(smalltalk.method({selector:"context:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l.context=t;return l},function(a){a.fill(l,"context:",{aMethodContext:t},smalltalk.JavaScriptException)})},messageSends:[]}),smalltalk.JavaScriptException);smalltalk.addMethod(smalltalk.method({selector:"exception",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@exception"];return a},function(l){l.fill(t,"exception",{},smalltalk.JavaScriptException)})},messageSends:[]}),smalltalk.JavaScriptException);smalltalk.addMethod(smalltalk.method({selector:"exception:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@exception"]=t;return l},function(a){a.fill(l,"exception:",{anException:t},smalltalk.JavaScriptException)})},messageSends:[]}),smalltalk.JavaScriptException);smalltalk.addMethod(smalltalk.method({selector:"messageText",fn:function(){var t=this;return smalltalk.withContext(function(l){return"JavaScript exception: "+t["@exception"].toString();return t},function(l){l.fill(t,"messageText",{},smalltalk.JavaScriptException)})},messageSends:[]}),smalltalk.JavaScriptException);smalltalk.addMethod(smalltalk.method({selector:"on:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=_st(l)._new();_st(e)._exception_(t);s=_st(e)._yourself();n=s;return n},function(a){a.fill(l,"on:",{anException:t},smalltalk.JavaScriptException.klass)})},messageSends:["exception:","new","yourself"]}),smalltalk.JavaScriptException.klass);smalltalk.addMethod(smalltalk.method({selector:"on:context:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s,n,o;s=_st(a)._new();_st(s)._exception_(t);_st(s)._context_(l);n=_st(s)._yourself();o=n;return o},function(e){e.fill(a,"on:context:",{anException:t,aMethodContext:l},smalltalk.JavaScriptException.klass)})},messageSends:["exception:","new","context:","yourself"]}),smalltalk.JavaScriptException.klass);smalltalk.addClass("MessageNotUnderstood",smalltalk.Error,["message","receiver"],"Kernel-Exceptions");smalltalk.addMethod(smalltalk.method({selector:"message",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@message"];return a},function(l){l.fill(t,"message",{},smalltalk.MessageNotUnderstood)})},messageSends:[]}),smalltalk.MessageNotUnderstood);smalltalk.addMethod(smalltalk.method({selector:"message:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@message"]=t;return l},function(a){a.fill(l,"message:",{aMessage:t},smalltalk.MessageNotUnderstood)})},messageSends:[]}),smalltalk.MessageNotUnderstood);smalltalk.addMethod(smalltalk.method({selector:"messageText",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(_st(_st(t)._receiver())._asString()).__comma(" does not understand #")).__comma(_st(_st(t)._message())._selector());return a},function(l){l.fill(t,"messageText",{},smalltalk.MessageNotUnderstood)})},messageSends:[",","selector","message","asString","receiver"]}),smalltalk.MessageNotUnderstood);smalltalk.addMethod(smalltalk.method({selector:"receiver",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@receiver"];return a},function(l){l.fill(t,"receiver",{},smalltalk.MessageNotUnderstood)})},messageSends:[]}),smalltalk.MessageNotUnderstood);smalltalk.addMethod(smalltalk.method({selector:"receiver:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@receiver"]=t;return l},function(a){a.fill(l,"receiver:",{anObject:t},smalltalk.MessageNotUnderstood)})},messageSends:[]}),smalltalk.MessageNotUnderstood);smalltalk.addClass("NonBooleanReceiver",smalltalk.Error,["object"],"Kernel-Exceptions");smalltalk.addMethod(smalltalk.method({selector:"object",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@object"];return a},function(l){l.fill(t,"object",{},smalltalk.NonBooleanReceiver)})},messageSends:[]}),smalltalk.NonBooleanReceiver);smalltalk.addMethod(smalltalk.method({selector:"object:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@object"]=t;return l},function(a){a.fill(l,"object:",{anObject:t},smalltalk.NonBooleanReceiver)})},messageSends:[]}),smalltalk.NonBooleanReceiver);smalltalk.addClass("ErrorHandler",smalltalk.Object,[],"Kernel-Exceptions");smalltalk.addMethod(smalltalk.method({selector:"handleError:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(t)._context();if(($receiver=e)==nil||$receiver==undefined){e}else{_st(l)._logErrorContext_(_st(t)._context())}_st(l)._logError_(t);return l},function(a){a.fill(l,"handleError:",{anError:t},smalltalk.ErrorHandler)})},messageSends:["ifNotNil:","logErrorContext:","context","logError:"]}),smalltalk.ErrorHandler);smalltalk.addMethod(smalltalk.method({selector:"log:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(console)._log_(t);return l},function(a){a.fill(l,"log:",{aString:t},smalltalk.ErrorHandler)})},messageSends:["log:"]}),smalltalk.ErrorHandler);smalltalk.addMethod(smalltalk.method({selector:"logContext:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(t)._home();if(($receiver=e)==nil||$receiver==undefined){e}else{_st(l)._logContext_(_st(t)._home())}_st(l)._log_(_st(_st(_st(_st(t)._receiver())._asString()).__comma(">>")).__comma(_st(_st(t)._selector())._asString()));return l},function(a){a.fill(l,"logContext:",{aContext:t},smalltalk.ErrorHandler)})},messageSends:["ifNotNil:","logContext:","home","log:",",","asString","selector","receiver"]}),smalltalk.ErrorHandler);smalltalk.addMethod(smalltalk.method({selector:"logError:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._log_(_st(t)._messageText());return l},function(a){a.fill(l,"logError:",{anError:t},smalltalk.ErrorHandler)})},messageSends:["log:","messageText"]}),smalltalk.ErrorHandler);smalltalk.addMethod(smalltalk.method({selector:"logErrorContext:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;e=t;if(($receiver=e)==nil||$receiver==undefined){e}else{s=_st(t)._home();if(($receiver=s)==nil||$receiver==undefined){s}else{_st(l)._logContext_(_st(t)._home())}}return l},function(a){a.fill(l,"logErrorContext:",{aContext:t},smalltalk.ErrorHandler)})},messageSends:["ifNotNil:","logContext:","home"]}),smalltalk.ErrorHandler);smalltalk.ErrorHandler.klass.iVarNames=["current"];smalltalk.addMethod(smalltalk.method({selector:"current",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@current"];if(($receiver=a)==nil||$receiver==undefined){t["@current"]=_st(t)._new();e=t["@current"]}else{e=a}return e},function(l){l.fill(t,"current",{},smalltalk.ErrorHandler.klass)})},messageSends:["ifNil:","new"]}),smalltalk.ErrorHandler.klass);smalltalk.addMethod(smalltalk.method({selector:"initialize",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._register();return t},function(l){l.fill(t,"initialize",{},smalltalk.ErrorHandler.klass)})},messageSends:["register"]}),smalltalk.ErrorHandler.klass);smalltalk.addMethod(smalltalk.method({selector:"register",fn:function(){var t=this;function l(){return smalltalk.ErrorHandler||(typeof ErrorHandler=="undefined"?nil:ErrorHandler)}return smalltalk.withContext(function(a){_st(l())._setCurrent_(_st(t)._new());return t},function(l){l.fill(t,"register",{},smalltalk.ErrorHandler.klass)})},messageSends:["setCurrent:","new"]}),smalltalk.ErrorHandler.klass);smalltalk.addMethod(smalltalk.method({selector:"setCurrent:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@current"]=t;return l},function(a){a.fill(l,"setCurrent:",{anHandler:t},smalltalk.ErrorHandler.klass)})},messageSends:[]}),smalltalk.ErrorHandler.klass);smalltalk.addPackage("Canvas");smalltalk.addClass("HTMLCanvas",smalltalk.Object,["root"],"Canvas");smalltalk.addMethod(smalltalk.method({selector:"a",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("a");return a},function(l){l.fill(t,"a",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"abbr",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("abbr");return a},function(l){l.fill(t,"abbr",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"address",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("address");return a},function(l){l.fill(t,"address",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"area",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("area");return a},function(l){l.fill(t,"area",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"article",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("article");return a},function(l){l.fill(t,"article",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"aside",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("aside");return a},function(l){l.fill(t,"aside",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"audio",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("audio");return a},function(l){l.fill(t,"audio",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"base",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("base");return a},function(l){l.fill(t,"base",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"blockquote",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("blockquote");return a},function(l){l.fill(t,"blockquote",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"body",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("body");return a},function(l){l.fill(t,"body",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"br",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("br");return a},function(l){l.fill(t,"br",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"button",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("button");return a},function(l){l.fill(t,"button",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"canvas",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("canvas");return a},function(l){l.fill(t,"canvas",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"caption",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("caption");return a},function(l){l.fill(t,"caption",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"cite",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("cite");return a},function(l){l.fill(t,"cite",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"code",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("code");return a},function(l){l.fill(t,"code",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"col",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("col");return a},function(l){l.fill(t,"col",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"colgroup",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("colgroup");return a},function(l){l.fill(t,"colgroup",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"command",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("command");return a},function(l){l.fill(t,"command",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"datalist",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("datalist");return a},function(l){l.fill(t,"datalist",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"dd",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("dd");return a},function(l){l.fill(t,"dd",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"del",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("del");return a},function(l){l.fill(t,"del",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"details",fn:function(){var t=this;
return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("details");return a},function(l){l.fill(t,"details",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"div",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("div");return a},function(l){l.fill(t,"div",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"div:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._div())._with_(t);return e},function(a){a.fill(l,"div:",{aBlock:t},smalltalk.HTMLCanvas)})},messageSends:["with:","div"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"dl",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("dl");return a},function(l){l.fill(t,"dl",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"dt",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("dt");return a},function(l){l.fill(t,"dt",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"em",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("em");return a},function(l){l.fill(t,"em",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"embed",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("embed");return a},function(l){l.fill(t,"embed",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"entity:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s;a=_st(_st(_st("<span />")._asJQuery())._html_(_st(_st("&").__comma(t)).__comma(";")))._text();s=_st(_st(a)._size()).__eq(1);if(!smalltalk.assert(s)){_st(l)._error_(_st("Not an HTML entity: ").__comma(t))}_st(l)._with_(a);return l},function(e){e.fill(l,"entity:",{aString:t,result:a},smalltalk.HTMLCanvas)})},messageSends:["text","html:",",","asJQuery","ifFalse:","error:","=","size","with:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"fieldset",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("fieldset");return a},function(l){l.fill(t,"fieldset",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"figcaption",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("figcaption");return a},function(l){l.fill(t,"figcaption",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"figure",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("figure");return a},function(l){l.fill(t,"figure",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"footer",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("footer");return a},function(l){l.fill(t,"footer",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"form",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("form");return a},function(l){l.fill(t,"form",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"h1",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("h1");return a},function(l){l.fill(t,"h1",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"h1:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._h1())._with_(t);return e},function(a){a.fill(l,"h1:",{anObject:t},smalltalk.HTMLCanvas)})},messageSends:["with:","h1"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"h2",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("h2");return a},function(l){l.fill(t,"h2",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"h2:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._h2())._with_(t);return e},function(a){a.fill(l,"h2:",{anObject:t},smalltalk.HTMLCanvas)})},messageSends:["with:","h2"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"h3",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("h3");return a},function(l){l.fill(t,"h3",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"h3:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._h3())._with_(t);return e},function(a){a.fill(l,"h3:",{anObject:t},smalltalk.HTMLCanvas)})},messageSends:["with:","h3"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"h4",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("h4");return a},function(l){l.fill(t,"h4",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"h4:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._h4())._with_(t);return e},function(a){a.fill(l,"h4:",{anObject:t},smalltalk.HTMLCanvas)})},messageSends:["with:","h4"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"h5",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("h5");return a},function(l){l.fill(t,"h5",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"h5:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._h5())._with_(t);return e},function(a){a.fill(l,"h5:",{anObject:t},smalltalk.HTMLCanvas)})},messageSends:["with:","h5"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"h6",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("h6");return a},function(l){l.fill(t,"h6",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"h6:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._h6())._with_(t);return e},function(a){a.fill(l,"h6:",{anObject:t},smalltalk.HTMLCanvas)})},messageSends:["with:","h6"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"head",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("head");return a},function(l){l.fill(t,"head",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"header",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("header");return a},function(l){l.fill(t,"header",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"hgroup",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("hgroup");return a},function(l){l.fill(t,"hgroup",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"hr",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("hr");return a},function(l){l.fill(t,"hr",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"html",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("html");return a},function(l){l.fill(t,"html",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"iframe",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("iframe");return a},function(l){l.fill(t,"iframe",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"iframe:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._iframe())._src_(t);return e},function(a){a.fill(l,"iframe:",{aString:t},smalltalk.HTMLCanvas)})},messageSends:["src:","iframe"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"img",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("img");return a},function(l){l.fill(t,"img",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"img:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._img())._src_(t);return e},function(a){a.fill(l,"img:",{aString:t},smalltalk.HTMLCanvas)})},messageSends:["src:","img"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"initialize",fn:function(){var t=this;function l(){return smalltalk.TagBrush||(typeof TagBrush=="undefined"?nil:TagBrush)}return smalltalk.withContext(function(a){var e;smalltalk.Object.fn.prototype._initialize.apply(_st(t),[]);e=t["@root"];if(($receiver=e)==nil||$receiver==undefined){t["@root"]=_st(l())._fromString_canvas_("div",t);t["@root"]}else{e}return t},function(l){l.fill(t,"initialize",{},smalltalk.HTMLCanvas)})},messageSends:["initialize","ifNil:","fromString:canvas:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"initializeFromJQuery:",fn:function(t){var l=this;function a(){return smalltalk.TagBrush||(typeof TagBrush=="undefined"?nil:TagBrush)}return smalltalk.withContext(function(e){l["@root"]=_st(a())._fromJQuery_canvas_(t,l);return l},function(a){a.fill(l,"initializeFromJQuery:",{aJQuery:t},smalltalk.HTMLCanvas)})},messageSends:["fromJQuery:canvas:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"input",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("input");return a},function(l){l.fill(t,"input",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"label",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("label");return a},function(l){l.fill(t,"label",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"legend",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("legend");return a},function(l){l.fill(t,"legend",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"li",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("li");return a},function(l){l.fill(t,"li",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"li:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._li())._with_(t);return e},function(a){a.fill(l,"li:",{anObject:t},smalltalk.HTMLCanvas)})},messageSends:["with:","li"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"link",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("link");return a},function(l){l.fill(t,"link",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"map",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("map");return a},function(l){l.fill(t,"map",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"mark",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("mark");return a},function(l){l.fill(t,"mark",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"menu",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("menu");return a},function(l){l.fill(t,"menu",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"meta",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("meta");return a},function(l){l.fill(t,"meta",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"nav",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("nav");return a},function(l){l.fill(t,"nav",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"newTag:",fn:function(t){var l=this;function a(){return smalltalk.TagBrush||(typeof TagBrush=="undefined"?nil:TagBrush)}return smalltalk.withContext(function(e){var s;s=_st(a())._fromString_canvas_(t,l);return s},function(a){a.fill(l,"newTag:",{aString:t},smalltalk.HTMLCanvas)})},messageSends:["fromString:canvas:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"noscript",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("noscript");return a},function(l){l.fill(t,"noscript",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"object",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("object");return a},function(l){l.fill(t,"object",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"ol",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("ol");return a},function(l){l.fill(t,"ol",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"ol:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._ol())._with_(t);return e},function(a){a.fill(l,"ol:",{anObject:t},smalltalk.HTMLCanvas)})},messageSends:["with:","ol"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"optgroup",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("optgroup");return a},function(l){l.fill(t,"optgroup",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"option",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("option");return a},function(l){l.fill(t,"option",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"output",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("output");return a},function(l){l.fill(t,"output",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"p",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("p");return a},function(l){l.fill(t,"p",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"p:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._p())._with_(t);return e},function(a){a.fill(l,"p:",{anObject:t},smalltalk.HTMLCanvas)})},messageSends:["with:","p"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"param",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("param");return a},function(l){l.fill(t,"param",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"pre",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("pre");return a},function(l){l.fill(t,"pre",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"progress",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("progress");return a},function(l){l.fill(t,"progress",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"root",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@root"];return a},function(l){l.fill(t,"root",{},smalltalk.HTMLCanvas)})},messageSends:[]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"root:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@root"]=t;return l},function(a){a.fill(l,"root:",{aTagBrush:t},smalltalk.HTMLCanvas)})},messageSends:[]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"script",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("script");return a},function(l){l.fill(t,"script",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"section",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("section");return a},function(l){l.fill(t,"section",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"select",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("select");return a},function(l){l.fill(t,"select",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"small",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("small");return a},function(l){l.fill(t,"small",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"snippet:",fn:function(t){var l=this;var a,e;function s(){return smalltalk.TagBrush||(typeof TagBrush=="undefined"?nil:TagBrush)}return smalltalk.withContext(function(n){var o,r;a=_st(_st(t)._asJQuery())._clone();_st(l)._with_(_st(s())._fromJQuery_canvas_(a,l));e=_st(a)._find_('[data-snippet="*"]');o=_st(_st(e)._toArray())._isEmpty();if(smalltalk.assert(o)){e=a;e}r=_st(s())._fromJQuery_canvas_(_st(e)._removeAttr_("data-snippet"),l);return r},function(s){s.fill(l,"snippet:",{anElement:t,clone:a,caret:e},smalltalk.HTMLCanvas)})},messageSends:["clone","asJQuery","with:","fromJQuery:canvas:","find:","ifTrue:","isEmpty","toArray","removeAttr:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"source",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("source");return a},function(l){l.fill(t,"source",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"span",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("span");return a},function(l){l.fill(t,"span",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"span:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._span())._with_(t);return e},function(a){a.fill(l,"span:",{anObject:t},smalltalk.HTMLCanvas)})},messageSends:["with:","span"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"strong",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("strong");return a},function(l){l.fill(t,"strong",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"strong:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._strong())._with_(t);return e},function(a){a.fill(l,"strong:",{anObject:t},smalltalk.HTMLCanvas)})},messageSends:["with:","strong"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"style",fn:function(){var t=this;function l(){return smalltalk.StyleTag||(typeof StyleTag=="undefined"?nil:StyleTag)}return smalltalk.withContext(function(a){var e;e=_st(t["@root"])._addBrush_(_st(l())._canvas_(t));return e},function(l){l.fill(t,"style",{},smalltalk.HTMLCanvas)})},messageSends:["addBrush:","canvas:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"style:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=_st(l)._style();_st(e)._with_(t);s=_st(e)._yourself();n=s;return n},function(a){a.fill(l,"style:",{aString:t},smalltalk.HTMLCanvas)})},messageSends:["with:","style","yourself"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"sub",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("sub");return a},function(l){l.fill(t,"sub",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"summary",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("summary");return a},function(l){l.fill(t,"summary",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"sup",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("sup");return a},function(l){l.fill(t,"sup",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"table",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("table");return a},function(l){l.fill(t,"table",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"tag:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l["@root"])._addBrush_(_st(l)._newTag_(t));return e},function(a){a.fill(l,"tag:",{aString:t},smalltalk.HTMLCanvas)})},messageSends:["addBrush:","newTag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"tbody",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("tbody");return a},function(l){l.fill(t,"tbody",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"td",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("td");return a},function(l){l.fill(t,"td",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"textarea",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("textarea");return a},function(l){l.fill(t,"textarea",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"tfoot",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("tfoot");return a},function(l){l.fill(t,"tfoot",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"th",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("th");return a},function(l){l.fill(t,"th",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"thead",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("thead");return a},function(l){l.fill(t,"thead",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"time",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("time");return a},function(l){l.fill(t,"time",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"title",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("title");return a},function(l){l.fill(t,"title",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"tr",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("tr");return a},function(l){l.fill(t,"tr",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"ul",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("ul");return a},function(l){l.fill(t,"ul",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"ul:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._ul())._with_(t);return e},function(a){a.fill(l,"ul:",{anObject:t},smalltalk.HTMLCanvas)})},messageSends:["with:","ul"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"video",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._tag_("video");return a},function(l){l.fill(t,"video",{},smalltalk.HTMLCanvas)})},messageSends:["tag:"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"with:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._root())._with_(t);return e},function(a){a.fill(l,"with:",{anObject:t},smalltalk.HTMLCanvas)})},messageSends:["with:","root"]}),smalltalk.HTMLCanvas);smalltalk.addMethod(smalltalk.method({selector:"browserVersion",fn:function(){var t=this;return smalltalk.withContext(function(t){var l;l=_st(_st(jQuery)._at_("browser"))._version();return l},function(l){l.fill(t,"browserVersion",{},smalltalk.HTMLCanvas.klass)})},messageSends:["version","at:"]}),smalltalk.HTMLCanvas.klass);smalltalk.addMethod(smalltalk.method({selector:"isMSIE",fn:function(){var t=this;return smalltalk.withContext(function(t){var l;l=_st(_st(_st(jQuery)._at_("browser"))._at_("msie"))._notNil();return l},function(l){l.fill(t,"isMSIE",{},smalltalk.HTMLCanvas.klass)})},messageSends:["notNil","at:"]}),smalltalk.HTMLCanvas.klass);smalltalk.addMethod(smalltalk.method({selector:"isMozilla",fn:function(){var t=this;return smalltalk.withContext(function(t){var l;l=_st(_st(_st(jQuery)._at_("browser"))._at_("mozilla"))._notNil();return l},function(l){l.fill(t,"isMozilla",{},smalltalk.HTMLCanvas.klass)})},messageSends:["notNil","at:"]}),smalltalk.HTMLCanvas.klass);smalltalk.addMethod(smalltalk.method({selector:"isOpera",fn:function(){var t=this;return smalltalk.withContext(function(t){var l;l=_st(_st(_st(jQuery)._at_("browser"))._at_("opera"))._notNil();return l},function(l){l.fill(t,"isOpera",{},smalltalk.HTMLCanvas.klass)})},messageSends:["notNil","at:"]}),smalltalk.HTMLCanvas.klass);smalltalk.addMethod(smalltalk.method({selector:"isWebkit",fn:function(){var t=this;return smalltalk.withContext(function(t){var l;l=_st(_st(_st(jQuery)._at_("browser"))._at_("webkit"))._notNil();return l},function(l){l.fill(t,"isWebkit",{},smalltalk.HTMLCanvas.klass)})},messageSends:["notNil","at:"]}),smalltalk.HTMLCanvas.klass);smalltalk.addMethod(smalltalk.method({selector:"onJQuery:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=_st(l)._basicNew();_st(e)._initializeFromJQuery_(t);_st(e)._initialize();s=_st(e)._yourself();n=s;return n},function(a){a.fill(l,"onJQuery:",{aJQuery:t},smalltalk.HTMLCanvas.klass)})},messageSends:["initializeFromJQuery:","basicNew","initialize","yourself"]}),smalltalk.HTMLCanvas.klass);smalltalk.addClass("HTMLSnippet",smalltalk.Object,["snippets"],"Canvas");smalltalk.addMethod(smalltalk.method({selector:"initializeFromJQuery:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._snippetsFromJQuery_(t))._do_(function(t){return smalltalk.withContext(function(a){return _st(l)._installSnippetFromJQuery_(_st(t)._asJQuery())},function(l){l.fillBlock({each:t},a)})});return l},function(a){a.fill(l,"initializeFromJQuery:",{aJQuery:t},smalltalk.HTMLSnippet)})},messageSends:["do:","installSnippetFromJQuery:","asJQuery","snippetsFromJQuery:"]}),smalltalk.HTMLSnippet);smalltalk.addMethod(smalltalk.method({selector:"installSnippetFromJQuery:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s,n;a=_st(t)._attr_("data-snippet");s=_st(a).__eq("*");if(!smalltalk.assert(s)){n=_st(_st("^\\*")._asRegexp())._test_(a);if(smalltalk.assert(n)){a=_st(a)._allButFirst();a;_st(t)._attr_put_("data-snippet","*")}else{_st(t)._removeAttr_("data-snippet")}_st(l)._snippetAt_install_(a,_st(_st(t)._detach())._get_(0))}return l},function(e){e.fill(l,"installSnippetFromJQuery:",{element:t,name:a},smalltalk.HTMLSnippet)})},messageSends:["attr:","ifFalse:","ifTrue:ifFalse:","allButFirst","attr:put:","removeAttr:","test:","asRegexp","snippetAt:install:","get:","detach","="]}),smalltalk.HTMLSnippet);smalltalk.addMethod(smalltalk.method({selector:"snippetAt:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._snippets())._at_(t);return e},function(a){a.fill(l,"snippetAt:",{aString:t},smalltalk.HTMLSnippet)})},messageSends:["at:","snippets"]}),smalltalk.HTMLSnippet);smalltalk.addMethod(smalltalk.method({selector:"snippetAt:compile:",fn:function(t,l){var a=this;function e(){return smalltalk.HTMLCanvas||(typeof HTMLCanvas=="undefined"?nil:HTMLCanvas)}function s(){return smalltalk.ClassBuilder||(typeof ClassBuilder=="undefined"?nil:ClassBuilder)}return smalltalk.withContext(function(n){_st(_st(s())._new())._installMethod_forClass_category_(_st(_st(function(t){return smalltalk.withContext(function(a){return _st(t)._snippet_(l)},function(l){l.fillBlock({htmlReceiver:t},n)})})._currySelf())._asCompiledMethod_(t),e(),"**snippets");return a},function(e){e.fill(a,"snippetAt:compile:",{aString:t,anElement:l},smalltalk.HTMLSnippet)})},messageSends:["installMethod:forClass:category:","asCompiledMethod:","currySelf","snippet:","new"]}),smalltalk.HTMLSnippet);smalltalk.addMethod(smalltalk.method({selector:"snippetAt:install:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){_st(_st(a)._snippets())._at_put_(t,l);_st(a)._snippetAt_compile_(t,l);return a},function(e){e.fill(a,"snippetAt:install:",{aString:t,anElement:l},smalltalk.HTMLSnippet)})},messageSends:["at:put:","snippets","snippetAt:compile:"]}),smalltalk.HTMLSnippet);smalltalk.addMethod(smalltalk.method({selector:"snippets",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@snippets"];if(($receiver=a)==nil||$receiver==undefined){t["@snippets"]=smalltalk.HashedCollection._fromPairs_([]);e=t["@snippets"]}else{e=a}return e},function(l){l.fill(t,"snippets",{},smalltalk.HTMLSnippet)})},messageSends:["ifNil:"]}),smalltalk.HTMLSnippet);smalltalk.addMethod(smalltalk.method({selector:"snippetsFromJQuery:",fn:function(t){var l=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._find_("[data-snippet]"))._toArray();return a},function(a){a.fill(l,"snippetsFromJQuery:",{aJQuery:t},smalltalk.HTMLSnippet)})},messageSends:["toArray","find:"]}),smalltalk.HTMLSnippet);smalltalk.HTMLSnippet.klass.iVarNames=["current"];smalltalk.addMethod(smalltalk.method({selector:"current",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@current"];return a},function(l){l.fill(t,"current",{},smalltalk.HTMLSnippet.klass)})},messageSends:[]}),smalltalk.HTMLSnippet.klass);smalltalk.addMethod(smalltalk.method({selector:"ensureCurrent",fn:function(){var t=this;
return smalltalk.withContext(function(l){var a,e,s;a=t["@current"];if(($receiver=a)==nil||$receiver==undefined){e=smalltalk.Object.klass.fn.prototype._new.apply(_st(t),[]);_st(e)._initializeFromJQuery_(_st(document)._asJQuery());s=_st(e)._yourself();t["@current"]=s;t["@current"]}else{a}return t},function(l){l.fill(t,"ensureCurrent",{},smalltalk.HTMLSnippet.klass)})},messageSends:["ifNil:","initializeFromJQuery:","asJQuery","new","yourself"]}),smalltalk.HTMLSnippet.klass);smalltalk.addMethod(smalltalk.method({selector:"initialize",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;smalltalk.Object.klass.fn.prototype._initialize.apply(_st(t),[]);a=_st(t)._isDOMAvailable();if(smalltalk.assert(a)){_st(t)._ensureCurrent()}return t},function(l){l.fill(t,"initialize",{},smalltalk.HTMLSnippet.klass)})},messageSends:["initialize","ifTrue:","ensureCurrent","isDOMAvailable"]}),smalltalk.HTMLSnippet.klass);smalltalk.addMethod(smalltalk.method({selector:"isDOMAvailable",fn:function(){var t=this;return smalltalk.withContext(function(l){return typeof document!=="undefined";return t},function(l){l.fill(t,"isDOMAvailable",{},smalltalk.HTMLSnippet.klass)})},messageSends:[]}),smalltalk.HTMLSnippet.klass);smalltalk.addMethod(smalltalk.method({selector:"new",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._shouldNotImplement();return t},function(l){l.fill(t,"new",{},smalltalk.HTMLSnippet.klass)})},messageSends:["shouldNotImplement"]}),smalltalk.HTMLSnippet.klass);smalltalk.addClass("TagBrush",smalltalk.Object,["canvas","element"],"Canvas");smalltalk.addMethod(smalltalk.method({selector:"accesskey:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("accesskey",t);return l},function(a){a.fill(l,"accesskey:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"action:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("action",t);return l},function(a){a.fill(l,"action:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"addBrush:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;_st(l)._appendChild_(_st(t)._element());e=t;return e},function(a){a.fill(l,"addBrush:",{aTagBrush:t},smalltalk.TagBrush)})},messageSends:["appendChild:","element"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"align:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("align",t);return l},function(a){a.fill(l,"align:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"alt:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("alt",t);return l},function(a){a.fill(l,"alt:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"append:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(t)._appendToBrush_(l);return l},function(a){a.fill(l,"append:",{anObject:t},smalltalk.TagBrush)})},messageSends:["appendToBrush:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"appendBlock:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){a=_st(l["@canvas"])._root();_st(l["@canvas"])._root_(l);_st(t)._value_(l["@canvas"]);_st(l["@canvas"])._root_(a);return l},function(e){e.fill(l,"appendBlock:",{aBlock:t,root:a},smalltalk.TagBrush)})},messageSends:["root","root:","value:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"appendChild:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e=l["@element"];if(null==e.canHaveChildren||e.canHaveChildren){e.appendChild(t)}else{e.text=String(e.text)+t.innerHTML}return l},function(a){a.fill(l,"appendChild:",{anElement:t},smalltalk.TagBrush)})},messageSends:[]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"appendString:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._appendChild_(_st(l)._createTextNodeFor_(t));return l},function(a){a.fill(l,"appendString:",{aString:t},smalltalk.TagBrush)})},messageSends:["appendChild:","createTextNodeFor:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"appendToBrush:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(t)._addBrush_(l);return l},function(a){a.fill(l,"appendToBrush:",{aTagBrush:t},smalltalk.TagBrush)})},messageSends:["addBrush:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"asJQuery",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(window)._jQuery_(_st(t)._element());return a},function(l){l.fill(t,"asJQuery",{},smalltalk.TagBrush)})},messageSends:["jQuery:","element"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"at:put:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){a["@element"].setAttribute(t,l);return a},function(e){e.fill(a,"at:put:",{aString:t,aValue:l},smalltalk.TagBrush)})},messageSends:[]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"class:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@element"].className=t;return l},function(a){a.fill(l,"class:",{aString:t},smalltalk.TagBrush)})},messageSends:[]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"cols:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("cols",t);return l},function(a){a.fill(l,"cols:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"contenteditable:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("contenteditable",t);return l},function(a){a.fill(l,"contenteditable:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"contents:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;e=l;_st(e)._empty();s=_st(e)._append_(t);return l},function(a){a.fill(l,"contents:",{anObject:t},smalltalk.TagBrush)})},messageSends:["empty","append:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"contextmenu:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("contextmenu",t);return l},function(a){a.fill(l,"contextmenu:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"createElementFor:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return document.createElement(String(t));return l},function(a){a.fill(l,"createElementFor:",{aString:t},smalltalk.TagBrush)})},messageSends:[]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"createTextNodeFor:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return document.createTextNode(String(t));return l},function(a){a.fill(l,"createTextNodeFor:",{aString:t},smalltalk.TagBrush)})},messageSends:[]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"draggable:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("draggable",t);return l},function(a){a.fill(l,"draggable:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"element",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@element"];return a},function(l){l.fill(t,"element",{},smalltalk.TagBrush)})},messageSends:[]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"empty",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st(t)._asJQuery())._empty();return t},function(l){l.fill(t,"empty",{},smalltalk.TagBrush)})},messageSends:["empty","asJQuery"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"for:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("for",t);return l},function(a){a.fill(l,"for:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"height:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("height",t);return l},function(a){a.fill(l,"height:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"hidden",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._at_put_("hidden","hidden");return t},function(l){l.fill(t,"hidden",{},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"href:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("href",t);return l},function(a){a.fill(l,"href:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"id:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("id",t);return l},function(a){a.fill(l,"id:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"initializeFromJQuery:canvas:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){a["@element"]=_st(t)._get_(0);a["@canvas"]=l;return a},function(e){e.fill(a,"initializeFromJQuery:canvas:",{aJQuery:t,aCanvas:l},smalltalk.TagBrush)})},messageSends:["get:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"initializeFromString:canvas:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){a["@element"]=_st(a)._createElementFor_(t);a["@canvas"]=l;return a},function(e){e.fill(a,"initializeFromString:canvas:",{aString:t,aCanvas:l},smalltalk.TagBrush)})},messageSends:["createElementFor:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"media:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("media",t);return l},function(a){a.fill(l,"media:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"method:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("method",t);return l},function(a){a.fill(l,"method:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"name:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("name",t);return l},function(a){a.fill(l,"name:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"onBlur:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._asJQuery())._bind_do_("blur",t);return l},function(a){a.fill(l,"onBlur:",{aBlock:t},smalltalk.TagBrush)})},messageSends:["bind:do:","asJQuery"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"onChange:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._asJQuery())._bind_do_("change",t);return l},function(a){a.fill(l,"onChange:",{aBlock:t},smalltalk.TagBrush)})},messageSends:["bind:do:","asJQuery"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"onClick:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._asJQuery())._bind_do_("click",t);return l},function(a){a.fill(l,"onClick:",{aBlock:t},smalltalk.TagBrush)})},messageSends:["bind:do:","asJQuery"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"onDblClick:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._asJQuery())._bind_do_("dblclick",t);return l},function(a){a.fill(l,"onDblClick:",{aBlock:t},smalltalk.TagBrush)})},messageSends:["bind:do:","asJQuery"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"onFocus:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._asJQuery())._bind_do_("focus",t);return l},function(a){a.fill(l,"onFocus:",{aBlock:t},smalltalk.TagBrush)})},messageSends:["bind:do:","asJQuery"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"onFocusIn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._asJQuery())._bind_do_("focusin",t);return l},function(a){a.fill(l,"onFocusIn:",{aBlock:t},smalltalk.TagBrush)})},messageSends:["bind:do:","asJQuery"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"onFocusOut:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._asJQuery())._bind_do_("focusout",t);return l},function(a){a.fill(l,"onFocusOut:",{aBlock:t},smalltalk.TagBrush)})},messageSends:["bind:do:","asJQuery"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"onHover:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._asJQuery())._bind_do_("hover",t);return l},function(a){a.fill(l,"onHover:",{aBlock:t},smalltalk.TagBrush)})},messageSends:["bind:do:","asJQuery"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"onKeyDown:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._asJQuery())._bind_do_("keydown",t);return l},function(a){a.fill(l,"onKeyDown:",{aBlock:t},smalltalk.TagBrush)})},messageSends:["bind:do:","asJQuery"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"onKeyPress:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._asJQuery())._bind_do_("keypress",t);return l},function(a){a.fill(l,"onKeyPress:",{aBlock:t},smalltalk.TagBrush)})},messageSends:["bind:do:","asJQuery"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"onKeyUp:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._asJQuery())._bind_do_("keyup",t);return l},function(a){a.fill(l,"onKeyUp:",{aBlock:t},smalltalk.TagBrush)})},messageSends:["bind:do:","asJQuery"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"onMouseDown:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._asJQuery())._bind_do_("mousedown",t);return l},function(a){a.fill(l,"onMouseDown:",{aBlock:t},smalltalk.TagBrush)})},messageSends:["bind:do:","asJQuery"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"onMouseEnter:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._asJQuery())._bind_do_("mouseenter",t);return l},function(a){a.fill(l,"onMouseEnter:",{aBlock:t},smalltalk.TagBrush)})},messageSends:["bind:do:","asJQuery"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"onMouseLeave:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._asJQuery())._bind_do_("mouseleave",t);return l},function(a){a.fill(l,"onMouseLeave:",{aBlock:t},smalltalk.TagBrush)})},messageSends:["bind:do:","asJQuery"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"onMouseMove:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._asJQuery())._bind_do_("mousemove",t);return l},function(a){a.fill(l,"onMouseMove:",{aBlock:t},smalltalk.TagBrush)})},messageSends:["bind:do:","asJQuery"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"onMouseOut:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._asJQuery())._bind_do_("mouseout",t);return l},function(a){a.fill(l,"onMouseOut:",{aBlock:t},smalltalk.TagBrush)})},messageSends:["bind:do:","asJQuery"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"onMouseOver:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._asJQuery())._bind_do_("mouseover",t);return l},function(a){a.fill(l,"onMouseOver:",{aBlock:t},smalltalk.TagBrush)})},messageSends:["bind:do:","asJQuery"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"onMouseUp:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._asJQuery())._bind_do_("mouseup",t);return l},function(a){a.fill(l,"onMouseUp:",{aBlock:t},smalltalk.TagBrush)})},messageSends:["bind:do:","asJQuery"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"onSelect:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._asJQuery())._bind_do_("select",t);return l},function(a){a.fill(l,"onSelect:",{aBlock:t},smalltalk.TagBrush)})},messageSends:["bind:do:","asJQuery"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"onSubmit:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._asJQuery())._bind_do_("submit",t);return l},function(a){a.fill(l,"onSubmit:",{aBlock:t},smalltalk.TagBrush)})},messageSends:["bind:do:","asJQuery"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"onUnload:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._asJQuery())._bind_do_("unload",t);return l},function(a){a.fill(l,"onUnload:",{aBlock:t},smalltalk.TagBrush)})},messageSends:["bind:do:","asJQuery"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"placeholder:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("placeholder",t);return l},function(a){a.fill(l,"placeholder:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"rel:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("rel",t);return l},function(a){a.fill(l,"rel:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"removeAt:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@element"].removeAttribute(t);return l},function(a){a.fill(l,"removeAt:",{aString:t},smalltalk.TagBrush)})},messageSends:[]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"rows:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("rows",t);return l},function(a){a.fill(l,"rows:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"src:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("src",t);return l},function(a){a.fill(l,"src:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"style:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("style",t);return l},function(a){a.fill(l,"style:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"tabindex:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("tabindex",t);return l},function(a){a.fill(l,"tabindex:",{aNumber:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"target:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("target",t);return l},function(a){a.fill(l,"target:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"title:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("title",t);return l},function(a){a.fill(l,"title:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"type:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("type",t);return l},function(a){a.fill(l,"type:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"valign:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("valign",t);return l},function(a){a.fill(l,"valign:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"value:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("value",t);return l},function(a){a.fill(l,"value:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"width:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_("width",t);return l},function(a){a.fill(l,"width:",{aString:t},smalltalk.TagBrush)})},messageSends:["at:put:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"with:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._append_(t);return l},function(a){a.fill(l,"with:",{anObject:t},smalltalk.TagBrush)})},messageSends:["append:"]}),smalltalk.TagBrush);smalltalk.addMethod(smalltalk.method({selector:"fromJQuery:canvas:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s,n,o;s=_st(a)._new();_st(s)._initializeFromJQuery_canvas_(t,l);n=_st(s)._yourself();o=n;return o},function(e){e.fill(a,"fromJQuery:canvas:",{aJQuery:t,aCanvas:l},smalltalk.TagBrush.klass)})},messageSends:["initializeFromJQuery:canvas:","new","yourself"]}),smalltalk.TagBrush.klass);smalltalk.addMethod(smalltalk.method({selector:"fromString:canvas:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s,n,o;s=_st(a)._new();_st(s)._initializeFromString_canvas_(t,l);n=_st(s)._yourself();o=n;return o},function(e){e.fill(a,"fromString:canvas:",{aString:t,aCanvas:l},smalltalk.TagBrush.klass)})},messageSends:["initializeFromString:canvas:","new","yourself"]}),smalltalk.TagBrush.klass);smalltalk.addClass("StyleTag",smalltalk.TagBrush,["canvas","element"],"Canvas");smalltalk.addMethod(smalltalk.method({selector:"with:",fn:function(t){var l=this;function a(){return smalltalk.HTMLCanvas||(typeof HTMLCanvas=="undefined"?nil:HTMLCanvas)}return smalltalk.withContext(function(e){var s;s=_st(a())._isMSIE();if(smalltalk.assert(s)){_st(_st(_st(l)._element())._styleSheet())._cssText_(t)}else{smalltalk.TagBrush.fn.prototype._with_.apply(_st(l),[t])}return l},function(a){a.fill(l,"with:",{aString:t},smalltalk.StyleTag)})},messageSends:["ifTrue:ifFalse:","cssText:","styleSheet","element","with:","isMSIE"]}),smalltalk.StyleTag);smalltalk.addMethod(smalltalk.method({selector:"canvas:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=_st(l)._new();_st(e)._initializeFromString_canvas_("style",t);s=_st(e)._yourself();n=s;return n},function(a){a.fill(l,"canvas:",{aCanvas:t},smalltalk.StyleTag.klass)})},messageSends:["initializeFromString:canvas:","new","yourself"]}),smalltalk.StyleTag.klass);smalltalk.addClass("Widget",smalltalk.Object,[],"Canvas");smalltalk.addMethod(smalltalk.method({selector:"appendToBrush:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._appendToJQuery_(_st(t)._asJQuery());return l},function(a){a.fill(l,"appendToBrush:",{aTagBrush:t},smalltalk.Widget)})},messageSends:["appendToJQuery:","asJQuery"]}),smalltalk.Widget);smalltalk.addMethod(smalltalk.method({selector:"appendToJQuery:",fn:function(t){var l=this;function a(){return smalltalk.HTMLCanvas||(typeof HTMLCanvas=="undefined"?nil:HTMLCanvas)}return smalltalk.withContext(function(e){_st(l)._renderOn_(_st(a())._onJQuery_(t));return l},function(a){a.fill(l,"appendToJQuery:",{aJQuery:t},smalltalk.Widget)})},messageSends:["renderOn:","onJQuery:"]}),smalltalk.Widget);smalltalk.addMethod(smalltalk.method({selector:"renderOn:",fn:function(t){var l=this;return smalltalk.withContext(function(t){return l},function(a){a.fill(l,"renderOn:",{html:t},smalltalk.Widget)})},messageSends:[]}),smalltalk.Widget);smalltalk.addMethod(smalltalk.method({selector:"appendToBrush:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(t)._append_(_st(l)._asString());return l},function(a){a.fill(l,"appendToBrush:",{aTagBrush:t},smalltalk.Object)})},messageSends:["append:","asString"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"appendToJQuery:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(t)._append_(_st(l)._asString());return l},function(a){a.fill(l,"appendToJQuery:",{aJQuery:t},smalltalk.Object)})},messageSends:["append:","asString"]}),smalltalk.Object);smalltalk.addMethod(smalltalk.method({selector:"appendToBrush:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(t)._appendBlock_(l);return l},function(a){a.fill(l,"appendToBrush:",{aTagBrush:t},smalltalk.BlockClosure)})},messageSends:["appendBlock:"]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"appendToJQuery:",fn:function(t){var l=this;function a(){return smalltalk.HTMLCanvas||(typeof HTMLCanvas=="undefined"?nil:HTMLCanvas)}return smalltalk.withContext(function(e){_st(l)._value_(_st(a())._onJQuery_(t));return l},function(a){a.fill(l,"appendToJQuery:",{aJQuery:t},smalltalk.BlockClosure)})},messageSends:["value:","onJQuery:"]}),smalltalk.BlockClosure);smalltalk.addMethod(smalltalk.method({selector:"asSnippet",fn:function(){var t=this;function l(){return smalltalk.HTMLSnippet||(typeof HTMLSnippet=="undefined"?nil:HTMLSnippet)}return smalltalk.withContext(function(a){var e;e=_st(_st(l())._current())._snippetAt_(_st(t)._asString());return e},function(l){l.fill(t,"asSnippet",{},smalltalk.CharacterArray)})},messageSends:["snippetAt:","asString","current"]}),smalltalk.CharacterArray);smalltalk.addMethod(smalltalk.method({selector:"appendToBrush:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(t)._appendString_(l);return l},function(a){a.fill(l,"appendToBrush:",{aTagBrush:t},smalltalk.String)})},messageSends:["appendString:"]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"appendToJQuery:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(t)._append_(l);return l},function(a){a.fill(l,"appendToJQuery:",{aJQuery:t},smalltalk.String)})},messageSends:["append:"]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"asJQuery",fn:function(){var t=this;return smalltalk.withContext(function(l){return jQuery(String(t));return t},function(l){l.fill(t,"asJQuery",{},smalltalk.String)})},messageSends:[]}),smalltalk.String);smalltalk.addMethod(smalltalk.method({selector:"asJQuery",fn:function(){var t=this;return smalltalk.withContext(function(l){return jQuery(t["@jsObject"]);return t},function(l){l.fill(t,"asJQuery",{},smalltalk.JSObjectProxy)})},messageSends:[]}),smalltalk.JSObjectProxy);smalltalk.addPackage("Mapless");smalltalk.addClass("MaplessModel",smalltalk.Object,["data"],"Mapless");smalltalk.addMethod(smalltalk.method({selector:"=",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(t)._respondsTo_(smalltalk.symbolFor("id")))._and_(function(){return smalltalk.withContext(function(a){return _st(_st(l)._id()).__eq(_st(t)._id())},function(t){t.fillBlock({},a)})});return e},function(a){a.fill(l,"=",{anObject:t},smalltalk.MaplessModel)})},messageSends:["and:","=","id","respondsTo:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"asJSONString",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;_st(t)._onAboutToJSON();a=_st(smalltalk.JSON||JSON)._stringify_(t["@data"]);return a},function(l){l.fill(t,"asJSONString",{},smalltalk.MaplessModel)})},messageSends:["onAboutToJSON","stringify:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"at:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l["@data"])._at_(t);return e},function(a){a.fill(l,"at:",{aKey:t},smalltalk.MaplessModel)})},messageSends:["at:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"at:ifAbsent:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s;s=_st(a["@data"])._at_ifAbsent_(t,l);return s},function(e){e.fill(a,"at:ifAbsent:",{aKey:t,aBlock:l},smalltalk.MaplessModel)})},messageSends:["at:ifAbsent:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"at:put:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s;_st(a["@data"])._at_put_(t,l);s=l;return s},function(e){e.fill(a,"at:put:",{aKey:t,anObject:l},smalltalk.MaplessModel)})},messageSends:["at:put:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"create",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._createDo_(function(){return smalltalk.withContext(function(t){return nil},function(t){t.fillBlock({},l)})});return a},function(l){l.fill(t,"create",{},smalltalk.MaplessModel)})},messageSends:["createDo:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"createDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;_st(jQuery)._ajax_(smalltalk.HashedCollection._fromPairs_([_st("url").__minus_gt(_st(l)._path()),_st("type").__minus_gt("POST"),_st("cache").__minus_gt(false),_st("data").__minus_gt(_st(l)._asJSONString()),_st("success").__minus_gt(function(e){return smalltalk.withContext(function(a){return _st(l)._onAfterCreate_done_(e,t)},function(t){t.fillBlock({x:e},a)})}),_st("fai").__minus_gt(function(t){return smalltalk.withContext(function(a){return _st(smalltalk.ModelCreateError||ModelCreateError)._signal_(_st(_st(_st("Could not create ").__comma(_st(_st(l)._class())._name())).__comma(":  ")).__comma(_st(t)._responseText()))},function(l){l.fillBlock({x:t},a)})}),_st("error").__minus_gt(function(t){return smalltalk.withContext(function(a){return _st(smalltalk.ModelCreateError||ModelCreateError)._signal_(_st(_st(_st("Could not create ").__comma(_st(_st(l)._class())._name())).__comma(":  ")).__comma(_st(t)._responseText()))},function(l){l.fillBlock({x:t},a)})})]));e=l;return e},function(a){a.fill(l,"createDo:",{aBlock:t},smalltalk.MaplessModel)})},messageSends:["ajax:","->","path","asJSONString","onAfterCreate:done:","signal:",",","responseText","name","class"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"createdOn",fn:function(){var t=this;var l,a,e;return smalltalk.withContext(function(s){var n,o,r,i;l=smalltalk.symbolFor("createdOn");a=smalltalk.Date||Date;e=_st(t)._at_(_st(l)._asString());n=e;if(($receiver=n)==nil||$receiver==undefined){return nil}else{n}o=_st(e)._isKindOf_(a);if(smalltalk.assert(o)){r=e;return r}i=_st(t)._at_put_(_st(l)._asString(),_st(t)._dateAndTimeAt_(l));return i},function(s){s.fill(t,"createdOn",{selector:l,expects:a,object:e},smalltalk.MaplessModel)})},messageSends:["at:","asString","ifNil:","ifTrue:","isKindOf:","at:put:","dateAndTimeAt:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"createdOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._at_put_(smalltalk.symbolFor("createdOn"),t);return l},function(a){a.fill(l,"createdOn:",{aDate:t},smalltalk.MaplessModel)})},messageSends:["at:put:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"data",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@data"];return a},function(l){l.fill(t,"data",{},smalltalk.MaplessModel)})},messageSends:[]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"dateAndTimeAt:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(smalltalk.Date||Date)._fromString_(_st(l)._at_(t));return e},function(a){a.fill(l,"dateAndTimeAt:",{aSelector:t},smalltalk.MaplessModel)
})},messageSends:["fromString:","at:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"delete",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._deleteDo_(function(){return smalltalk.withContext(function(t){return nil},function(t){t.fillBlock({},l)})});return t},function(l){l.fill(t,"delete",{},smalltalk.MaplessModel)})},messageSends:["deleteDo:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"deleteDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(jQuery)._ajax_(smalltalk.HashedCollection._fromPairs_([_st("url").__minus_gt(_st(_st(_st(l)._path()).__comma("?id=")).__comma(_st(_st(l)._id())._asString())),_st("type").__minus_gt("DELETE"),_st("cache").__minus_gt(false),_st("data").__minus_gt(_st(l)._asJSONString()),_st("success").__minus_gt(function(e){return smalltalk.withContext(function(a){return _st(l)._onAfterDelete_done_(e,t)},function(t){t.fillBlock({x:e},a)})}),_st("fail").__minus_gt(function(t){return smalltalk.withContext(function(a){return _st(l)._onDeleteFail_(t)},function(l){l.fillBlock({x:t},a)})}),_st("error").__minus_gt(function(t){return smalltalk.withContext(function(a){return _st(l)._onDeleteFail_(t)},function(l){l.fillBlock({x:t},a)})})]));return l},function(a){a.fill(l,"deleteDo:",{aBlock:t},smalltalk.MaplessModel)})},messageSends:["ajax:","->",",","asString","id","path","asJSONString","onAfterDelete:done:","onDeleteFail:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"doesNotUnderstand:",fn:function(t){var l=this;var a,e,s,n,o,r,i;return smalltalk.withContext(function(i){var m,u,c,d,f,k,_,h,g,v,C,S;a=_st(_st(t)._selector())._asSymbol();m=_st(l)._isUnary_(a);if(smalltalk.assert(m)){u=_st(l["@data"])._isKindOf_(smalltalk.HashedCollection||HashedCollection);if(smalltalk.assert(u)){e=_st(l["@data"])._at_ifAbsent_(_st(a)._asString(),function(){return smalltalk.withContext(function(t){return nil},function(t){t.fillBlock({},i)})});e}else{e=_st(l["@data"])._at_(_st(a)._asString());e}c=e;if(($receiver=c)==nil||$receiver==undefined){return nil}else{c}n=_st(l)._isUndefinedPart_(e);n;d=n;if(smalltalk.assert(d)){return nil}o=_st(l)._isObjectPart_(e);o;f=o;if(smalltalk.assert(f)){r=_st(l)._newJSObject();r;r=_st(smalltalk.JSObjectProxy||JSObjectProxy)._on_(r);r;k=_st(_st(r)._keys_(e))._isEmpty();if(smalltalk.assert(k)){_st(l["@data"])._at_put_(_st(a)._asString(),nil);return nil}}s=_st(l)._get_from_("modelClass",e);s;_=s;if(($receiver=_)==nil||$receiver==undefined){h=e;return h}else{_}s=_st(_st(smalltalk.Smalltalk||Smalltalk)._current())._at_(s);s;g=s;if(($receiver=g)==nil||$receiver==undefined){_st(e)._inspect();_st(l)._error_(_st(_st("this should have a ").__comma(s)).__comma(" modelClass no?"))}else{g}s=_st(s)._fromReified_(e);s;_st(l["@data"])._at_put_(_st(a)._asString(),s);v=s;return v}C=_st(_st(l)._isKeyword_(a))._and_(function(){return smalltalk.withContext(function(t){return _st(_st(_st(a)._asString())._occurrencesOf_(":")).__eq(1)},function(t){t.fillBlock({},i)})});if(smalltalk.assert(C)){a=_st(a)._allButLast();a;S=_st(l["@data"])._at_put_(_st(a)._asString(),_st(_st(t)._arguments())._first())}else{S=smalltalk.Object.fn.prototype._doesNotUnderstand_.apply(_st(l),[t])}return S},function(m){m.fill(l,"doesNotUnderstand:",{aMessage:t,key:a,part:e,subModel:s,isUndefined:n,isObject:o,obj:r,keys:i},smalltalk.MaplessModel)})},messageSends:["asSymbol","selector","ifTrue:","ifTrue:ifFalse:","at:ifAbsent:","asString","at:","isKindOf:","ifNil:","isUndefinedPart:","isObjectPart:","newJSObject","on:","at:put:","isEmpty","keys:","get:from:","current","inspect","error:",",","fromReified:","isUnary:","allButLast","first","arguments","doesNotUnderstand:","and:","=","occurrencesOf:","isKeyword:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"get:from:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){return l[t];return a},function(e){e.fill(a,"get:from:",{anAttribute:t,aPart:l},smalltalk.MaplessModel)})},messageSends:[]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"id",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t["@data"])._at_(smalltalk.symbolFor("id"));return a},function(l){l.fill(t,"id",{},smalltalk.MaplessModel)})},messageSends:["at:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"id:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l["@data"])._at_put_(smalltalk.symbolFor("id"),t);return l},function(a){a.fill(l,"id:",{aString:t},smalltalk.MaplessModel)})},messageSends:["at:put:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"initialize",fn:function(){var t=this;function l(){return smalltalk.HashedCollection||(typeof HashedCollection=="undefined"?nil:HashedCollection)}return smalltalk.withContext(function(a){smalltalk.Object.fn.prototype._initialize.apply(_st(t),[]);t["@data"]=_st(l())._new();_st(t)._modelClass_(_st(_st(t)._class())._name());_st(t)._initializeInstanceVersion();_st(t)._id_(_st(_st(t)._class())._newUUID());return t},function(l){l.fill(t,"initialize",{},smalltalk.MaplessModel)})},messageSends:["initialize","new","modelClass:","name","class","initializeInstanceVersion","id:","newUUID"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"initializeCreatedOn",fn:function(){var t=this;function l(){return smalltalk.Date||(typeof Date=="undefined"?nil:Date)}return smalltalk.withContext(function(a){_st(t)._createdOn_(_st(l())._now());return t},function(l){l.fill(t,"initializeCreatedOn",{},smalltalk.MaplessModel)})},messageSends:["createdOn:","now"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"initializeInstanceVersion",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._v_(1);return t},function(l){l.fill(t,"initializeInstanceVersion",{},smalltalk.MaplessModel)})},messageSends:["v:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"isKeyword:",fn:function(t){var l=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._asString())._includes_(":");return a},function(a){a.fill(l,"isKeyword:",{aSelector:t},smalltalk.MaplessModel)})},messageSends:["includes:","asString"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"isObjectPart:",fn:function(t){var l=this;return smalltalk.withContext(function(t){return typeof part=="object";return l},function(a){a.fill(l,"isObjectPart:",{aPart:t},smalltalk.MaplessModel)})},messageSends:[]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"isUnary:",fn:function(t){var l=this;return smalltalk.withContext(function(l){var a;a=_st(_st(_st(t)._asString())._includes_(":"))._not();return a},function(a){a.fill(l,"isUnary:",{aSelector:t},smalltalk.MaplessModel)})},messageSends:["not","includes:","asString"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"isUndefinedPart:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return t=="undefined";return l},function(a){a.fill(l,"isUndefinedPart:",{aPart:t},smalltalk.MaplessModel)})},messageSends:[]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"localDelete",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st(t)._class())._localDelete_(t);return t},function(l){l.fill(t,"localDelete",{},smalltalk.MaplessModel)})},messageSends:["localDelete:","class"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"localSave",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st(t)._class())._localSave_(t);return t},function(l){l.fill(t,"localSave",{},smalltalk.MaplessModel)})},messageSends:["localSave:","class"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"newJSObject",fn:function(){var t=this;return smalltalk.withContext(function(l){return Object;return t},function(l){l.fill(t,"newJSObject",{},smalltalk.MaplessModel)})},messageSends:[]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"onAboutToJSON",fn:function(){var t=this;var l,a;return smalltalk.withContext(function(e){var s;l=_st(t)._newJSObject();l=_st(smalltalk.JSObjectProxy||JSObjectProxy)._on_(l);a=_st(l)._keys_(t["@data"]);_st(a)._do_(function(l){var a;return smalltalk.withContext(function(e){a=_st(t["@data"])._at_(l);a;a=_st(t)._perform_(_st(l)._asSymbol());a;s=_st(a)._isKindOf_(smalltalk.MaplessModel||MaplessModel);if(smalltalk.assert(s)){_st(a)._onAboutToJSON();a=_st(a)._data();a}return _st(t["@data"])._at_put_(l,a)},function(t){t.fillBlock({key:l,value:a},e)})});return t},function(e){e.fill(t,"onAboutToJSON",{obj:l,keys:a},smalltalk.MaplessModel)})},messageSends:["newJSObject","on:","keys:","do:","at:","perform:","asSymbol","ifTrue:","onAboutToJSON","data","isKindOf:","at:put:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"onAfterCreate:done:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){a["@data"]=_st(_st(a)._class())._reify_(t);_st(a)._announce_(_st(smalltalk.ModelCreated||ModelCreated)._for_(a));_st(l)._value_(a);return a},function(e){e.fill(a,"onAfterCreate:done:",{x:t,aBlock:l},smalltalk.MaplessModel)})},messageSends:["reify:","class","announce:","for:","value:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"onAfterDelete:done:",fn:function(t,l){var a=this;return smalltalk.withContext(function(t){_st(a)._announce_(_st(smalltalk.ModelDeleted||ModelDeleted)._for_(a));_st(l)._value_(a);return a},function(e){e.fill(a,"onAfterDelete:done:",{x:t,aBlock:l},smalltalk.MaplessModel)})},messageSends:["announce:","for:","value:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"onAfterRefresh:done:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){_st(a)._syncWith_(_st(_st(a)._class())._reify_(t));_st(a)._announce_(_st(smalltalk.ModelRefreshed||ModelRefreshed)._for_(a));_st(l)._value_(a);return a},function(e){e.fill(a,"onAfterRefresh:done:",{x:t,aBlock:l},smalltalk.MaplessModel)})},messageSends:["syncWith:","reify:","class","announce:","for:","value:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"onAfterSave:done:",fn:function(t,l){var a=this;return smalltalk.withContext(function(t){_st(a)._announce_(_st(smalltalk.ModelSaved||ModelSaved)._for_(a));_st(l)._value_(a);return a},function(e){e.fill(a,"onAfterSave:done:",{x:t,aBlock:l},smalltalk.MaplessModel)})},messageSends:["announce:","for:","value:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"onDeleteFail:",fn:function(t){var l=this;return smalltalk.withContext(function(t){_st(smalltalk.ModelUpdateError||ModelUpdateError)._signal_(_st("Could not delete ").__comma(_st(_st(l)._class())._name()));return l},function(a){a.fill(l,"onDeleteFail:",{x:t},smalltalk.MaplessModel)})},messageSends:["signal:",",","name","class"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"onRefreshFail:",fn:function(t){var l=this;return smalltalk.withContext(function(t){_st(smalltalk.ModelRefreshError||ModelRefreshError)._signal_(_st("Could not refresh ").__comma(_st(_st(l)._class())._name()));return l},function(a){a.fill(l,"onRefreshFail:",{x:t},smalltalk.MaplessModel)})},messageSends:["signal:",",","name","class"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"onSaveFail:",fn:function(t){var l=this;return smalltalk.withContext(function(t){_st(smalltalk.ModelUpdateError||ModelUpdateError)._signal_(_st("Could not save ").__comma(_st(_st(l)._class())._name()));return l},function(a){a.fill(l,"onSaveFail:",{x:t},smalltalk.MaplessModel)})},messageSends:["signal:",",","name","class"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"path",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._class())._path();return a},function(l){l.fill(t,"path",{},smalltalk.MaplessModel)})},messageSends:["path","class"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"refresh",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._refreshDo_(function(){return smalltalk.withContext(function(t){return nil},function(t){t.fillBlock({},l)})});return t},function(l){l.fill(t,"refresh",{},smalltalk.MaplessModel)})},messageSends:["refreshDo:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"refreshDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(jQuery)._ajax_(smalltalk.HashedCollection._fromPairs_([_st("url").__minus_gt(_st(_st(_st(l)._path()).__comma("?id=")).__comma(_st(_st(l)._id())._asString())),_st("type").__minus_gt("GET"),_st("cache").__minus_gt(false),_st("success").__minus_gt(function(e){return smalltalk.withContext(function(a){return _st(l)._onAfterRefresh_done_(e,t)},function(t){t.fillBlock({x:e},a)})}),_st("fail").__minus_gt(function(t){return smalltalk.withContext(function(a){return _st(l)._onRefeshFail_(t)},function(l){l.fillBlock({x:t},a)})}),_st("error").__minus_gt(function(t){return smalltalk.withContext(function(a){return _st(l)._onRefreshFail_(t)},function(l){l.fillBlock({x:t},a)})})]));return l},function(a){a.fill(l,"refreshDo:",{aBlock:t},smalltalk.MaplessModel)})},messageSends:["ajax:","->",",","asString","id","path","onAfterRefresh:done:","onRefeshFail:","onRefreshFail:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"remoteSaveDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(jQuery)._ajax_(smalltalk.HashedCollection._fromPairs_([_st("url").__minus_gt(_st(l)._path()),_st("type").__minus_gt("PUT"),_st("cache").__minus_gt(false),_st("data").__minus_gt(_st(l)._asJSONString()),_st("success").__minus_gt(function(e){return smalltalk.withContext(function(a){return _st(l)._onAfterSave_done_(e,t)},function(t){t.fillBlock({x:e},a)})}),_st("fail").__minus_gt(function(t){return smalltalk.withContext(function(a){return _st(l)._onSaveFail_(t)},function(l){l.fillBlock({x:t},a)})}),_st("error").__minus_gt(function(t){return smalltalk.withContext(function(a){return _st(l)._onSaveFail_(t)},function(l){l.fillBlock({x:t},a)})})]));return l},function(a){a.fill(l,"remoteSaveDo:",{aBlock:t},smalltalk.MaplessModel)})},messageSends:["ajax:","->","path","asJSONString","onAfterSave:done:","onSaveFail:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"save",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._saveDo_(function(){return smalltalk.withContext(function(t){return nil},function(t){t.fillBlock({},l)})});return a},function(l){l.fill(t,"save",{},smalltalk.MaplessModel)})},messageSends:["saveDo:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"saveDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._localSave();_st(l)._remoteSaveDo_(t);return l},function(a){a.fill(l,"saveDo:",{aBlock:t},smalltalk.MaplessModel)})},messageSends:["localSave","remoteSaveDo:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"subModelAt:",fn:function(t){var l=this;var a,e;return smalltalk.withContext(function(s){var n,o,r,i,m;a=_st(l["@data"])._at_(t);n=a;if(($receiver=n)==nil||$receiver==undefined){return nil}else{n}e=_st(a)._at_("modelClass");o=e;if(($receiver=o)==nil||$receiver==undefined){return nil}else{o}e=_st(_st(smalltalk.Smalltalk||Smalltalk)._current())._at_(e);r=e;if(($receiver=r)==nil||$receiver==undefined){i=_st(smalltalk.ModelMetadataError||ModelMetadataError)._signal_(_st(_st("Cannot find ").__comma(_st(t)._asString())).__comma("'s class for this metadata"));return i}else{r}m=_st(e)._fromReified_(a);return m},function(s){s.fill(l,"subModelAt:",{aSelector:t,subModelData:a,modelClass:e},smalltalk.MaplessModel)})},messageSends:["at:","ifNil:","current","signal:",",","asString","fromReified:"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"syncFrom:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l)._syncWith_(_st(_st(l)._class())._reify_(t));return e},function(a){a.fill(l,"syncFrom:",{someJson:t},smalltalk.MaplessModel)})},messageSends:["syncWith:","reify:","class"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"syncWith:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;e=t;if(($receiver=e)==nil||$receiver==undefined){return nil}else{e}s=_st(_st(_st(t)._at_("modelClass"))._isNil())._or_(function(){return smalltalk.withContext(function(a){return _st(_st(t)._at_("modelClass")).__tild_eq(_st(_st(l)._class())._name())},function(t){t.fillBlock({},a)})});if(smalltalk.assert(s)){_st(l)._error_("this JSON does not fit here")}l["@data"]=t;return l},function(a){a.fill(l,"syncWith:",{aReifiedJSON:t},smalltalk.MaplessModel)})},messageSends:["ifNil:","ifTrue:","error:","or:","~=","name","class","at:","isNil"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"url",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(_st(t)._path()).__comma("/")).__comma(_st(_st(t)._id())._asString());return a},function(l){l.fill(t,"url",{},smalltalk.MaplessModel)})},messageSends:[",","asString","id","path"]}),smalltalk.MaplessModel);smalltalk.addMethod(smalltalk.method({selector:"atId:do:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s;s=_st(a)._read_do_(t,l);return s},function(e){e.fill(a,"atId:do:",{anId:t,onDone:l},smalltalk.MaplessModel.klass)})},messageSends:["read:do:"]}),smalltalk.MaplessModel.klass);smalltalk.addMethod(smalltalk.method({selector:"create",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._createDo_(function(){return smalltalk.withContext(function(t){return nil},function(t){t.fillBlock({},l)})});return a},function(l){l.fill(t,"create",{},smalltalk.MaplessModel.klass)})},messageSends:["createDo:"]}),smalltalk.MaplessModel.klass);smalltalk.addMethod(smalltalk.method({selector:"createDo:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s;a=_st(_st(l)._basicNew())._initialize();_st(jQuery)._ajax_(smalltalk.HashedCollection._fromPairs_([_st("url").__minus_gt(_st(l)._path()),_st("type").__minus_gt("POST"),_st("cache").__minus_gt(false),_st("data").__minus_gt(_st(a)._asJSONString()),_st("success").__minus_gt(function(l){return smalltalk.withContext(function(e){return _st(a)._onAfterCreate_done_(l,t)},function(t){t.fillBlock({x:l},e)})}),_st("fail").__minus_gt(function(t){return smalltalk.withContext(function(a){return _st(smalltalk.ModelCreateError||ModelCreateError)._signal_(_st(_st(_st("Could not create ").__comma(_st(l)._name())).__comma(":  ")).__comma(_st(t)._responseText()))},function(l){l.fillBlock({x:t},e)})}),_st("error").__minus_gt(function(t){return smalltalk.withContext(function(a){return _st(smalltalk.ModelCreateError||ModelCreateError)._signal_(_st(_st(_st("Could not create ").__comma(_st(l)._name())).__comma(":  ")).__comma(_st(t)._responseText()))},function(l){l.fillBlock({x:t},e)})})]));s=a;return s},function(e){e.fill(l,"createDo:",{aBlock:t,newInstance:a},smalltalk.MaplessModel.klass)})},messageSends:["initialize","basicNew","ajax:","->","path","asJSONString","onAfterCreate:done:","signal:",",","responseText","name"]}),smalltalk.MaplessModel.klass);smalltalk.addMethod(smalltalk.method({selector:"createdOnFrom:",fn:function(t){var l=this;return smalltalk.withContext(function(l){var a;a=_st(smalltalk.Date||Date)._fromString_(t);return a},function(a){a.fill(l,"createdOnFrom:",{aReifiedJSON:t},smalltalk.MaplessModel.klass)})},messageSends:["fromString:"]}),smalltalk.MaplessModel.klass);smalltalk.addMethod(smalltalk.method({selector:"fromJson:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._new())._syncFrom_(t);return e},function(a){a.fill(l,"fromJson:",{someJson:t},smalltalk.MaplessModel.klass)})},messageSends:["syncFrom:","new"]}),smalltalk.MaplessModel.klass);smalltalk.addMethod(smalltalk.method({selector:"fromJsonString:",fn:function(t){var l=this;var a,e;function s(){return smalltalk.Smalltalk||(typeof Smalltalk=="undefined"?nil:Smalltalk)}return smalltalk.withContext(function(n){var o,r;a=_st(l)._reify_(t);e=_st(a)._at_ifAbsent_("modelClass",function(){return smalltalk.withContext(function(t){return nil},function(t){t.fillBlock({},n)})});o=_st(e)._isNil();if(smalltalk.assert(o)){r=nil}else{r=_st(_st(_st(_st(s())._current())._at_(e))._new())._syncFrom_(t)}return r},function(s){s.fill(l,"fromJsonString:",{someJsonString:t,json:a,modelClass:e},smalltalk.MaplessModel.klass)})},messageSends:["reify:","at:ifAbsent:","ifTrue:ifFalse:","syncFrom:","new","at:","current","isNil"]}),smalltalk.MaplessModel.klass);smalltalk.addMethod(smalltalk.method({selector:"fromReified:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._new())._syncWith_(t);return e},function(a){a.fill(l,"fromReified:",{aReifiedJSON:t},smalltalk.MaplessModel.klass)})},messageSends:["syncWith:","new"]}),smalltalk.MaplessModel.klass);smalltalk.addMethod(smalltalk.method({selector:"localDelete:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(window)._localStorage())._removeItem_(_st(t)._id());return l},function(a){a.fill(l,"localDelete:",{aMaplessModel:t},smalltalk.MaplessModel.klass)})},messageSends:["removeItem:","id","localStorage"]}),smalltalk.MaplessModel.klass);smalltalk.addMethod(smalltalk.method({selector:"localLoadAt:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(l)._fromJsonString_(_st(_st(window)._localStorage())._getItem_(t));return e},function(a){a.fill(l,"localLoadAt:",{anId:t},smalltalk.MaplessModel.klass)})},messageSends:["fromJsonString:","getItem:","localStorage"]}),smalltalk.MaplessModel.klass);smalltalk.addMethod(smalltalk.method({selector:"localSave:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(window)._localStorage())._setItem_value_(_st(t)._id(),_st(t)._asJSONString());return l},function(a){a.fill(l,"localSave:",{aMaplessModel:t},smalltalk.MaplessModel.klass)})},messageSends:["setItem:value:","id","asJSONString","localStorage"]}),smalltalk.MaplessModel.klass);smalltalk.addMethod(smalltalk.method({selector:"manyFromJson:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(smalltalk.JSON||JSON)._parse_(t))._collect_(function(t){return smalltalk.withContext(function(a){return _st(l)._fromReified_(t)},function(l){l.fillBlock({each:t},a)})});return e},function(a){a.fill(l,"manyFromJson:",{someJson:t},smalltalk.MaplessModel.klass)})},messageSends:["collect:","fromReified:","parse:"]}),smalltalk.MaplessModel.klass);smalltalk.addMethod(smalltalk.method({selector:"newUUID",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._uuidGenerator())._value();return a},function(l){l.fill(t,"newUUID",{},smalltalk.MaplessModel.klass)})},messageSends:["value","uuidGenerator"]}),smalltalk.MaplessModel.klass);smalltalk.addMethod(smalltalk.method({selector:"onAfterRead:done:",fn:function(t,l){var a=this;var e;return smalltalk.withContext(function(s){var n;e=_st(a)._fromJson_(t);_st(l)._value_(e);n=e;return n},function(s){s.fill(a,"onAfterRead:done:",{someJson:t,aBlock:l,reified:e},smalltalk.MaplessModel.klass)})},messageSends:["fromJson:","value:"]}),smalltalk.MaplessModel.klass);smalltalk.addMethod(smalltalk.method({selector:"read:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._read_do_(t,function(){return smalltalk.withContext(function(t){return nil},function(t){t.fillBlock({},a)})});return l},function(a){a.fill(l,"read:",{anId:t},smalltalk.MaplessModel.klass)})},messageSends:["read:do:"]}),smalltalk.MaplessModel.klass);smalltalk.addMethod(smalltalk.method({selector:"read:do:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){_st(jQuery)._ajax_(smalltalk.HashedCollection._fromPairs_([_st("url").__minus_gt(_st(_st(_st(a)._path()).__comma("?id=")).__comma(t)),_st("type").__minus_gt("GET"),_st("cache").__minus_gt(false),_st("success").__minus_gt(function(t){return smalltalk.withContext(function(e){return _st(a)._onAfterRead_done_(t,l)},function(l){l.fillBlock({x:t},e)})}),_st("fail").__minus_gt(function(t){return smalltalk.withContext(function(l){return _st(smalltalk.ModelReadError||ModelReadError)._signal_(_st(_st(_st("Could not read ").__comma(_st(a)._name())).__comma(":  ")).__comma(_st(t)._responseText()))},function(l){l.fillBlock({x:t},e)})}),_st("error").__minus_gt(function(t){return smalltalk.withContext(function(l){return _st(smalltalk.ModelReadError||ModelReadError)._signal_(_st(_st(_st("Could not read ").__comma(_st(a)._name())).__comma(":  ")).__comma(_st(t)._responseText()))},function(l){l.fillBlock({x:t},e)})})]));return a},function(e){e.fill(a,"read:do:",{anId:t,aBlock:l},smalltalk.MaplessModel.klass)})},messageSends:["ajax:","->",",","path","onAfterRead:done:","signal:","responseText","name"]}),smalltalk.MaplessModel.klass);smalltalk.addMethod(smalltalk.method({selector:"reify:",fn:function(t){var l=this;return smalltalk.withContext(function(l){var a;a=_st(smalltalk.JSON||JSON)._parse_(t);return a},function(a){a.fill(l,"reify:",{someJson:t},smalltalk.MaplessModel.klass)})},messageSends:["parse:"]}),smalltalk.MaplessModel.klass);smalltalk.addMethod(smalltalk.method({selector:"uuidGenerator",fn:function(){var t=this;return smalltalk.withContext(function(l){return function a(){function t(t){var l=(Math.random().toString(16)+"000000000").substr(2,8);return t?"-"+l.substr(0,4)+"-"+l.substr(4,4):l}return t()+t(true)+t(true)+t()};return t},function(l){l.fill(t,"uuidGenerator",{},smalltalk.MaplessModel.klass)})},messageSends:[]}),smalltalk.MaplessModel.klass);smalltalk.addPackage("SocialAPI");smalltalk.addClass("AbstractSocialAPI",smalltalk.Object,["appId"],"SocialAPI");smalltalk.addMethod(smalltalk.method({selector:"appId",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@appId"];return a},function(l){l.fill(t,"appId",{},smalltalk.AbstractSocialAPI)})},messageSends:[]}),smalltalk.AbstractSocialAPI);smalltalk.addMethod(smalltalk.method({selector:"appId:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@appId"]=t;return l},function(a){a.fill(l,"appId:",{aString:t},smalltalk.AbstractSocialAPI)})},messageSends:[]}),smalltalk.AbstractSocialAPI);smalltalk.addMethod(smalltalk.method({selector:"hasLoginDo:",fn:function(t){var l=this;return smalltalk.withContext(function(t){var a;a=_st(l)._subclassResponsibility();return a},function(a){a.fill(l,"hasLoginDo:",{aBlock:t},smalltalk.AbstractSocialAPI)})},messageSends:["subclassResponsibility"]}),smalltalk.AbstractSocialAPI);smalltalk.addMethod(smalltalk.method({selector:"load",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._subclassResponsibility();return a},function(l){l.fill(t,"load",{},smalltalk.AbstractSocialAPI)})},messageSends:["subclassResponsibility"]}),smalltalk.AbstractSocialAPI);smalltalk.addMethod(smalltalk.method({selector:"login",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._subclassResponsibility();return a},function(l){l.fill(t,"login",{},smalltalk.AbstractSocialAPI)})},messageSends:["subclassResponsibility"]}),smalltalk.AbstractSocialAPI);smalltalk.addMethod(smalltalk.method({selector:"logout",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._subclassResponsibility();return a},function(l){l.fill(t,"logout",{},smalltalk.AbstractSocialAPI)})},messageSends:["subclassResponsibility"]}),smalltalk.AbstractSocialAPI);smalltalk.addMethod(smalltalk.method({selector:"profileDo:",fn:function(t){var l=this;return smalltalk.withContext(function(t){var a;a=_st(l)._subclassResponsibility();return a},function(a){a.fill(l,"profileDo:",{aBlock:t},smalltalk.AbstractSocialAPI)})},messageSends:["subclassResponsibility"]}),smalltalk.AbstractSocialAPI);smalltalk.addClass("Facebook",smalltalk.AbstractSocialAPI,["channelUrl"],"SocialAPI");smalltalk.addMethod(smalltalk.method({selector:"basicLoad",fn:function(){var t=this;return smalltalk.withContext(function(l){(function(t,l,a){var e,s=t.getElementsByTagName(l)[0];if(t.getElementById(a)){return}e=t.createElement(l);e.id=a;e.src="//connect.facebook.net/en_US/all.js";s.parentNode.insertBefore(e,s)})(document,"script","facebook-jssdk");return t},function(l){l.fill(t,"basicLoad",{},smalltalk.Facebook)})},messageSends:[]}),smalltalk.Facebook);smalltalk.addMethod(smalltalk.method({selector:"channelUrl",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@channelUrl"];return a},function(l){l.fill(t,"channelUrl",{},smalltalk.Facebook)})},messageSends:[]}),smalltalk.Facebook);smalltalk.addMethod(smalltalk.method({selector:"channelUrl:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@channelUrl"]=t;return l},function(a){a.fill(l,"channelUrl:",{aString:t},smalltalk.Facebook)})},messageSends:[]}),smalltalk.Facebook);smalltalk.addMethod(smalltalk.method({selector:"hasLoginDo:",fn:function(t){var l=this;function a(){return smalltalk.FB||(typeof FB=="undefined"?nil:FB)}return smalltalk.withContext(function(e){_st(a())._getLoginStatus_(function(l){return smalltalk.withContext(function(a){return _st(t)._value_(_st(_st(l)._status()).__eq("connected"))},function(t){t.fillBlock({answer:l},e)})});return l},function(a){a.fill(l,"hasLoginDo:",{aBlock:t},smalltalk.Facebook)})},messageSends:["getLoginStatus:","value:","=","status"]}),smalltalk.Facebook);smalltalk.addMethod(smalltalk.method({selector:"load",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t;_st(a)._setup();e=_st(a)._basicLoad();return t},function(l){l.fill(t,"load",{},smalltalk.Facebook)})},messageSends:["setup","basicLoad"]}),smalltalk.Facebook);smalltalk.addMethod(smalltalk.method({selector:"setup",fn:function(){var t=this;function l(){return smalltalk.FB||(typeof FB=="undefined"?nil:FB)}return smalltalk.withContext(function(a){_st(window)._at_put_("fbAsyncInit",function(){return smalltalk.withContext(function(a){return _st(l())._init_(smalltalk.HashedCollection._fromPairs_([_st("appId").__minus_gt(_st(t)._appId()),_st("channelUrl").__minus_gt(_st(t)._channelUrl()),_st("status").__minus_gt(true),_st("xfbml").__minus_gt(true)]))},function(t){t.fillBlock({},a)})});return t},function(l){l.fill(t,"setup",{},smalltalk.Facebook)})},messageSends:["at:put:","init:","->","appId","channelUrl"]}),smalltalk.Facebook);smalltalk.addClass("GooglePlus",smalltalk.AbstractSocialAPI,[],"SocialAPI");smalltalk.addClass("LinkedIn",smalltalk.AbstractSocialAPI,[],"SocialAPI");smalltalk.addMethod(smalltalk.method({selector:"renderLoadOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;e=_st(t)._script();_st(e)._at_put_("type","text/javascript");s=_st(e)._src_("http://platform.linkedin.com/in.js");_st(_st(s)._asJQuery())._html_(_st(_st("api_key: ").__comma(_st(l)._appId())).__comma("\nauthorize: true"));return l},function(a){a.fill(l,"renderLoadOn:",{html:t},smalltalk.LinkedIn)})},messageSends:["html:",",","appId","asJQuery","at:put:","script","src:"]}),smalltalk.LinkedIn);smalltalk.addClass("SocialAPI",smalltalk.Object,["facebook","linkedIn","googlePlus"],"SocialAPI");smalltalk.addMethod(smalltalk.method({selector:"facebook",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@facebook"];if(($receiver=a)==nil||$receiver==undefined){e=_st(t)._initializeFacebook()}else{e=a}return e},function(l){l.fill(t,"facebook",{},smalltalk.SocialAPI)})},messageSends:["ifNil:","initializeFacebook"]}),smalltalk.SocialAPI);smalltalk.addMethod(smalltalk.method({selector:"googlePlus",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;
a=t["@googlePlus"];if(($receiver=a)==nil||$receiver==undefined){e=_st(t)._initializeGooglePlus()}else{e=a}return e},function(l){l.fill(t,"googlePlus",{},smalltalk.SocialAPI)})},messageSends:["ifNil:","initializeGooglePlus"]}),smalltalk.SocialAPI);smalltalk.addMethod(smalltalk.method({selector:"initializeFacebook",fn:function(){var t=this;function l(){return smalltalk.Facebook||(typeof Facebook=="undefined"?nil:Facebook)}return smalltalk.withContext(function(a){var e;t["@facebook"]=_st(l())._new();e=t["@facebook"];return e},function(l){l.fill(t,"initializeFacebook",{},smalltalk.SocialAPI)})},messageSends:["new"]}),smalltalk.SocialAPI);smalltalk.addMethod(smalltalk.method({selector:"initializeGooglePlus",fn:function(){var t=this;function l(){return smalltalk.GooglePlus||(typeof GooglePlus=="undefined"?nil:GooglePlus)}return smalltalk.withContext(function(a){var e;t["@googlePlus"]=_st(l())._new();e=t["@googlePlus"];return e},function(l){l.fill(t,"initializeGooglePlus",{},smalltalk.SocialAPI)})},messageSends:["new"]}),smalltalk.SocialAPI);smalltalk.addMethod(smalltalk.method({selector:"initializeLinkedIn",fn:function(){var t=this;function l(){return smalltalk.LinkedIn||(typeof LinkedIn=="undefined"?nil:LinkedIn)}return smalltalk.withContext(function(a){var e;t["@linkedIn"]=_st(l())._new();e=t["@linkedIn"];return e},function(l){l.fill(t,"initializeLinkedIn",{},smalltalk.SocialAPI)})},messageSends:["new"]}),smalltalk.SocialAPI);smalltalk.addMethod(smalltalk.method({selector:"linkedIn",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@linkedIn"];if(($receiver=a)==nil||$receiver==undefined){e=_st(t)._initializeLinkedIn()}else{e=a}return e},function(l){l.fill(t,"linkedIn",{},smalltalk.SocialAPI)})},messageSends:["ifNil:","initializeLinkedIn"]}),smalltalk.SocialAPI);smalltalk.addPackage("Reactive");smalltalk.addClass("RAnnouncement",smalltalk.Object,["subject"],"Reactive");smalltalk.addMethod(smalltalk.method({selector:"subject",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@subject"];return a},function(l){l.fill(t,"subject",{},smalltalk.RAnnouncement)})},messageSends:[]}),smalltalk.RAnnouncement);smalltalk.addMethod(smalltalk.method({selector:"subject:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@subject"]=t;return l},function(a){a.fill(l,"subject:",{anObject:t},smalltalk.RAnnouncement)})},messageSends:[]}),smalltalk.RAnnouncement);smalltalk.addMethod(smalltalk.method({selector:"for:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=_st(l)._new();_st(e)._subject_(t);s=_st(e)._yourself();n=s;return n},function(a){a.fill(l,"for:",{aSubject:t},smalltalk.RAnnouncement.klass)})},messageSends:["subject:","new","yourself"]}),smalltalk.RAnnouncement.klass);smalltalk.addClass("RTaskChanged",smalltalk.RAnnouncement,[],"Reactive");smalltalk.addClass("RTaskRemoved",smalltalk.RAnnouncement,[],"Reactive");smalltalk.addClass("RTasksSorted",smalltalk.RAnnouncement,[],"Reactive");smalltalk.addClass("RClient",smalltalk.Object,["socket","uri","onOpen"],"Reactive");smalltalk.addMethod(smalltalk.method({selector:"initializeSocket",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e,s;a=_st(t)._makeSocketOn_(_st(t)._uri());_st(a)._onopen_(_st(t)._onOpen());_st(a)._onclose_(function(){return smalltalk.withContext(function(t){return nil},function(t){t.fillBlock({},l)})});_st(a)._onmessage_(function(a){return smalltalk.withContext(function(l){return _st(t)._onMessage_(a)},function(t){t.fillBlock({anEvent:a},l)})});_st(a)._onerror_(function(a){return smalltalk.withContext(function(l){return _st(t)._onError_(a)},function(t){t.fillBlock({x:a},l)})});e=_st(a)._yourself();t["@socket"]=e;s=t["@socket"];return s},function(l){l.fill(t,"initializeSocket",{},smalltalk.RClient)})},messageSends:["onopen:","onOpen","makeSocketOn:","uri","onclose:","onmessage:","onMessage:","onerror:","onError:","yourself"]}),smalltalk.RClient);smalltalk.addMethod(smalltalk.method({selector:"initializeURI",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;t["@uri"]=_st(_st("ws://").__comma(_st(_st(window)._location())._hostname())).__comma(":21004/socket");a=t["@uri"];return a},function(l){l.fill(t,"initializeURI",{},smalltalk.RClient)})},messageSends:[",","hostname","location"]}),smalltalk.RClient);smalltalk.addMethod(smalltalk.method({selector:"makeSocketOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){return new WebSocket(t);return l},function(a){a.fill(l,"makeSocketOn:",{anUri:t},smalltalk.RClient)})},messageSends:[]}),smalltalk.RClient);smalltalk.addMethod(smalltalk.method({selector:"onError:",fn:function(t){var l=this;return smalltalk.withContext(function(t){_st(l)._halt();return l},function(a){a.fill(l,"onError:",{anException:t},smalltalk.RClient)})},messageSends:["halt"]}),smalltalk.RClient);smalltalk.addMethod(smalltalk.method({selector:"onMessage:",fn:function(t){var l=this;var a;function e(){return smalltalk.MaplessModel||(typeof MaplessModel=="undefined"?nil:MaplessModel)}return smalltalk.withContext(function(s){a=_st(e())._fromJsonString_(_st(t)._data());_st(a)._react();return l},function(e){e.fill(l,"onMessage:",{anEvent:t,command:a},smalltalk.RClient)})},messageSends:["fromJsonString:","data","react"]}),smalltalk.RClient);smalltalk.addMethod(smalltalk.method({selector:"onOpen",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@onOpen"];if(($receiver=a)==nil||$receiver==undefined){t["@onOpen"]=function(){return smalltalk.withContext(function(t){return nil},function(t){t.fillBlock({},l)})};e=t["@onOpen"]}else{e=a}return e},function(l){l.fill(t,"onOpen",{},smalltalk.RClient)})},messageSends:["ifNil:"]}),smalltalk.RClient);smalltalk.addMethod(smalltalk.method({selector:"onOpen:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@onOpen"]=t;return l},function(a){a.fill(l,"onOpen:",{aBlock:t},smalltalk.RClient)})},messageSends:[]}),smalltalk.RClient);smalltalk.addMethod(smalltalk.method({selector:"open",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._initializeSocket();return t},function(l){l.fill(t,"open",{},smalltalk.RClient)})},messageSends:["initializeSocket"]}),smalltalk.RClient);smalltalk.addMethod(smalltalk.method({selector:"send:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._socket())._send_(t);return e},function(a){a.fill(l,"send:",{aString:t},smalltalk.RClient)})},messageSends:["send:","socket"]}),smalltalk.RClient);smalltalk.addMethod(smalltalk.method({selector:"socket",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@socket"];if(($receiver=a)==nil||$receiver==undefined){e=_st(t)._initializeSocket()}else{e=a}return e},function(l){l.fill(t,"socket",{},smalltalk.RClient)})},messageSends:["ifNil:","initializeSocket"]}),smalltalk.RClient);smalltalk.addMethod(smalltalk.method({selector:"uri",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@uri"];if(($receiver=a)==nil||$receiver==undefined){e=_st(t)._initializeURI()}else{e=a}return e},function(l){l.fill(t,"uri",{},smalltalk.RClient)})},messageSends:["ifNil:","initializeURI"]}),smalltalk.RClient);smalltalk.addMethod(smalltalk.method({selector:"uri:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@uri"]=t;return l},function(a){a.fill(l,"uri:",{aString:t},smalltalk.RClient)})},messageSends:[]}),smalltalk.RClient);smalltalk.addClass("RModel",smalltalk.MaplessModel,[],"Reactive");smalltalk.addMethod(smalltalk.method({selector:"path",fn:function(){var t=this;return smalltalk.withContext(function(t){return"api"},function(l){l.fill(t,"path",{},smalltalk.RModel.klass)})},messageSends:[]}),smalltalk.RModel.klass);smalltalk.addClass("RCommand",smalltalk.RModel,[],"Reactive");smalltalk.addMethod(smalltalk.method({selector:"api",fn:function(){var t=this;return smalltalk.withContext(function(t){var l;l=_st(_st(_st(window)._app())._session())._api();return l},function(l){l.fill(t,"api",{},smalltalk.RCommand)})},messageSends:["api","session","app"]}),smalltalk.RCommand);smalltalk.addMethod(smalltalk.method({selector:"execute",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._executeDo_(function(){return smalltalk.withContext(function(t){return nil},function(t){t.fillBlock({},l)})});return t},function(l){l.fill(t,"execute",{},smalltalk.RCommand)})},messageSends:["executeDo:"]}),smalltalk.RCommand);smalltalk.addMethod(smalltalk.method({selector:"initialize",fn:function(){var t=this;return smalltalk.withContext(function(l){smalltalk.RModel.fn.prototype._initialize.apply(_st(t),[]);_st(t)._sessionId_(_st(_st(_st(window)._app())._session())._id());return t},function(l){l.fill(t,"initialize",{},smalltalk.RCommand)})},messageSends:["initialize","sessionId:","id","session","app"]}),smalltalk.RCommand);smalltalk.addMethod(smalltalk.method({selector:"notifyRemote",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st(t)._api())._send_(_st(t)._asJSONString());return t},function(l){l.fill(t,"notifyRemote",{},smalltalk.RCommand)})},messageSends:["send:","asJSONString","api"]}),smalltalk.RCommand);smalltalk.addMethod(smalltalk.method({selector:"onAfter:done:",fn:function(t,l){var a=this;return smalltalk.withContext(function(t){_st(l)._value();return a},function(e){e.fill(a,"onAfter:done:",{x:t,aBlock:l},smalltalk.RCommand)})},messageSends:["value"]}),smalltalk.RCommand);smalltalk.addMethod(smalltalk.method({selector:"onFail:",fn:function(t){var l=this;return smalltalk.withContext(function(t){_st(l)._halt();return l},function(a){a.fill(l,"onFail:",{aBlock:t},smalltalk.RCommand)})},messageSends:["halt"]}),smalltalk.RCommand);smalltalk.addMethod(smalltalk.method({selector:"react",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(t)._subclassResponsibility();return t},function(l){l.fill(t,"react",{},smalltalk.RCommand)})},messageSends:["subclassResponsibility"]}),smalltalk.RCommand);smalltalk.addClass("RAddList",smalltalk.RCommand,[],"Reactive");smalltalk.addMethod(smalltalk.method({selector:"executeDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._localSave();_st(jQuery)._ajax_(smalltalk.HashedCollection._fromPairs_([_st("url").__minus_gt(_st(_st(l)._path()).__comma("/addList")),_st("type").__minus_gt("PUT"),_st("cache").__minus_gt(false),_st("data").__minus_gt(_st(l)._asJSONString()),_st("success").__minus_gt(function(e){return smalltalk.withContext(function(a){return _st(l)._onAfter_done_(e,t)},function(t){t.fillBlock({x:e},a)})}),_st("fail").__minus_gt(function(t){return smalltalk.withContext(function(a){return _st(l)._onFail_(t)},function(l){l.fillBlock({x:t},a)})}),_st("error").__minus_gt(function(t){return smalltalk.withContext(function(a){return _st(l)._onFail_(t)},function(l){l.fillBlock({x:t},a)})})]));return l},function(a){a.fill(l,"executeDo:",{aBlock:t},smalltalk.RAddList)})},messageSends:["localSave","ajax:","->",",","path","asJSONString","onAfter:done:","onFail:"]}),smalltalk.RAddList);smalltalk.addMethod(smalltalk.method({selector:"localSave",fn:function(){var t=this;function l(){return smalltalk.RStorage||(typeof RStorage=="undefined"?nil:RStorage)}return smalltalk.withContext(function(a){_st(l())._save_(_st(t)._list());return t},function(l){l.fill(t,"localSave",{},smalltalk.RAddList)})},messageSends:["save:","list"]}),smalltalk.RAddList);smalltalk.addMethod(smalltalk.method({selector:"for:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=_st(l)._new();_st(e)._list_(t);s=_st(e)._yourself();n=s;return n},function(a){a.fill(l,"for:",{aList:t},smalltalk.RAddList.klass)})},messageSends:["list:","new","yourself"]}),smalltalk.RAddList.klass);smalltalk.addClass("RAddTask",smalltalk.RCommand,[],"Reactive");smalltalk.addMethod(smalltalk.method({selector:"executeDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._localSave();_st(l)._updateList_(_st(l)._list());_st(l)._notifyRemote();_st(jQuery)._ajax_(smalltalk.HashedCollection._fromPairs_([_st("url").__minus_gt(_st(_st(l)._path()).__comma("/addTask")),_st("type").__minus_gt("PUT"),_st("cache").__minus_gt(false),_st("data").__minus_gt(_st(l)._asJSONString()),_st("success").__minus_gt(function(e){return smalltalk.withContext(function(a){return _st(l)._onAfter_done_(e,t)},function(t){t.fillBlock({x:e},a)})}),_st("fail").__minus_gt(function(t){return smalltalk.withContext(function(a){return _st(l)._onFail_(t)},function(l){l.fillBlock({x:t},a)})}),_st("error").__minus_gt(function(t){return smalltalk.withContext(function(a){return _st(l)._onFail_(t)},function(l){l.fillBlock({x:t},a)})})]));return l},function(a){a.fill(l,"executeDo:",{aBlock:t},smalltalk.RAddTask)})},messageSends:["localSave","updateList:","list","notifyRemote","ajax:","->",",","path","asJSONString","onAfter:done:","onFail:"]}),smalltalk.RAddTask);smalltalk.addMethod(smalltalk.method({selector:"localSave",fn:function(){var t=this;function l(){return smalltalk.RStorage||(typeof RStorage=="undefined"?nil:RStorage)}return smalltalk.withContext(function(a){_st(l())._save_(_st(t)._task());return t},function(l){l.fill(t,"localSave",{},smalltalk.RAddTask)})},messageSends:["save:","task"]}),smalltalk.RAddTask);smalltalk.addMethod(smalltalk.method({selector:"react",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st(window)._app())._addTask_(t);return t},function(l){l.fill(t,"react",{},smalltalk.RAddTask)})},messageSends:["addTask:","app"]}),smalltalk.RAddTask);smalltalk.addMethod(smalltalk.method({selector:"saveAndUpdateList:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._localSave();_st(l)._updateList_(t);return l},function(a){a.fill(l,"saveAndUpdateList:",{aList:t},smalltalk.RAddTask)})},messageSends:["localSave","updateList:"]}),smalltalk.RAddTask);smalltalk.addMethod(smalltalk.method({selector:"updateList:",fn:function(t){var l=this;function a(){return smalltalk.RStorage||(typeof RStorage=="undefined"?nil:RStorage)}return smalltalk.withContext(function(e){_st(t)._addTask_(_st(_st(l)._task())._id());_st(a())._save_(t);return l},function(a){a.fill(l,"updateList:",{aList:t},smalltalk.RAddTask)})},messageSends:["addTask:","id","task","save:"]}),smalltalk.RAddTask);smalltalk.addMethod(smalltalk.method({selector:"for:in:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s,n,o;s=_st(a)._new();_st(s)._task_(t);_st(s)._list_(l);n=_st(s)._yourself();o=n;return o},function(e){e.fill(a,"for:in:",{aTask:t,aList:l},smalltalk.RAddTask.klass)})},messageSends:["task:","new","list:","yourself"]}),smalltalk.RAddTask.klass);smalltalk.addClass("RAddUser",smalltalk.RCommand,[],"Reactive");smalltalk.addMethod(smalltalk.method({selector:"executeDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._localSave();_st(jQuery)._ajax_(smalltalk.HashedCollection._fromPairs_([_st("url").__minus_gt(_st(_st(l)._path()).__comma("/addUser")),_st("type").__minus_gt("PUT"),_st("cache").__minus_gt(false),_st("data").__minus_gt(_st(l)._asJSONString()),_st("success").__minus_gt(function(e){return smalltalk.withContext(function(a){return _st(l)._onAfter_done_(e,t)},function(t){t.fillBlock({x:e},a)})}),_st("fail").__minus_gt(function(t){return smalltalk.withContext(function(a){return _st(l)._onFail_(t)},function(l){l.fillBlock({x:t},a)})}),_st("error").__minus_gt(function(t){return smalltalk.withContext(function(a){return _st(l)._onFail_(t)},function(l){l.fillBlock({x:t},a)})})]));return l},function(a){a.fill(l,"executeDo:",{aBlock:t},smalltalk.RAddUser)})},messageSends:["localSave","ajax:","->",",","path","asJSONString","onAfter:done:","onFail:"]}),smalltalk.RAddUser);smalltalk.addMethod(smalltalk.method({selector:"localSave",fn:function(){var t=this;function l(){return smalltalk.RStorage||(typeof RStorage=="undefined"?nil:RStorage)}return smalltalk.withContext(function(a){_st(l())._save_(_st(t)._user());return t},function(l){l.fill(t,"localSave",{},smalltalk.RAddUser)})},messageSends:["save:","user"]}),smalltalk.RAddUser);smalltalk.addMethod(smalltalk.method({selector:"for:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=_st(l)._new();_st(e)._user_(t);s=_st(e)._yourself();n=s;return n},function(a){a.fill(l,"for:",{anUser:t},smalltalk.RAddUser.klass)})},messageSends:["user:","new","yourself"]}),smalltalk.RAddUser.klass);smalltalk.addClass("RChangeClients",smalltalk.RCommand,[],"Reactive");smalltalk.addMethod(smalltalk.method({selector:"executeDo:",fn:function(t){var l=this;return smalltalk.withContext(function(t){_st(l)._notifyRemote();return l},function(a){a.fill(l,"executeDo:",{aBlock:t},smalltalk.RChangeClients)})},messageSends:["notifyRemote"]}),smalltalk.RChangeClients);smalltalk.addMethod(smalltalk.method({selector:"react",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st(window)._app())._changeClients_(t);return t},function(l){l.fill(t,"react",{},smalltalk.RChangeClients)})},messageSends:["changeClients:","app"]}),smalltalk.RChangeClients);smalltalk.addClass("RChangeList",smalltalk.RCommand,[],"Reactive");smalltalk.addMethod(smalltalk.method({selector:"executeDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._localSave();_st(l)._notifyRemote();_st(jQuery)._ajax_(smalltalk.HashedCollection._fromPairs_([_st("url").__minus_gt(_st(_st(l)._path()).__comma("/changeList")),_st("type").__minus_gt("POST"),_st("cache").__minus_gt(false),_st("data").__minus_gt(_st(l)._asJSONString()),_st("success").__minus_gt(function(e){return smalltalk.withContext(function(a){return _st(l)._onAfter_done_(e,t)},function(t){t.fillBlock({x:e},a)})}),_st("fail").__minus_gt(function(t){return smalltalk.withContext(function(a){return _st(l)._onFail_(t)},function(l){l.fillBlock({x:t},a)})}),_st("error").__minus_gt(function(t){return smalltalk.withContext(function(a){return _st(l)._onFail_(t)},function(l){l.fillBlock({x:t},a)})})]));return l},function(a){a.fill(l,"executeDo:",{aBlock:t},smalltalk.RChangeList)})},messageSends:["localSave","notifyRemote","ajax:","->",",","path","asJSONString","onAfter:done:","onFail:"]}),smalltalk.RChangeList);smalltalk.addMethod(smalltalk.method({selector:"localSave",fn:function(){var t=this;function l(){return smalltalk.RStorage||(typeof RStorage=="undefined"?nil:RStorage)}return smalltalk.withContext(function(a){_st(l())._save_(_st(t)._list());return t},function(l){l.fill(t,"localSave",{},smalltalk.RChangeList)})},messageSends:["save:","list"]}),smalltalk.RChangeList);smalltalk.addMethod(smalltalk.method({selector:"react",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st(window)._app())._changeList_(t);return t},function(l){l.fill(t,"react",{},smalltalk.RChangeList)})},messageSends:["changeList:","app"]}),smalltalk.RChangeList);smalltalk.addMethod(smalltalk.method({selector:"for:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=_st(l)._new();_st(e)._list_(t);s=_st(e)._yourself();n=s;return n},function(a){a.fill(l,"for:",{aList:t},smalltalk.RChangeList.klass)})},messageSends:["list:","new","yourself"]}),smalltalk.RChangeList.klass);smalltalk.addClass("RChangeTask",smalltalk.RCommand,[],"Reactive");smalltalk.addMethod(smalltalk.method({selector:"executeDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._localSave();_st(l)._notifyRemote();_st(jQuery)._ajax_(smalltalk.HashedCollection._fromPairs_([_st("url").__minus_gt(_st(_st(l)._path()).__comma("/changeTask")),_st("type").__minus_gt("POST"),_st("cache").__minus_gt(false),_st("data").__minus_gt(_st(l)._asJSONString()),_st("success").__minus_gt(function(e){return smalltalk.withContext(function(a){return _st(l)._onAfter_done_(e,t)},function(t){t.fillBlock({x:e},a)})}),_st("fail").__minus_gt(function(t){return smalltalk.withContext(function(a){return _st(l)._onFail_(t)},function(l){l.fillBlock({x:t},a)})}),_st("error").__minus_gt(function(t){return smalltalk.withContext(function(a){return _st(l)._onFail_(t)},function(l){l.fillBlock({x:t},a)})})]));return l},function(a){a.fill(l,"executeDo:",{aBlock:t},smalltalk.RChangeTask)})},messageSends:["localSave","notifyRemote","ajax:","->",",","path","asJSONString","onAfter:done:","onFail:"]}),smalltalk.RChangeTask);smalltalk.addMethod(smalltalk.method({selector:"localSave",fn:function(){var t=this;function l(){return smalltalk.RStorage||(typeof RStorage=="undefined"?nil:RStorage)}return smalltalk.withContext(function(a){_st(l())._save_(_st(t)._task());return t},function(l){l.fill(t,"localSave",{},smalltalk.RChangeTask)})},messageSends:["save:","task"]}),smalltalk.RChangeTask);smalltalk.addMethod(smalltalk.method({selector:"react",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st(window)._app())._changeTask_(t);return t},function(l){l.fill(t,"react",{},smalltalk.RChangeTask)})},messageSends:["changeTask:","app"]}),smalltalk.RChangeTask);smalltalk.addMethod(smalltalk.method({selector:"for:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=_st(l)._new();_st(e)._task_(t);s=_st(e)._yourself();n=s;return n},function(a){a.fill(l,"for:",{aTask:t},smalltalk.RChangeTask.klass)})},messageSends:["task:","new","yourself"]}),smalltalk.RChangeTask.klass);smalltalk.addClass("RRemoveTask",smalltalk.RCommand,[],"Reactive");smalltalk.addMethod(smalltalk.method({selector:"executeDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._localRemove();_st(l)._updateList_(_st(l)._list());_st(l)._notifyRemote();_st(jQuery)._ajax_(smalltalk.HashedCollection._fromPairs_([_st("url").__minus_gt(_st(_st(l)._path()).__comma("/removeTask")),_st("type").__minus_gt("DELETE"),_st("cache").__minus_gt(false),_st("data").__minus_gt(_st(l)._asJSONString()),_st("success").__minus_gt(function(e){return smalltalk.withContext(function(a){return _st(l)._onAfter_done_(e,t)},function(t){t.fillBlock({x:e},a)})}),_st("fail").__minus_gt(function(t){return smalltalk.withContext(function(a){return _st(l)._onFail_(t)},function(l){l.fillBlock({x:t},a)})}),_st("error").__minus_gt(function(t){return smalltalk.withContext(function(a){return _st(l)._onFail_(t)},function(l){l.fillBlock({x:t},a)})})]));return l},function(a){a.fill(l,"executeDo:",{aBlock:t},smalltalk.RRemoveTask)})},messageSends:["localRemove","updateList:","list","notifyRemote","ajax:","->",",","path","asJSONString","onAfter:done:","onFail:"]}),smalltalk.RRemoveTask);smalltalk.addMethod(smalltalk.method({selector:"localRemove",fn:function(){var t=this;function l(){return smalltalk.RStorage||(typeof RStorage=="undefined"?nil:RStorage)}return smalltalk.withContext(function(a){_st(l())._delete_(_st(t)._task());return t},function(l){l.fill(t,"localRemove",{},smalltalk.RRemoveTask)})},messageSends:["delete:","task"]}),smalltalk.RRemoveTask);smalltalk.addMethod(smalltalk.method({selector:"react",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st(window)._app())._removeTask_(t);return t},function(l){l.fill(t,"react",{},smalltalk.RRemoveTask)})},messageSends:["removeTask:","app"]}),smalltalk.RRemoveTask);smalltalk.addMethod(smalltalk.method({selector:"removeAndUpdateList:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._localRemove();_st(l)._updateList_(t);return l},function(a){a.fill(l,"removeAndUpdateList:",{aList:t},smalltalk.RRemoveTask)})},messageSends:["localRemove","updateList:"]}),smalltalk.RRemoveTask);smalltalk.addMethod(smalltalk.method({selector:"updateList:",fn:function(t){var l=this;function a(){return smalltalk.RStorage||(typeof RStorage=="undefined"?nil:RStorage)}return smalltalk.withContext(function(e){_st(t)._removeTask_(_st(_st(l)._task())._id());_st(a())._save_(t);return l},function(a){a.fill(l,"updateList:",{aList:t},smalltalk.RRemoveTask)})},messageSends:["removeTask:","id","task","save:"]}),smalltalk.RRemoveTask);smalltalk.addMethod(smalltalk.method({selector:"for:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=_st(l)._new();_st(e)._task_(t);s=_st(e)._yourself();n=s;return n},function(a){a.fill(l,"for:",{aTask:t},smalltalk.RRemoveTask.klass)})},messageSends:["task:","new","yourself"]}),smalltalk.RRemoveTask.klass);smalltalk.addMethod(smalltalk.method({selector:"for:list:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s,n,o;s=_st(a)._new();_st(s)._task_(t);_st(s)._list_(l);n=_st(s)._yourself();o=n;return o},function(e){e.fill(a,"for:list:",{aTask:t,aList:l},smalltalk.RRemoveTask.klass)})},messageSends:["task:","new","list:","yourself"]}),smalltalk.RRemoveTask.klass);smalltalk.addClass("RList",smalltalk.RModel,[],"Reactive");smalltalk.addMethod(smalltalk.method({selector:"addTask:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._tasks())._add_(t);return l},function(a){a.fill(l,"addTask:",{aRTaskId:t},smalltalk.RList)})},messageSends:["add:","tasks"]}),smalltalk.RList);smalltalk.addMethod(smalltalk.method({selector:"removeTask:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._tasks())._remove_ifAbsent_(t,function(){return smalltalk.withContext(function(t){return nil},function(t){t.fillBlock({},a)})});return l},function(a){a.fill(l,"removeTask:",{aRTaskId:t},smalltalk.RList)})},messageSends:["remove:ifAbsent:","tasks"]}),smalltalk.RList);smalltalk.addMethod(smalltalk.method({selector:"tasks",fn:function(){var t=this;function l(){return smalltalk.Array||(typeof Array=="undefined"?nil:Array)}return smalltalk.withContext(function(a){var e,s;e=smalltalk.RModel.fn.prototype._tasks.apply(_st(t),[]);if(($receiver=e)==nil||$receiver==undefined){_st(t)._tasks_(_st(l())._new());s=_st(t)._tasks()}else{s=e}return s},function(l){l.fill(t,"tasks",{},smalltalk.RList)})},messageSends:["ifNil:","tasks:","new","tasks"]}),smalltalk.RList);smalltalk.addMethod(smalltalk.method({selector:"atId:do:",fn:function(t,l){var a=this;function e(){return smalltalk.ModelReadError||(typeof ModelReadError=="undefined"?nil:ModelReadError)}return smalltalk.withContext(function(s){_st(jQuery)._ajax_(smalltalk.HashedCollection._fromPairs_([_st("url").__minus_gt(_st(_st(_st(a)._path()).__comma("/getList?id=")).__comma(t)),_st("type").__minus_gt("GET"),_st("cache").__minus_gt(false),_st("success").__minus_gt(function(t){return smalltalk.withContext(function(e){return _st(a)._onAfterRead_done_(t,l)},function(l){l.fillBlock({x:t},s)})}),_st("fail").__minus_gt(function(t){return smalltalk.withContext(function(l){return _st(e())._signal_(_st(_st(_st("Could not read ").__comma(_st(a)._name())).__comma(":  ")).__comma(_st(t)._responseText()))},function(l){l.fillBlock({x:t},s)})}),_st("error").__minus_gt(function(t){return smalltalk.withContext(function(l){return _st(e())._signal_(_st(_st(_st("Could not read ").__comma(_st(a)._name())).__comma(":  ")).__comma(_st(t)._responseText()))},function(l){l.fillBlock({x:t},s)})})]));return a},function(e){e.fill(a,"atId:do:",{anId:t,aBlock:l},smalltalk.RList.klass)})},messageSends:["ajax:","->",",","path","onAfterRead:done:","signal:","responseText","name"]}),smalltalk.RList.klass);smalltalk.addClass("RProspect",smalltalk.RModel,[],"Reactive");smalltalk.addClass("RTask",smalltalk.RModel,[],"Reactive");smalltalk.addMethod(smalltalk.method({selector:"initialize",fn:function(){var t=this;return smalltalk.withContext(function(l){smalltalk.RModel.fn.prototype._initialize.apply(_st(t),[]);_st(t)._isCompleted_(false);return t},function(l){l.fill(t,"initialize",{},smalltalk.RTask)})},messageSends:["initialize","isCompleted:"]}),smalltalk.RTask);smalltalk.addClass("RUser",smalltalk.RModel,[],"Reactive");smalltalk.addMethod(smalltalk.method({selector:"addList:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._lists())._add_(t);return l},function(a){a.fill(l,"addList:",{aRList:t},smalltalk.RUser)})},messageSends:["add:","lists"]}),smalltalk.RUser);smalltalk.addMethod(smalltalk.method({selector:"lists",fn:function(){var t=this;function l(){return smalltalk.OrderedCollection||(typeof OrderedCollection=="undefined"?nil:OrderedCollection)}return smalltalk.withContext(function(a){var e,s;e=smalltalk.RModel.fn.prototype._lists.apply(_st(t),[]);if(($receiver=e)==nil||$receiver==undefined){_st(t)._lists_(_st(l())._new());s=_st(t)._lists()}else{s=e}return s},function(l){l.fill(t,"lists",{},smalltalk.RUser)})},messageSends:["ifNil:","lists:","new","lists"]}),smalltalk.RUser);smalltalk.addClass("RSession",smalltalk.Object,["id","user","api","social"],"Reactive");smalltalk.addMethod(smalltalk.method({selector:"api",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@api"];if(($receiver=a)==nil||$receiver==undefined){e=_st(t)._initializeAPI()}else{e=a}return e},function(l){l.fill(t,"api",{},smalltalk.RSession)})},messageSends:["ifNil:","initializeAPI"]}),smalltalk.RSession);smalltalk.addMethod(smalltalk.method({selector:"asJSONString",fn:function(){var t=this;function l(){return smalltalk.HasedCollection||(typeof HasedCollection=="undefined"?nil:HasedCollection)}return smalltalk.withContext(function(a){var e,s,n;e=_st(l())._new();_st(e)._at_put_("id",_st(t)._id());_st(e)._at_put_("userId",_st(_st(t)._user())._id());s=_st(e)._asJSONString();n=s;return n},function(l){l.fill(t,"asJSONString",{},smalltalk.RSession)})},messageSends:["at:put:","id","new","user","asJSONString"]}),smalltalk.RSession);smalltalk.addMethod(smalltalk.method({selector:"getUser",fn:function(){var t=this;var l,a,e,s;function n(){return smalltalk.RUser||(typeof RUser=="undefined"?nil:RUser)}function o(){return smalltalk.RList||(typeof RList=="undefined"?nil:RList)}function r(){return smalltalk.RAddUser||(typeof RAddUser=="undefined"?nil:RAddUser)}function i(){return smalltalk.RAddList||(typeof RAddList=="undefined"?nil:RAddList)}function m(){return smalltalk.MaplessModel||(typeof MaplessModel=="undefined"?nil:MaplessModel)}return smalltalk.withContext(function(t){var u,c,d,f;l=_st(_st(window)._localStorage())._getItem_("userId");a=_st(_st(window)._localStorage())._getItem_(l);u=_st(a)._isNil();if(smalltalk.assert(u)){e=_st(n())._new();e;c=_st(o())._new();_st(c)._id_("95faef2d-ffc8-4444-d2c7-3e9bbf97c415");_st(c)._name_("First list of things to get done");d=_st(c)._yourself();s=d;s;_st(e)._listId_(_st(s)._id());_st(_st(window)._localStorage())._setItem_put_("userId",_st(e)._id());_st(_st(r())._for_(e))._execute();_st(_st(i())._for_(s))._execute();f=e}else{f=_st(m())._fromJsonString_(a)}return f},function(n){n.fill(t,"getUser",{anId:l,guy:a,newUser:e,newList:s},smalltalk.RSession)})},messageSends:["getItem:","localStorage","ifTrue:ifFalse:","new","id:","name:","yourself","listId:","id","setItem:put:","execute","for:","fromJsonString:","isNil"]}),smalltalk.RSession);smalltalk.addMethod(smalltalk.method({selector:"id",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@id"];if(($receiver=a)==nil||$receiver==undefined){e=_st(t)._initializeID()}else{e=a}return e},function(l){l.fill(t,"id",{},smalltalk.RSession)})},messageSends:["ifNil:","initializeID"]}),smalltalk.RSession);smalltalk.addMethod(smalltalk.method({selector:"initializeAPI",fn:function(){var t=this;function l(){return smalltalk.RClient||(typeof RClient=="undefined"?nil:RClient)}return smalltalk.withContext(function(a){var e;t["@api"]=_st(l())._new();e=t["@api"];return e},function(l){l.fill(t,"initializeAPI",{},smalltalk.RSession)})},messageSends:["new"]}),smalltalk.RSession);smalltalk.addMethod(smalltalk.method({selector:"initializeID",fn:function(){var t=this;function l(){return smalltalk.MaplessModel||(typeof MaplessModel=="undefined"?nil:MaplessModel)}return smalltalk.withContext(function(a){var e;t["@id"]=_st(l())._newUUID();e=t["@id"];return e},function(l){l.fill(t,"initializeID",{},smalltalk.RSession)})},messageSends:["newUUID"]}),smalltalk.RSession);
smalltalk.addMethod(smalltalk.method({selector:"initializeSocial",fn:function(){var t=this;function l(){return smalltalk.SocialAPI||(typeof SocialAPI=="undefined"?nil:SocialAPI)}return smalltalk.withContext(function(a){var e;t["@social"]=_st(l())._new();e=t["@social"];return e},function(l){l.fill(t,"initializeSocial",{},smalltalk.RSession)})},messageSends:["new"]}),smalltalk.RSession);smalltalk.addMethod(smalltalk.method({selector:"initializeUser",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;t["@user"]=_st(t)._getUser();a=t["@user"];return a},function(l){l.fill(t,"initializeUser",{},smalltalk.RSession)})},messageSends:["getUser"]}),smalltalk.RSession);smalltalk.addMethod(smalltalk.method({selector:"onOpen",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;_st(t)._initializeID();a=_st(_st(t)._social())._facebook();_st(a)._appId_("318516538288855");_st(a)._channelUrl_("http://tasks.flowingconcept.com/service/static/facebook/channel.html");e=_st(a)._yourself();_st(_st(_st(t)._social())._linkedIn())._appId_("cekl05jzyc9p");_st(_st(_st(t)._social())._googlePlus())._appId_("durable-ripsaw-381");return t},function(l){l.fill(t,"onOpen",{},smalltalk.RSession)})},messageSends:["initializeID","appId:","facebook","social","channelUrl:","yourself","linkedIn","googlePlus"]}),smalltalk.RSession);smalltalk.addMethod(smalltalk.method({selector:"social",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@social"];if(($receiver=a)==nil||$receiver==undefined){e=_st(t)._initializeSocial()}else{e=a}return e},function(l){l.fill(t,"social",{},smalltalk.RSession)})},messageSends:["ifNil:","initializeSocial"]}),smalltalk.RSession);smalltalk.addMethod(smalltalk.method({selector:"user",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@user"];if(($receiver=a)==nil||$receiver==undefined){e=_st(t)._initializeUser()}else{e=a}return e},function(l){l.fill(t,"user",{},smalltalk.RSession)})},messageSends:["ifNil:","initializeUser"]}),smalltalk.RSession);smalltalk.addClass("RStorage",smalltalk.Object,[],"Reactive");smalltalk.addMethod(smalltalk.method({selector:"delete:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(t)._localDelete();return l},function(a){a.fill(l,"delete:",{aMaplessModel:t},smalltalk.RStorage.klass)})},messageSends:["localDelete"]}),smalltalk.RStorage.klass);smalltalk.addMethod(smalltalk.method({selector:"delete:do:",fn:function(t,l){var a=this;return smalltalk.withContext(function(l){_st(t)._remoteDeleteDo_(function(){return smalltalk.withContext(function(l){return _st(t)._localDelete()},function(t){t.fillBlock({},l)})});return a},function(e){e.fill(a,"delete:do:",{aMaplessModel:t,aBlock:l},smalltalk.RStorage.klass)})},messageSends:["remoteDeleteDo:","localDelete"]}),smalltalk.RStorage.klass);smalltalk.addMethod(smalltalk.method({selector:"save:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(t)._localSave();return l},function(a){a.fill(l,"save:",{aMaplessModel:t},smalltalk.RStorage.klass)})},messageSends:["localSave"]}),smalltalk.RStorage.klass);smalltalk.addMethod(smalltalk.method({selector:"save:do:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s,n;s=t;_st(s)._localSave();n=_st(s)._remoteSaveDo_(l);return a},function(e){e.fill(a,"save:do:",{aMaplessModel:t,aBlock:l},smalltalk.RStorage.klass)})},messageSends:["localSave","remoteSaveDo:"]}),smalltalk.RStorage.klass);smalltalk.addClass("RWidget",smalltalk.Widget,["model","announcer"],"Reactive");smalltalk.addMethod(smalltalk.method({selector:"announce:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._announcer())._announce_(t);return e},function(a){a.fill(l,"announce:",{anAnnouncement:t},smalltalk.RWidget)})},messageSends:["announce:","announcer"]}),smalltalk.RWidget);smalltalk.addMethod(smalltalk.method({selector:"announcer",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@announcer"];if(($receiver=a)==nil||$receiver==undefined){e=_st(t)._initializeAnnouncer()}else{e=a}return e},function(l){l.fill(t,"announcer",{},smalltalk.RWidget)})},messageSends:["ifNil:","initializeAnnouncer"]}),smalltalk.RWidget);smalltalk.addMethod(smalltalk.method({selector:"initializeAnnouncer",fn:function(){var t=this;function l(){return smalltalk.Announcer||(typeof Announcer=="undefined"?nil:Announcer)}return smalltalk.withContext(function(a){var e;t["@announcer"]=_st(l())._new();e=t["@announcer"];return e},function(l){l.fill(t,"initializeAnnouncer",{},smalltalk.RWidget)})},messageSends:["new"]}),smalltalk.RWidget);smalltalk.addMethod(smalltalk.method({selector:"model",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@model"];return a},function(l){l.fill(t,"model",{},smalltalk.RWidget)})},messageSends:[]}),smalltalk.RWidget);smalltalk.addMethod(smalltalk.method({selector:"model:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@model"]=t;return l},function(a){a.fill(l,"model:",{aModel:t},smalltalk.RWidget)})},messageSends:[]}),smalltalk.RWidget);smalltalk.addMethod(smalltalk.method({selector:"on:do:",fn:function(t,l){var a=this;return smalltalk.withContext(function(e){var s;s=_st(_st(a)._announcer())._on_do_(t,l);return s},function(e){e.fill(a,"on:do:",{anAnnouncement:t,aReaction:l},smalltalk.RWidget)})},messageSends:["on:do:","announcer"]}),smalltalk.RWidget);smalltalk.addMethod(smalltalk.method({selector:"for:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=_st(l)._new();_st(e)._model_(t);s=_st(e)._yourself();n=s;return n},function(a){a.fill(l,"for:",{aModel:t},smalltalk.RWidget.klass)})},messageSends:["model:","new","yourself"]}),smalltalk.RWidget.klass);smalltalk.addClass("ListWidget",smalltalk.RWidget,["list","input","items"],"Reactive");smalltalk.addMethod(smalltalk.method({selector:"addTask",fn:function(){var t=this;var l,a;function e(){return smalltalk.RTask||(typeof RTask=="undefined"?nil:RTask)}function s(){return smalltalk.RAddTask||(typeof RAddTask=="undefined"?nil:RAddTask)}function n(){return smalltalk.TaskWidget||(typeof TaskWidget=="undefined"?nil:TaskWidget)}return smalltalk.withContext(function(o){var r,i;r=_st(e())._new();_st(r)._initializeCreatedOn();_st(r)._description_(_st(_st(t["@input"])._asJQuery())._val());i=_st(r)._yourself();l=i;_st(_st(s())._for_in_(l,t["@model"]))._execute();a=_st(n())._for_(l);_st(_st(t)._items())._add_(a);_st(t)._renderTask_(a);_st(t)._updateTasksMetric();return t},function(e){e.fill(t,"addTask",{newTask:l,newTaskWidget:a},smalltalk.ListWidget)})},messageSends:["initializeCreatedOn","new","description:","val","asJQuery","yourself","execute","for:in:","for:","add:","items","renderTask:","updateTasksMetric"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"addTask:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s;_st(t)._saveAndUpdateList_(l["@model"]);a=_st(l)._newTaskFor_(_st(t)._task());_st(_st(l)._items())._add_(a);_st(l)._renderTask_(a);_st(a)._hide();s=_st(l)._isAllOrToDo();if(smalltalk.assert(s)){_st(a)._show()}_st(l)._updateTasksMetric();return l},function(e){e.fill(l,"addTask:",{anAddTask:t,newTaskWidget:a},smalltalk.ListWidget)})},messageSends:["saveAndUpdateList:","newTaskFor:","task","add:","items","renderTask:","hide","ifTrue:","show","isAllOrToDo","updateTasksMetric"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"changeList:",fn:function(t){var l=this;function a(){return smalltalk.HTMLCanvas||(typeof HTMLCanvas=="undefined"?nil:HTMLCanvas)}return smalltalk.withContext(function(e){_st(l)._model_(_st(t)._list());_st(_st(_st(l["@list"])._asJQuery())._children_("li"))._remove();_st(l)._initializeItems();_st(l)._renderItemsOn_(_st(a())._onJQuery_(_st(l["@list"])._asJQuery()));return l},function(a){a.fill(l,"changeList:",{aChageList:t},smalltalk.ListWidget)})},messageSends:["model:","list","remove","children:","asJQuery","initializeItems","renderItemsOn:","onJQuery:"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"changeTask:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s,n,o;a=_st(l)._getTaskWidgetFor_(_st(t)._task());s=a;if(($receiver=s)==nil||$receiver==undefined){s}else{_st(a)._changedTask_(_st(t)._task())}n=_st(l)._isDone();if(smalltalk.assert(n)){_st(a)._showIfDone()}o=_st(l)._isToDo();if(smalltalk.assert(o)){_st(a)._showIfToDo()}_st(l)._updateTasksMetric();return l},function(e){e.fill(l,"changeTask:",{aChangeTask:t,changedTask:a},smalltalk.ListWidget)})},messageSends:["getTaskWidgetFor:","task","ifNotNil:","changedTask:","ifTrue:","showIfDone","isDone","showIfToDo","isToDo","updateTasksMetric"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"currentTaskIds",fn:function(){var t=this;var l,a;function e(){return smalltalk.OrderedCollection||(typeof OrderedCollection=="undefined"?nil:OrderedCollection)}return smalltalk.withContext(function(s){var n;l=_st(_st(t["@list"])._asJQuery())._children();a=_st(e())._new();_st(0)._to_do_(_st(_st(l)._length()).__minus(1),function(t){return smalltalk.withContext(function(e){return _st(a)._add_(_st(_st(l)._at_(t))._id())},function(l){l.fillBlock({i:t},s)})});n=a;return n},function(e){e.fill(t,"currentTaskIds",{children:l,elements:a},smalltalk.ListWidget)})},messageSends:["children","asJQuery","new","to:do:","-","length","add:","id","at:"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"getAll",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._items();return a},function(l){l.fill(t,"getAll",{},smalltalk.ListWidget)})},messageSends:["items"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"getDone",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._getAll())._select_(function(t){return smalltalk.withContext(function(l){return _st(t)._isCompleted()},function(a){a.fillBlock({e:t},l)})});return a},function(l){l.fill(t,"getDone",{},smalltalk.ListWidget)})},messageSends:["select:","isCompleted","getAll"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"getTaskAt:",fn:function(t){var l=this;function a(){return smalltalk.MaplessModel||(typeof MaplessModel=="undefined"?nil:MaplessModel)}return smalltalk.withContext(function(l){var e;e=_st(a())._localLoadAt_(t);return e},function(a){a.fill(l,"getTaskAt:",{anId:t},smalltalk.ListWidget)})},messageSends:["localLoadAt:"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"getTaskWidgetFor:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(l)._items())._detect_ifNone_(function(l){return smalltalk.withContext(function(a){return _st(_st(_st(l)._model())._id()).__eq(_st(t)._id())},function(t){t.fillBlock({e:l},a)})},function(){return smalltalk.withContext(function(t){return nil},function(t){t.fillBlock({},a)})});return e},function(a){a.fill(l,"getTaskWidgetFor:",{aTask:t},smalltalk.ListWidget)})},messageSends:["detect:ifNone:","=","id","model","items"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"getTasks",fn:function(){var t=this;function l(){return smalltalk.JSON||(typeof JSON=="undefined"?nil:JSON)}function a(){return smalltalk.RTask||(typeof RTask=="undefined"?nil:RTask)}return smalltalk.withContext(function(e){var s,n;n=_st(_st(t["@model"])._tasks())._collect_(function(n){return smalltalk.withContext(function(e){s=_st(n)._isString();if(smalltalk.assert(s)){return _st(t)._getTaskAt_(n)}else{return _st(a())._fromJsonString_(_st(l())._stringify_(n))}},function(t){t.fillBlock({each:n},e)})});return n},function(l){l.fill(t,"getTasks",{},smalltalk.ListWidget)})},messageSends:["collect:","ifTrue:ifFalse:","getTaskAt:","fromJsonString:","stringify:","isString","tasks"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"getToDo",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._getAll())._reject_(function(t){return smalltalk.withContext(function(l){return _st(t)._isCompleted()},function(a){a.fillBlock({e:t},l)})});return a},function(l){l.fill(t,"getToDo",{},smalltalk.ListWidget)})},messageSends:["reject:","isCompleted","getAll"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"initializeItems",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;t["@items"]=_st(t)._makeItems();a=t["@items"];return a},function(l){l.fill(t,"initializeItems",{},smalltalk.ListWidget)})},messageSends:["makeItems"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"isAll",fn:function(){var t=this;return smalltalk.withContext(function(t){var l;l=_st(_st("#all")._asJQuery())._is_(".selectedTab");return l},function(l){l.fill(t,"isAll",{},smalltalk.ListWidget)})},messageSends:["is:","asJQuery"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"isAllOrToDo",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._isAll())._or_(function(){return smalltalk.withContext(function(l){return _st(t)._isToDo()},function(t){t.fillBlock({},l)})});return a},function(l){l.fill(t,"isAllOrToDo",{},smalltalk.ListWidget)})},messageSends:["or:","isToDo","isAll"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"isDone",fn:function(){var t=this;return smalltalk.withContext(function(t){var l;l=_st(_st("#done")._asJQuery())._is_(".selectedTab");return l},function(l){l.fill(t,"isDone",{},smalltalk.ListWidget)})},messageSends:["is:","asJQuery"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"isToDo",fn:function(){var t=this;return smalltalk.withContext(function(t){var l;l=_st(_st("#todo")._asJQuery())._is_(".selectedTab");return l},function(l){l.fill(t,"isToDo",{},smalltalk.ListWidget)})},messageSends:["is:","asJQuery"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"items",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@items"];if(($receiver=a)==nil||$receiver==undefined){e=_st(t)._initializeItems()}else{e=a}return e},function(l){l.fill(t,"items",{},smalltalk.ListWidget)})},messageSends:["ifNil:","initializeItems"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"makeItems",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._getTasks())._collect_(function(a){return smalltalk.withContext(function(l){return _st(t)._newTaskFor_(a)},function(t){t.fillBlock({e:a},l)})});return a},function(l){l.fill(t,"makeItems",{},smalltalk.ListWidget)})},messageSends:["collect:","newTaskFor:","getTasks"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"newTaskFor:",fn:function(t){var l=this;function a(){return smalltalk.RTaskChanged||(typeof RTaskChanged=="undefined"?nil:RTaskChanged)}function e(){return smalltalk.TaskWidget||(typeof TaskWidget=="undefined"?nil:TaskWidget)}function s(){return smalltalk.RTaskRemoved||(typeof RTaskRemoved=="undefined"?nil:RTaskRemoved)}return smalltalk.withContext(function(n){var o,r,i;o=_st(e())._for_(t);_st(o)._on_do_(a(),function(t){return smalltalk.withContext(function(a){return _st(l)._onTaskChanged_(t)},function(l){l.fillBlock({ann:t},n)})});_st(o)._on_do_(s(),function(t){return smalltalk.withContext(function(a){return _st(l)._onTaskRemove_(t)},function(l){l.fillBlock({ann:t},n)})});r=_st(o)._yourself();i=r;return i},function(a){a.fill(l,"newTaskFor:",{aTaskModel:t},smalltalk.ListWidget)})},messageSends:["on:do:","onTaskChanged:","for:","onTaskRemove:","yourself"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"onAdd",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(_st(_st(t["@input"])._asJQuery())._val())._isNil())._or_(function(){return smalltalk.withContext(function(l){return _st(_st(_st(t["@input"])._asJQuery())._val())._isEmpty()},function(t){t.fillBlock({},l)})});if(!smalltalk.assert(a)){_st(t)._addTask();_st(_st(t["@input"])._asJQuery())._val_("");_st(_st(t["@input"])._asJQuery())._focus()}return t},function(l){l.fill(t,"onAdd",{},smalltalk.ListWidget)})},messageSends:["ifFalse:","addTask","val:","asJQuery","focus","or:","isEmpty","val","isNil"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"onAllTasks",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st(t)._items())._do_(function(t){return smalltalk.withContext(function(l){return _st(t)._show()},function(a){a.fillBlock({e:t},l)})});_st(t)._unselectTabs();_st(_st("#all")._asJQuery())._addClass_("selectedTab");_st(t)._updateTasksMetric();return t},function(l){l.fill(t,"onAllTasks",{},smalltalk.ListWidget)})},messageSends:["do:","show","items","unselectTabs","addClass:","asJQuery","updateTasksMetric"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"onDoneTasks",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st(t)._items())._do_(function(t){return smalltalk.withContext(function(l){return _st(t)._showIfDone()},function(a){a.fillBlock({e:t},l)})});_st(t)._unselectTabs();_st(_st("#done")._asJQuery())._addClass_("selectedTab");_st(t)._updateTasksMetric();return t},function(l){l.fill(t,"onDoneTasks",{},smalltalk.ListWidget)})},messageSends:["do:","showIfDone","items","unselectTabs","addClass:","asJQuery","updateTasksMetric"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"onKeyUp:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(t)._keyCode()).__eq(13);if(smalltalk.assert(e)){_st(l)._onAdd()}return l},function(a){a.fill(l,"onKeyUp:",{e:t},smalltalk.ListWidget)})},messageSends:["ifTrue:","onAdd","=","keyCode"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"onSorted:",fn:function(t){var l=this;function a(){return smalltalk.RChangeList||(typeof RChangeList=="undefined"?nil:RChangeList)}function e(){return smalltalk.RTasksSorted||(typeof RTasksSorted=="undefined"?nil:RTasksSorted)}return smalltalk.withContext(function(t){_st(l["@model"])._tasks_(_st(l)._currentTaskIds());_st(_st(a())._for_(l["@model"]))._execute();_st(l)._announce_(_st(e())._for_(l));return l},function(a){a.fill(l,"onSorted:",{anEvent:t},smalltalk.ListWidget)})},messageSends:["tasks:","currentTaskIds","execute","for:","announce:"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"onTaskChanged:",fn:function(t){var l=this;return smalltalk.withContext(function(t){_st(l)._updateTasksMetric();return l},function(a){a.fill(l,"onTaskChanged:",{ann:t},smalltalk.ListWidget)})},messageSends:["updateTasksMetric"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"onTaskRemove:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l["@model"])._removeTask_(_st(_st(_st(t)._subject())._model())._id());_st(l["@model"])._localSave();return l},function(a){a.fill(l,"onTaskRemove:",{ann:t},smalltalk.ListWidget)})},messageSends:["removeTask:","id","model","subject","localSave"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"onToDoTasks",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st(t)._items())._do_(function(t){return smalltalk.withContext(function(l){return _st(t)._showIfToDo()},function(a){a.fillBlock({e:t},l)})});_st(t)._unselectTabs();_st(_st("#todo")._asJQuery())._addClass_("selectedTab");_st(t)._updateTasksMetric();return t},function(l){l.fill(t,"onToDoTasks",{},smalltalk.ListWidget)})},messageSends:["do:","showIfToDo","items","unselectTabs","addClass:","asJQuery","updateTasksMetric"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"removeTask:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s;a=_st(l)._getTaskWidgetFor_(_st(t)._task());_st(t)._removeAndUpdateList_(l["@model"]);s=a;if(($receiver=s)==nil||$receiver==undefined){s}else{_st(a)._remove();_st(_st(l)._items())._remove_ifAbsent_(a,function(){return smalltalk.withContext(function(t){return nil},function(t){t.fillBlock({},e)})})}_st(l)._updateTasksMetric();return l},function(e){e.fill(l,"removeTask:",{aRemoveTask:t,removedTask:a},smalltalk.ListWidget)})},messageSends:["getTaskWidgetFor:","task","removeAndUpdateList:","ifNotNil:","remove","remove:ifAbsent:","items","updateTasksMetric"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"render",fn:function(){var t=this;function l(){return smalltalk.HTMLCanvas||(typeof HTMLCanvas=="undefined"?nil:HTMLCanvas)}return smalltalk.withContext(function(a){_st(t)._renderOn_(_st(l())._onJQuery_(_st("#wrapper")._asJQuery()));_st(_st("#wrapper")._asJQuery())._css_val_("min-height","50px");return t},function(l){l.fill(t,"render",{},smalltalk.ListWidget)})},messageSends:["renderOn:","onJQuery:","asJQuery","css:val:"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"renderAddTaskOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n,o,r,i,m,u;e=_st(t)._div();_st(e)._class_("addTaskWrapper");u=_st(e)._with_(function(){return smalltalk.withContext(function(e){s=_st(t)._div();_st(s)._id_("addTask");m=_st(s)._with_(function(){return smalltalk.withContext(function(e){n=_st(t)._input();_st(n)._at_put_("placeholder","Something else to get done?");_st(n)._onKeyUp_(function(t){return smalltalk.withContext(function(a){return _st(l)._onKeyUp_(t)},function(l){l.fillBlock({e:t},a)})});o=_st(n)._yourself();l["@input"]=o;l["@input"];r=_st(t)._a();_st(r)._id_("addTaskButton");_st(r)._onClick_(function(){return smalltalk.withContext(function(t){return _st(l)._onAdd()},function(t){t.fillBlock({},a)})});i=_st(r)._with_("+");return i},function(t){t.fillBlock({},a)})});return m},function(t){t.fillBlock({},a)})});return l},function(a){a.fill(l,"renderAddTaskOn:",{html:t},smalltalk.ListWidget)})},messageSends:["class:","div","with:","id:","at:put:","input","onKeyUp:","yourself","a","onClick:","onAdd"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"renderItemsOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;_st(l["@list"])._with_(function(){return smalltalk.withContext(function(n){return _st(_st(l)._items())._do_(function(n){return smalltalk.withContext(function(a){_st(n)._renderOn_(t);e=_st(l)._isDone();if(smalltalk.assert(e)){_st(n)._showIfDone()}s=_st(l)._isToDo();if(smalltalk.assert(s)){return _st(n)._showIfToDo()}},function(t){t.fillBlock({e:n},a)})})},function(t){t.fillBlock({},a)})});return l},function(a){a.fill(l,"renderItemsOn:",{html:t},smalltalk.ListWidget)})},messageSends:["with:","do:","renderOn:","ifTrue:","showIfDone","isDone","showIfToDo","isToDo","items"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"renderListHeaderOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n,o,r,i;e=_st(t)._div();_st(e)._id_("listHeader");i=_st(e)._with_(function(){return smalltalk.withContext(function(e){s=_st(t)._div();_st(s)._id_("listName");n=_st(s)._with_(_st(l["@model"])._name());n;o=_st(t)._div();_st(o)._id_("details");r=_st(o)._with_(function(){return smalltalk.withContext(function(a){_st(l)._renderMetricsOn_(t);return _st(l)._renderTabsOn_(t)},function(t){t.fillBlock({},a)})});return r},function(t){t.fillBlock({},a)})});return l},function(a){a.fill(l,"renderListHeaderOn:",{html:t},smalltalk.ListWidget)})},messageSends:["id:","div","with:","name","renderMetricsOn:","renderTabsOn:"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"renderListOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){l["@list"]=_st(t)._ul();_st(_st(l["@list"])._asJQuery())._disableSelection();_st(_st(l["@list"])._asJQuery())._sortable_(smalltalk.HashedCollection._fromPairs_([_st("update").__minus_gt(function(t,e){return smalltalk.withContext(function(a){return _st(l)._onSorted_(t)},function(l){l.fillBlock({e:t,ui:e},a)})})]));_st(l)._renderItemsOn_(t);return l},function(a){a.fill(l,"renderListOn:",{html:t},smalltalk.ListWidget)})},messageSends:["ul","disableSelection","asJQuery","sortable:","->","onSorted:","renderItemsOn:"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"renderMetricsOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n,o,r,i;e=_st(t)._div();_st(e)._id_("metrics");i=_st(e)._with_(function(){return smalltalk.withContext(function(l){s=_st(t)._span();_st(s)._id_("tasks");n=_st(s)._with_("x tasks");n;o=_st(t)._span();_st(o)._id_("clients");r=_st(o)._with_("1 guy (you)");return r},function(t){t.fillBlock({},a)})});return l},function(a){a.fill(l,"renderMetricsOn:",{html:t},smalltalk.ListWidget)})},messageSends:["id:","div","with:","span"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"renderOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;e=_st(t)._div();_st(e)._id_("listWrapper");s=_st(e)._with_(function(){return smalltalk.withContext(function(a){return _st(l)._renderListHeaderOn_(t)},function(t){t.fillBlock({},a)})});_st(l)._renderListOn_(t);_st(l)._renderAddTaskOn_(t);_st(l)._onAllTasks();return l},function(a){a.fill(l,"renderOn:",{html:t},smalltalk.ListWidget)})},messageSends:["id:","div","with:","renderListHeaderOn:","renderListOn:","renderAddTaskOn:","onAllTasks"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"renderTabsOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n,o,r,i;e=_st(t)._div();_st(e)._id_("done");_st(e)._class_("tab");_st(e)._onClick_(function(){return smalltalk.withContext(function(t){return _st(l)._onDoneTasks()},function(t){t.fillBlock({},a)})});s=_st(e)._with_(function(){return smalltalk.withContext(function(l){return _st(t)._span_("Done")},function(t){t.fillBlock({},a)})});n=_st(t)._div();_st(n)._id_("todo");_st(n)._class_("tab");_st(n)._onClick_(function(){return smalltalk.withContext(function(t){return _st(l)._onToDoTasks()},function(t){t.fillBlock({},a)})});o=_st(n)._with_(function(){return smalltalk.withContext(function(l){return _st(t)._span_("To-Do")},function(t){t.fillBlock({},a)})});r=_st(t)._div();_st(r)._id_("all");_st(r)._onClick_(function(){return smalltalk.withContext(function(t){return _st(l)._onAllTasks()},function(t){t.fillBlock({},a)})});_st(r)._class_("tab");i=_st(r)._with_(function(){return smalltalk.withContext(function(l){return _st(t)._span_("All")},function(t){t.fillBlock({},a)})});return l},function(a){a.fill(l,"renderTabsOn:",{html:t},smalltalk.ListWidget)})},messageSends:["id:","div","class:","onClick:","onDoneTasks","with:","span:","onToDoTasks","onAllTasks"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"renderTask:",fn:function(t){var l=this;var a;function e(){return smalltalk.HTMLCanvas||(typeof HTMLCanvas=="undefined"?nil:HTMLCanvas)}return smalltalk.withContext(function(s){a=_st(e())._onJQuery_(_st(l["@list"])._asJQuery());_st(t)._renderOn_(a);return l},function(e){e.fill(l,"renderTask:",{aTaskWidget:t,html:a},smalltalk.ListWidget)})},messageSends:["onJQuery:","asJQuery","renderOn:"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"unselectTabs",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st(_st("#details")._asJQuery())._find_(".tab"))._removeClass_("selectedTab");return t},function(l){l.fill(t,"unselectTabs",{},smalltalk.ListWidget)})},messageSends:["removeClass:","find:","asJQuery"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"updateAllTasksMetric",fn:function(){var t=this;var l;return smalltalk.withContext(function(a){var e,s,n;l=_st(_st(t)._getAll())._size();e=_st(l)._isZero();if(smalltalk.assert(e)){s=_st(_st("#tasks")._asJQuery())._text_("Life is too short for no doing it!");return s}n=_st(l).__gt(1);if(smalltalk.assert(n)){_st(_st("#tasks")._asJQuery())._text_(_st(_st(l)._asString()).__comma(" tasks total"))}else{_st(_st("#tasks")._asJQuery())._text_("only 1 task!")}return t},function(a){a.fill(t,"updateAllTasksMetric",{many:l},smalltalk.ListWidget)})},messageSends:["size","getAll","ifTrue:","text:","asJQuery","isZero","ifTrue:ifFalse:",",","asString",">"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"updateDoneTasksMetric",fn:function(){var t=this;var l;return smalltalk.withContext(function(a){var e,s,n,o,r;l=_st(_st(t)._getDone())._size();e=_st(l)._isZero();if(smalltalk.assert(e)){s=_st(_st("#tasks")._asJQuery())._text_("Come on! let's ship something!");return s}n=_st(_st(_st(t)._getAll())._size()).__eq(l);if(smalltalk.assert(n)){o=_st(_st("#tasks")._asJQuery())._text_(_st(_st(l)._asString()).__comma(" tasks done, OMG it's all done!"));return o}r=_st(l).__gt(1);if(smalltalk.assert(r)){_st(_st("#tasks")._asJQuery())._text_(_st(_st(l)._asString()).__comma(" tasks done"))}else{_st(_st("#tasks")._asJQuery())._text_("only 1 task done")}return t},function(a){a.fill(t,"updateDoneTasksMetric",{many:l},smalltalk.ListWidget)})},messageSends:["size","getDone","ifTrue:","text:","asJQuery","isZero",",","asString","=","getAll","ifTrue:ifFalse:",">"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"updateTasksMetric",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e,s,n,o,r;a=_st(t)._isDone();if(smalltalk.assert(a)){e=_st(t)._updateDoneTasksMetric();return e}s=_st(t)._isToDo();if(smalltalk.assert(s)){n=_st(t)._updateToDoTasksMetric();return n}o=_st(t)._isAll();if(smalltalk.assert(o)){r=_st(t)._updateAllTasksMetric();return r}return t},function(l){l.fill(t,"updateTasksMetric",{},smalltalk.ListWidget)})},messageSends:["ifTrue:","updateDoneTasksMetric","isDone","updateToDoTasksMetric","isToDo","updateAllTasksMetric","isAll"]}),smalltalk.ListWidget);smalltalk.addMethod(smalltalk.method({selector:"updateToDoTasksMetric",fn:function(){var t=this;var l;return smalltalk.withContext(function(a){var e,s,n;l=_st(_st(t)._getToDo())._size();e=_st(l)._isZero();if(smalltalk.assert(e)){s=_st(_st("#tasks")._asJQuery())._text_("Let's do something?");return s}n=_st(l).__gt(1);if(smalltalk.assert(n)){_st(_st("#tasks")._asJQuery())._text_(_st(_st(l)._asString()).__comma(" tasks to do"))}else{_st(_st("#tasks")._asJQuery())._text_("only 1 task to do")}return t},function(a){a.fill(t,"updateToDoTasksMetric",{many:l},smalltalk.ListWidget)})},messageSends:["size","getToDo","ifTrue:","text:","asJQuery","isZero","ifTrue:ifFalse:",",","asString",">"]}),smalltalk.ListWidget);smalltalk.addClass("ReactiveWidget",smalltalk.RWidget,["list","session"],"Reactive");smalltalk.addMethod(smalltalk.method({selector:"addTask:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._list())._addTask_(t);return l},function(a){a.fill(l,"addTask:",{anAddTask:t},smalltalk.ReactiveWidget)})},messageSends:["addTask:","list"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"changeClients:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s;a=_st(t)._clients();s=_st(a).__gt(1);if(smalltalk.assert(s)){_st(_st("#clients")._asJQuery())._text_(_st(_st(a)._asString()).__comma(" guys"))}else{_st(_st("#clients")._asJQuery())._text_("1 guy (you)")}_st(_st("#clients")._asJQuery())._effect_op_duration_("pulsate",smalltalk.HashedCollection._fromPairs_([_st("times").__minus_gt(3)]),500);return l},function(e){e.fill(l,"changeClients:",{aChangeClients:t,clients:a},smalltalk.ReactiveWidget)})},messageSends:["clients","ifTrue:ifFalse:","text:",",","asString","asJQuery",">","effect:op:duration:","->"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"changeList:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._list())._changeList_(t);return l},function(a){a.fill(l,"changeList:",{aChageList:t},smalltalk.ReactiveWidget)
})},messageSends:["changeList:","list"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"changeTask:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._list())._changeTask_(t);return l},function(a){a.fill(l,"changeTask:",{aChangeTask:t},smalltalk.ReactiveWidget)})},messageSends:["changeTask:","list"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"getListAt:",fn:function(t){var l=this;function a(){return smalltalk.MaplessModel||(typeof MaplessModel=="undefined"?nil:MaplessModel)}return smalltalk.withContext(function(l){var e;e=_st(a())._localLoadAt_(t);return e},function(a){a.fill(l,"getListAt:",{anId:t},smalltalk.ReactiveWidget)})},messageSends:["localLoadAt:"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"hasTip",fn:function(){var t=this;return smalltalk.withContext(function(t){var l;l=_st(_st(_st(window)._localStorage())._getItem_("showTipAtStart"))._isNil();return l},function(l){l.fill(t,"hasTip",{},smalltalk.ReactiveWidget)})},messageSends:["isNil","getItem:","localStorage"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"initializeListDo:",fn:function(t){var l=this;function a(){return smalltalk.ListWidget||(typeof ListWidget=="undefined"?nil:ListWidget)}function e(){return smalltalk.JSON||(typeof JSON=="undefined"?nil:JSON)}function s(){return smalltalk.RTask||(typeof RTask=="undefined"?nil:RTask)}function n(){return smalltalk.RList||(typeof RList=="undefined"?nil:RList)}function o(){return smalltalk.RTasksSorted||(typeof RTasksSorted=="undefined"?nil:RTasksSorted)}function r(){return smalltalk.RTaskRemoved||(typeof RTaskRemoved=="undefined"?nil:RTaskRemoved)}return smalltalk.withContext(function(i){var m,u,c;l["@list"]=_st(a())._new();_st(n())._atId_do_("95faef2d-ffc8-4444-d2c7-3e9bbf97c415",function(a){return smalltalk.withContext(function(n){_st(l["@list"])._model_(a);_st(_st(a)._tasks())._do_(function(t){return smalltalk.withContext(function(l){return _st(_st(s())._fromJsonString_(_st(e())._stringify_(t)))._localSave()},function(l){l.fillBlock({each:t},i)})});return _st(t)._value()},function(t){t.fillBlock({aList:a},i)})});m=l["@list"];_st(m)._on_do_(o(),function(t){return smalltalk.withContext(function(a){return _st(l)._onListChanged_(t)},function(l){l.fillBlock({ann:t},i)})});_st(m)._on_do_(r(),function(t){return smalltalk.withContext(function(a){return _st(l)._onTaskRemoved_(t)},function(l){l.fillBlock({ann:t},i)})});u=_st(m)._yourself();c=u;return c},function(a){a.fill(l,"initializeListDo:",{aBlock:t},smalltalk.ReactiveWidget)})},messageSends:["new","atId:do:","model:","do:","localSave","fromJsonString:","stringify:","tasks","value","on:do:","onListChanged:","onTaskRemoved:","yourself"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"initializeSession",fn:function(){var t=this;function l(){return smalltalk.RSession||(typeof RSession=="undefined"?nil:RSession)}return smalltalk.withContext(function(a){var e;t["@session"]=_st(l())._new();e=t["@session"];return e},function(l){l.fill(t,"initializeSession",{},smalltalk.ReactiveWidget)})},messageSends:["new"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"isLocalhost",fn:function(){var t=this;return smalltalk.withContext(function(t){var l;l=_st(_st(_st(window)._location())._hostname())._match_("localhost");return l},function(l){l.fill(t,"isLocalhost",{},smalltalk.ReactiveWidget)})},messageSends:["match:","hostname","location"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"isProduction",fn:function(){var t=this;function l(){return smalltalk.Browser||(typeof Browser=="undefined"?nil:Browser)}return smalltalk.withContext(function(t){var a;a=_st(l())._isNil();return a},function(l){l.fill(t,"isProduction",{},smalltalk.ReactiveWidget)})},messageSends:["isNil"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"isPublished",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._isLocalhost())._not();return a},function(l){l.fill(t,"isPublished",{},smalltalk.ReactiveWidget)})},messageSends:["not","isLocalhost"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"isSociallyLoggedIn",fn:function(){var t=this;return smalltalk.withContext(function(t){return false},function(l){l.fill(t,"isSociallyLoggedIn",{},smalltalk.ReactiveWidget)})},messageSends:[]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"list",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=t["@list"];return a},function(l){l.fill(t,"list",{},smalltalk.ReactiveWidget)})},messageSends:[]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"listDo:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;e=l["@list"];s=_st(e)._ifNil_ifNotNil_(function(){return smalltalk.withContext(function(a){return _st(l)._initializeListDo_(t)},function(t){t.fillBlock({},a)})},t);return s},function(a){a.fill(l,"listDo:",{aBlock:t},smalltalk.ReactiveWidget)})},messageSends:["ifNil:ifNotNil:","initializeListDo:"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"loadFacebookSDK",fn:function(){var t=this;return smalltalk.withContext(function(l){(function(t,l,a){var e,s=t.getElementsByTagName(l)[0];if(t.getElementById(a)){return}e=t.createElement(l);e.id=a;e.src="//connect.facebook.net/en_US/all.js";s.parentNode.insertBefore(e,s)})(document,"script","facebook-jssdk");return t},function(l){l.fill(t,"loadFacebookSDK",{},smalltalk.ReactiveWidget)})},messageSends:[]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"onGotIt",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st(window)._localStorage())._setItem_put_("showTipAtStart",false);return t},function(l){l.fill(t,"onGotIt",{},smalltalk.ReactiveWidget)})},messageSends:["setItem:put:","localStorage"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"onListChanged:",fn:function(t){var l=this;return smalltalk.withContext(function(t){return l},function(a){a.fill(l,"onListChanged:",{ann:t},smalltalk.ReactiveWidget)})},messageSends:[]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"onNay",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st(window)._asJQuery())._scrollTop_(0);_st(_st("#nayWrapper")._asJQuery())._slideDown_(smalltalk.HashedCollection._fromPairs_([_st("complete").__minus_gt(function(){return smalltalk.withContext(function(t){return _st(_st(_st("#feedback")._asJQuery())._find_("textarea"))._focus()},function(t){t.fillBlock({},l)})})]));return t},function(l){l.fill(t,"onNay",{},smalltalk.ReactiveWidget)})},messageSends:["scrollTop:","asJQuery","slideDown:","->","focus","find:"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"onNayKeyUp:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;e=_st(_st(t)._keyCode()).__eq(27);if(smalltalk.assert(e)){_st(_st("#nayWrapper")._asJQuery())._slideUp()}s=_st(_st(t)._keyCode()).__eq(13);if(smalltalk.assert(s)){_st(l)._onOkNay()}return l},function(a){a.fill(l,"onNayKeyUp:",{e:t},smalltalk.ReactiveWidget)})},messageSends:["ifTrue:","slideUp","asJQuery","=","keyCode","onOkNay"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"onNayTextAreaKeyUp:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;e=_st(_st(t)._keyCode()).__eq(27);if(smalltalk.assert(e)){_st(_st("#nayWrapper")._asJQuery())._slideUp()}return l},function(a){a.fill(l,"onNayTextAreaKeyUp:",{e:t},smalltalk.ReactiveWidget)})},messageSends:["ifTrue:","slideUp","asJQuery","=","keyCode"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"onOkNay",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st("#nayWrapper")._asJQuery())._slideUp();_st(t)._sendFeedback();return t},function(l){l.fill(t,"onOkNay",{},smalltalk.ReactiveWidget)})},messageSends:["slideUp","asJQuery","sendFeedback"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"onOkYay",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st("#yayWrapper")._asJQuery())._slideUp();_st(t)._sendEmail();return t},function(l){l.fill(t,"onOkYay",{},smalltalk.ReactiveWidget)})},messageSends:["slideUp","asJQuery","sendEmail"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"onOpen",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st("#loader")._asJQuery())._remove();_st(_st(window)._document())._title_("Let's do this!");_st(window)._at_put_("app",t);_st(_st(t)._session())._onOpen();_st(t)._model_(_st(_st(t)._session())._user());return t},function(l){l.fill(t,"onOpen",{},smalltalk.ReactiveWidget)})},messageSends:["remove","asJQuery","title:","document","at:put:","onOpen","session","model:","user"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"onTaskRemoved:",fn:function(t){var l=this;return smalltalk.withContext(function(t){return l},function(a){a.fill(l,"onTaskRemoved:",{ann:t},smalltalk.ReactiveWidget)})},messageSends:[]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"onYay",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st(window)._asJQuery())._scrollTop_(0);_st(_st("#yayWrapper")._asJQuery())._slideDown_(smalltalk.HashedCollection._fromPairs_([_st("complete").__minus_gt(function(){return smalltalk.withContext(function(t){return _st(_st("#yayEmail")._asJQuery())._focus()},function(t){t.fillBlock({},l)})})]));return t},function(l){l.fill(t,"onYay",{},smalltalk.ReactiveWidget)})},messageSends:["scrollTop:","asJQuery","slideDown:","->","focus"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"onYayKeyUp:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;e=_st(_st(t)._keyCode()).__eq(27);if(smalltalk.assert(e)){_st(_st("#yayWrapper")._asJQuery())._slideUp()}s=_st(_st(t)._keyCode()).__eq(13);if(smalltalk.assert(s)){_st(l)._onOkYay()}return l},function(a){a.fill(l,"onYayKeyUp:",{e:t},smalltalk.ReactiveWidget)})},messageSends:["ifTrue:","slideUp","asJQuery","=","keyCode","onOkYay"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"open",fn:function(){var t=this;var l;function a(){return smalltalk.HTMLCanvas||(typeof HTMLCanvas=="undefined"?nil:HTMLCanvas)}function e(){return smalltalk.RChangeClients||(typeof RChangeClients=="undefined"?nil:RChangeClients)}return smalltalk.withContext(function(s){l=_st(a())._onJQuery_(_st("body")._asJQuery());_st(t)._onOpen();_st(_st(_st(t)._session())._api())._onOpen_(function(){return smalltalk.withContext(function(a){_st(t)._renderOn_(l);return _st(function(){return smalltalk.withContext(function(t){return _st(_st(e())._new())._execute()},function(t){t.fillBlock({},s)})})._valueWithTimeout_(100)},function(t){t.fillBlock({},s)})});_st(_st(_st(t)._session())._api())._open();return t},function(a){a.fill(t,"open",{html:l},smalltalk.ReactiveWidget)})},messageSends:["onJQuery:","asJQuery","onOpen","onOpen:","renderOn:","valueWithTimeout:","execute","new","api","session","open"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"openBrowser",fn:function(){var t=this;function l(){return smalltalk.Browser||(typeof Browser=="undefined"?nil:Browser)}return smalltalk.withContext(function(a){_st(l())._open();return t},function(l){l.fill(t,"openBrowser",{},smalltalk.ReactiveWidget)})},messageSends:["open"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"removeTask:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(_st(l)._list())._removeTask_(t);return l},function(a){a.fill(l,"removeTask:",{aRemoveTask:t},smalltalk.ReactiveWidget)})},messageSends:["removeTask:","list"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"renderAmberOn:",fn:function(t){var l=this;var a;function e(){return smalltalk.HTMLCanvas||(typeof HTMLCanvas=="undefined"?nil:HTMLCanvas)}return smalltalk.withContext(function(t){var s,n;a=_st(e())._onJQuery_(_st("#header")._asJQuery());s=_st(a)._a();_st(s)._id_("ide");_st(s)._onClick_(function(){return smalltalk.withContext(function(t){return _st(l)._openBrowser()},function(l){l.fillBlock({},t)})});n=_st(s)._with_("IDE");return l},function(e){e.fill(l,"renderAmberOn:",{html:t,canvas:a},smalltalk.ReactiveWidget)})},messageSends:["onJQuery:","asJQuery","id:","a","onClick:","openBrowser","with:"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"renderFacebookLikeOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;e=_st(t)._div();_st(e)._class_("fb-like");_st(e)._at_put_("data-send","true");_st(e)._at_put_("data-width","450");_st(e)._at_put_("data-show-faces","true");s=_st(e)._yourself();return l},function(a){a.fill(l,"renderFacebookLikeOn:",{html:t},smalltalk.ReactiveWidget)})},messageSends:["class:","div","at:put:","yourself"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"renderFooterOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n,o,r,i,m,u,c,d,f,k,_,h,g,v,C,S,p,w,x,M;e=_st(t)._div();_st(e)._id_("footer");M=_st(e)._with_(function(){return smalltalk.withContext(function(e){_st(l)._renderSocialLoginOn_(t);_st(l)._renderLikeOn_(t);s=_st(t)._img();_st(s)._class_("vignette");n=_st(s)._src_("static/img/vignette.png");n;o=_st(t)._p();_st(o)._class_("bgText");m=_st(o)._with_(function(){return smalltalk.withContext(function(l){_st(t)._span_("Written by ");r=_st(t)._a();_st(r)._href_("http://www.linkedin.com/profile/view?id=46055105");_st(r)._target_("_blank");i=_st(r)._with_("Sebastian Sastre");return i},function(t){t.fillBlock({},a)})});m;u=_st(t)._p();_st(u)._class_("bgText");f=_st(u)._with_(function(){return smalltalk.withContext(function(l){_st(t)._span_(" author of ");c=_st(t)._a();_st(c)._class_("bgText");_st(c)._href_("http://airflowing.com");_st(c)._target_("_blank");d=_st(c)._with_("airflowing");return d},function(t){t.fillBlock({},a)})});f;k=_st(t)._p();_st(k)._class_("bgText");C=_st(k)._with_(function(){return smalltalk.withContext(function(l){_=_st(t)._a();_st(_)._href_("http://amber-lang.net");_st(_)._target_("_blank");h=_st(_)._with_("Amber");h;_st(t)._span_(" frontend | ");g=_st(t)._a();_st(g)._href_("http://www.pharo-project.org/");_st(g)._target_("_blank");v=_st(g)._with_("Pharo");v;return _st(t)._span_(" backend")},function(t){t.fillBlock({},a)})});C;S=_st(t)._a();_st(S)._class_("bgText");_st(S)._href_("http://flowingconcept.com");_st(S)._target_("_blank");p=_st(S)._with_("flowing");p;w=_st(t)._p();_st(w)._class_("bgText");x=_st(w)._with_("October 2013");return x},function(t){t.fillBlock({},a)})});return l},function(a){a.fill(l,"renderFooterOn:",{html:t},smalltalk.ReactiveWidget)})},messageSends:["id:","div","with:","renderSocialLoginOn:","renderLikeOn:","class:","img","src:","p","span:","href:","a","target:"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"renderHeaderOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n;e=_st(l)._isProduction();if(smalltalk.assert(e)){return nil}s=_st(t)._div();_st(s)._id_("header");n=_st(s)._with_(function(){return smalltalk.withContext(function(a){return _st(l)._renderAmberOn_(t)},function(t){t.fillBlock({},a)})});return l},function(a){a.fill(l,"renderHeaderOn:",{html:t},smalltalk.ReactiveWidget)})},messageSends:["ifTrue:","isProduction","id:","div","with:","renderAmberOn:"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"renderLikeOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n,o,r,i;e=_st(t)._p();_st(e)._class_("bgText");i=_st(e)._with_(function(){return smalltalk.withContext(function(e){_st(t)._span_("Like ?");s=_st(t)._a();_st(s)._class_("yayNay");_st(s)._onClick_(function(){return smalltalk.withContext(function(t){return _st(l)._onYay()},function(t){t.fillBlock({},a)})});n=_st(s)._with_("Yay!");n;o=_st(t)._a();_st(o)._class_("yayNay");_st(o)._onClick_(function(){return smalltalk.withContext(function(t){return _st(l)._onNay()},function(t){t.fillBlock({},a)})});r=_st(o)._with_("Nay!");return r},function(t){t.fillBlock({},a)})});return l},function(a){a.fill(l,"renderLikeOn:",{html:t},smalltalk.ReactiveWidget)})},messageSends:["class:","p","with:","span:","a","onClick:","onYay","onNay"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"renderListFooterOn:",fn:function(t){var l=this;return smalltalk.withContext(function(t){return l},function(a){a.fill(l,"renderListFooterOn:",{html:t},smalltalk.ReactiveWidget)})},messageSends:[]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"renderListOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;e=_st(t)._div();_st(e)._id_("listLoaderBar");s=_st(e)._with_(function(){return smalltalk.withContext(function(l){return _st(_st(t)._img())._src_("static/img/loaderBar.gif")},function(t){t.fillBlock({},a)})});_st(l)._listDo_(function(){return smalltalk.withContext(function(a){_st(_st("#listLoaderBar")._asJQuery())._remove();_st(_st("#mainTitle")._asJQuery())._text_("Let's do this!");_st(_st(l)._list())._render();return _st(l)._renderListFooterOn_(t)},function(t){t.fillBlock({},a)})});return l},function(a){a.fill(l,"renderListOn:",{html:t},smalltalk.ReactiveWidget)})},messageSends:["id:","div","with:","src:","img","listDo:","remove","asJQuery","text:","render","list","renderListFooterOn:"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"renderNayOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n,o,r,i,m,u,c,d,f,k,_,h,g,v;e=_st(t)._div();_st(e)._id_("nayWrapper");_st(e)._onClick_(function(){return smalltalk.withContext(function(t){return _st(_st("#Wrapper")._asJQuery())._slideUp()},function(t){t.fillBlock({},a)})});v=_st(e)._with_(function(){return smalltalk.withContext(function(e){s=_st(t)._div();_st(s)._id_("nay");g=_st(s)._with_(function(){return smalltalk.withContext(function(e){_st(_st(t)._img())._src_("static/img/ocean.png");n=_st(t)._div();_st(n)._class_("photoCredit");i=_st(n)._with_(function(){return smalltalk.withContext(function(l){o=_st(t)._a();_st(o)._class_("photoCredit");_st(o)._target_("_blank");_st(o)._href_("http://www.flickr.com/photos/milanboers/3506659147");r=_st(o)._with_("Photo by Milan Boers");return r},function(t){t.fillBlock({},a)})});i;_st(_st(t)._h2())._with_("A drop into the ocean...");_st(_st(t)._p())._with_(function(){return smalltalk.withContext(function(l){return _st(t)._span_("...closer to a better world.")},function(t){t.fillBlock({},a)})});m=_st(t)._div();_st(m)._id_("feedback");d=_st(m)._with_(function(){return smalltalk.withContext(function(e){_st(_st(t)._label())._with_("Your qualified feedback might just do that:");u=_st(t)._textarea();_st(u)._onKeyUp_(function(t){return smalltalk.withContext(function(a){return _st(l)._onNayTextAreaKeyUp_(t)},function(l){l.fillBlock({e:t},a)})});_st(u)._at_put_("placeholder","What you did or did not like? What do you think would be nice to have next?");c=_st(u)._yourself();return c},function(t){t.fillBlock({},a)})});d;_st(_st(t)._p())._with_(function(){return smalltalk.withContext(function(e){f=_st(t)._input();_st(f)._id_("nayEmail");_st(f)._at_put_("placeholder","Email for contact? (optional)");_st(f)._onKeyUp_(function(t){return smalltalk.withContext(function(a){return _st(l)._onNayKeyUp_(t)},function(l){l.fillBlock({e:t},a)})});k=_st(f)._yourself();return k},function(t){t.fillBlock({},a)})});_=_st(t)._a();_st(_)._class_("dismiss");_st(_)._onClick_(function(){return smalltalk.withContext(function(t){return _st(l)._onOkNay()},function(t){t.fillBlock({},a)})});h=_st(_)._with_("Ok");return h},function(t){t.fillBlock({},a)})});return g},function(t){t.fillBlock({},a)})});return l},function(a){a.fill(l,"renderNayOn:",{html:t},smalltalk.ReactiveWidget)})},messageSends:["id:","div","onClick:","slideUp","asJQuery","with:","src:","img","class:","a","target:","href:","h2","span:","p","label","onKeyUp:","onNayTextAreaKeyUp:","textarea","at:put:","yourself","input","onNayKeyUp:","onOkNay"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"renderOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;_st(l)._renderHeaderOn_(t);_st(l)._renderTipOn_(t);_st(l)._renderTitleOn_(t);e=_st(t)._div();_st(e)._id_("wrapper");s=_st(e)._with_(function(){return smalltalk.withContext(function(a){return _st(l)._renderListOn_(t)},function(t){t.fillBlock({},a)})});_st(l)._renderFooterOn_(t);_st(l)._renderYayOn_(t);_st(l)._renderNayOn_(t);return l},function(a){a.fill(l,"renderOn:",{html:t},smalltalk.ReactiveWidget)})},messageSends:["renderHeaderOn:","renderTipOn:","renderTitleOn:","id:","div","with:","renderListOn:","renderFooterOn:","renderYayOn:","renderNayOn:"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"renderSocialLoginOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n,o;e=_st(l)._isSociallyLoggedIn();if(smalltalk.assert(e)){return nil}_st(_st(t)._div())._id_("fb-root");s=_st(l)._isPublished();if(smalltalk.assert(s)){_st(_st(_st(_st(l)._session())._social())._facebook())._load()}n=_st(t)._script();_st(n)._at_put_("type","in/Login");o=_st(n)._with_(function(){return smalltalk.withContext(function(l){return _st(t)._with_("Hello!")},function(t){t.fillBlock({},a)})});_st(_st(_st(_st(l)._session())._social())._linkedIn())._renderLoadOn_(t);return l},function(a){a.fill(l,"renderSocialLoginOn:",{html:t},smalltalk.ReactiveWidget)})},messageSends:["ifTrue:","isSociallyLoggedIn","id:","div","load","facebook","social","session","isPublished","at:put:","script","with:","renderLoadOn:","linkedIn"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"renderTipOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n,o,r,i,m;e=_st(l)._hasTip();if(smalltalk.assert(e)){_st(function(){return smalltalk.withContext(function(t){return _st(_st("#tipWrapper")._asJQuery())._slideDown_(smalltalk.HashedCollection._fromPairs_([_st("complete").__minus_gt(_st(function(){return smalltalk.withContext(function(t){return _st(_st("#tipWrapper")._asJQuery())._slideUp()},function(t){t.fillBlock({},a)})})._valueWithTimeout_(8e3))]))},function(t){t.fillBlock({},a)})})._valueWithTimeout_(5e3)}s=_st(t)._div();_st(s)._id_("tipWrapper");_st(s)._onClick_(function(){return smalltalk.withContext(function(t){return _st(_st("#tipWrapper")._asJQuery())._slideUp()},function(t){t.fillBlock({},a)})});m=_st(s)._with_(function(){return smalltalk.withContext(function(e){n=_st(t)._div();_st(n)._id_("tip");i=_st(n)._with_(function(){return smalltalk.withContext(function(e){_st(_st(t)._img())._src_("static/img/manyClients.png");_st(_st(t)._h2())._with_("Connect more devices for extra fun");_st(_st(t)._h2())._with_(":D");_st(_st(t)._p())._with_(function(){return smalltalk.withContext(function(l){return _st(t)._span_("Try dragging, adding and changing tasks.")},function(t){t.fillBlock({},a)})});o=_st(t)._a();_st(o)._class_("dismiss");_st(o)._onClick_(function(){return smalltalk.withContext(function(t){return _st(l)._onGotIt()},function(t){t.fillBlock({},a)})});r=_st(o)._with_("Ok, got it!");return r},function(t){t.fillBlock({},a)})});return i},function(t){t.fillBlock({},a)})});return l},function(a){a.fill(l,"renderTipOn:",{html:t},smalltalk.ReactiveWidget)})},messageSends:["ifTrue:","valueWithTimeout:","slideDown:","->","slideUp","asJQuery","hasTip","id:","div","onClick:","with:","src:","img","h2","span:","p","class:","a","onGotIt"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"renderTitleOn:",fn:function(t){var l=this;return smalltalk.withContext(function(t){_st(_st("#mainTitle")._asJQuery())._text_("Let's do...");return l},function(a){a.fill(l,"renderTitleOn:",{html:t},smalltalk.ReactiveWidget)})},messageSends:["text:","asJQuery"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"renderYayOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n,o,r,i,m,u,c,d,f,k,_,h,g,v;e=_st(t)._div();_st(e)._id_("yayWrapper");_st(e)._onClick_(function(){return smalltalk.withContext(function(t){return _st(_st("#Wrapper")._asJQuery())._slideUp()},function(t){t.fillBlock({},a)})});v=_st(e)._with_(function(){return smalltalk.withContext(function(e){s=_st(t)._div();_st(s)._id_("yay");g=_st(s)._with_(function(){return smalltalk.withContext(function(e){_st(_st(t)._img())._src_("static/img/baby.png");n=_st(t)._div();_st(n)._class_("photoCredit");i=_st(n)._with_(function(){return smalltalk.withContext(function(l){o=_st(t)._a();_st(o)._class_("photoCredit");_st(o)._target_("_blank");_st(o)._href_("http://www.flickr.com/photos/paparutzi/1062532768");r=_st(o)._with_("Photo by Christina Rutz");return r},function(t){t.fillBlock({},a)})});i;_st(_st(t)._h2())._with_("Small...");_st(_st(t)._p())._with_(function(){return smalltalk.withContext(function(l){return _st(t)._span_("...is how things start.")},function(t){t.fillBlock({},a)})});_st(_st(t)._p())._with_(function(){return smalltalk.withContext(function(l){return _st(t)._span_("Are you a doer? This experiment is for something that will help doers and change makers in engaging the right people with their work and make this world a better place to live in.")},function(t){t.fillBlock({},a)})});_st(_st(t)._p())._with_(function(){return smalltalk.withContext(function(l){return _st(t)._span_("Makes sense?")},function(t){t.fillBlock({},a)})});_st(_st(t)._div())._class_("g-plusone");m=_st(t)._p();_st(m)._class_("feedback");d=_st(m)._with_(function(){return smalltalk.withContext(function(l){u=_st(t)._a();_st(u)._href_("https://docs.google.com/forms/d/17cVwbIWz72C2T4nKrfVGQLP4zf8JGomyp6zJ2_mGspk/viewform");_st(u)._target_("_blank");c=_st(u)._with_("This");c;return _st(t)._span_("3 question poll will also help us help you!")},function(t){t.fillBlock({},a)})});d;_st(_st(t)._p())._with_(function(){return smalltalk.withContext(function(e){return _st(_st(t)._label())._with_(function(){return smalltalk.withContext(function(e){_st(t)._p_(function(){return smalltalk.withContext(function(l){_st(t)._span_("Want an ");_st(t)._strong_("early invite");return _st(t)._span_("?")},function(t){t.fillBlock({},a)})});f=_st(t)._input();_st(f)._id_("yayEmail");_st(f)._at_put_("placeholder","Enter your email");_st(f)._onKeyUp_(function(t){return smalltalk.withContext(function(a){return _st(l)._onYayKeyUp_(t)},function(l){l.fillBlock({e:t},a)})});k=_st(f)._yourself();return k},function(t){t.fillBlock({},a)})})},function(t){t.fillBlock({},a)})});_=_st(t)._a();_st(_)._class_("dismiss");_st(_)._onClick_(function(){return smalltalk.withContext(function(t){return _st(l)._onOkYay()},function(t){t.fillBlock({},a)})});h=_st(_)._with_("Ok");return h},function(t){t.fillBlock({},a)})});return g},function(t){t.fillBlock({},a)})});_st(l)._setGooglePlus();return l},function(a){a.fill(l,"renderYayOn:",{html:t},smalltalk.ReactiveWidget)})},messageSends:["id:","div","onClick:","slideUp","asJQuery","with:","src:","img","class:","a","target:","href:","h2","span:","p","p:","strong:","input","at:put:","onKeyUp:","onYayKeyUp:","yourself","label","onOkYay","setGooglePlus"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"sendEmail",fn:function(){var t=this;var l,a;function e(){return smalltalk.RProspect||(typeof RProspect=="undefined"?nil:RProspect)}return smalltalk.withContext(function(s){var n,o,r;l=_st(_st("#yayEmail")._asJQuery())._val();n=_st(l)._isEmpty();if(smalltalk.assert(n)){return nil}o=_st(e())._new();_st(o)._email_(l);r=_st(o)._yourself();a=r;_st(jQuery)._ajax_(smalltalk.HashedCollection._fromPairs_([_st("url").__minus_gt("api/prospect"),_st("type").__minus_gt("POST"),_st("cache").__minus_gt(false),_st("data").__minus_gt(_st(a)._asJSONString()),_st("success").__minus_gt(function(t){return smalltalk.withContext(function(t){},function(l){l.fillBlock({x:t},s)})}),_st("fail").__minus_gt(function(t){return smalltalk.withContext(function(t){},function(l){l.fillBlock({x:t},s)})}),_st("error").__minus_gt(function(t){return smalltalk.withContext(function(t){},function(l){l.fillBlock({x:t},s)})})]));return t},function(e){e.fill(t,"sendEmail",{email:l,prospect:a},smalltalk.ReactiveWidget)})},messageSends:["val","asJQuery","ifTrue:","isEmpty","email:","new","yourself","ajax:","->","asJSONString"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"sendFeedback",fn:function(){var t=this;var l,a,e;function s(){return smalltalk.RProspect||(typeof RProspect=="undefined"?nil:RProspect)}return smalltalk.withContext(function(n){var o,r,i;l=_st(_st(_st("#feedback")._asJQuery())._find_("textarea"))._val();o=_st(l)._isEmpty();if(smalltalk.assert(o)){return nil}a=_st(_st("#nayEmail")._asJQuery())._val();r=_st(s())._new();_st(r)._feedback_(l);_st(r)._email_(a);i=_st(r)._yourself();e=i;_st(jQuery)._ajax_(smalltalk.HashedCollection._fromPairs_([_st("url").__minus_gt("api/prospect"),_st("type").__minus_gt("POST"),_st("cache").__minus_gt(false),_st("data").__minus_gt(_st(e)._asJSONString()),_st("success").__minus_gt(function(t){return smalltalk.withContext(function(t){},function(l){l.fillBlock({x:t},n)})}),_st("fail").__minus_gt(function(t){return smalltalk.withContext(function(t){},function(l){l.fillBlock({x:t},n)})}),_st("error").__minus_gt(function(t){return smalltalk.withContext(function(t){},function(l){l.fillBlock({x:t},n)})})]));return t},function(s){s.fill(t,"sendFeedback",{feedback:l,email:a,prospect:e},smalltalk.ReactiveWidget)})},messageSends:["val","find:","asJQuery","ifTrue:","isEmpty","feedback:","new","email:","yourself","ajax:","->","asJSONString"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"session",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@session"];if(($receiver=a)==nil||$receiver==undefined){e=_st(t)._initializeSession()}else{e=a}return e},function(l){l.fill(t,"session",{},smalltalk.ReactiveWidget)})},messageSends:["ifNil:","initializeSession"]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"setFacebookPageLike",fn:function(){var t=this;return smalltalk.withContext(function(l){(function(t,l,a){var e,s=t.getElementsByTagName(l)[0];if(t.getElementById(a)){return}e=t.createElement(l);e.id=a;e.src="//connect.facebook.net/en_US/all.js";s.parentNode.insertBefore(e,s)})(document,"script","facebook-jssdk");return t},function(l){l.fill(t,"setFacebookPageLike",{},smalltalk.ReactiveWidget)})},messageSends:[]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"setGooglePlus",fn:function(){var t=this;return smalltalk.withContext(function(l){(function(){var t=document.createElement("script");t.type="text/javascript";t.async=true;t.src="https://apis.google.com/js/plusone.js";var l=document.getElementsByTagName("script")[0];l.parentNode.insertBefore(t,l)})();return t},function(l){l.fill(t,"setGooglePlus",{},smalltalk.ReactiveWidget)})},messageSends:[]}),smalltalk.ReactiveWidget);smalltalk.addMethod(smalltalk.method({selector:"open",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(t)._new())._open();return a},function(l){l.fill(t,"open",{},smalltalk.ReactiveWidget.klass)})},messageSends:["open","new"]}),smalltalk.ReactiveWidget.klass);smalltalk.addClass("TaskWidget",smalltalk.RWidget,["listItem","view","editor"],"Reactive");smalltalk.addMethod(smalltalk.method({selector:"changedTask:",fn:function(t){var l=this;function a(){return smalltalk.RChangeTask||(typeof RChangeTask=="undefined"?nil:RChangeTask)}return smalltalk.withContext(function(e){_st(l)._updateTask_(t);
_st(l)._model_(t);_st(_st(a())._for_(l["@model"]))._localSave();return l},function(a){a.fill(l,"changedTask:",{aTask:t},smalltalk.TaskWidget)})},messageSends:["updateTask:","model:","localSave","for:"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"editor",fn:function(){var t=this;return smalltalk.withContext(function(l){var a,e;a=t["@editor"];if(($receiver=a)==nil||$receiver==undefined){e=_st(t)._initializeEditor()}else{e=a}return e},function(l){l.fill(t,"editor",{},smalltalk.TaskWidget)})},messageSends:["ifNil:","initializeEditor"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"hide",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st(t["@listItem"])._asJQuery())._hide();return t},function(l){l.fill(t,"hide",{},smalltalk.TaskWidget)})},messageSends:["hide","asJQuery"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"initializeEditor",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;t["@editor"]=_st(t)._makeEditor();a=t["@editor"];return a},function(l){l.fill(t,"initializeEditor",{},smalltalk.TaskWidget)})},messageSends:["makeEditor"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"isCompleted",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(_st(_st(t["@listItem"])._asJQuery())._find_("input"))._is_(":checked");return a},function(l){l.fill(t,"isCompleted",{},smalltalk.TaskWidget)})},messageSends:["is:","find:","asJQuery"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"makeEditor",fn:function(){var t=this;var l;function a(){return smalltalk.HTMLCanvas||(typeof HTMLCanvas=="undefined"?nil:HTMLCanvas)}return smalltalk.withContext(function(e){var s;l=_st(a())._onJQuery_(_st(t["@listItem"])._asJQuery());s=_st(t)._renderEditorOn_(l);return s},function(a){a.fill(t,"makeEditor",{html:l},smalltalk.TaskWidget)})},messageSends:["onJQuery:","asJQuery","renderEditorOn:"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"onCancel",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st(_st(t)._editor())._asJQuery())._hide();_st(_st(t["@view"])._asJQuery())._show();return t},function(l){l.fill(t,"onCancel",{},smalltalk.TaskWidget)})},messageSends:["hide","asJQuery","editor","show"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"onCompletionCheckboxClicked:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(t)._stopPropagation();_st(l)._setCompletion();return l},function(a){a.fill(l,"onCompletionCheckboxClicked:",{anEvent:t},smalltalk.TaskWidget)})},messageSends:["stopPropagation","setCompletion"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"onCompletionClicked:",fn:function(t){var l=this;return smalltalk.withContext(function(t){var a;a=_st(_st(_st(l["@listItem"])._asJQuery())._find_("input"))._is_(":checked");if(smalltalk.assert(a)){_st(_st(_st(l["@listItem"])._asJQuery())._find_("input"))._prop_put_("checked",false)}else{_st(_st(_st(l["@listItem"])._asJQuery())._find_("input"))._attr_put_("checked",true)}_st(l)._setCompletion();return l},function(a){a.fill(l,"onCompletionClicked:",{anEvent:t},smalltalk.TaskWidget)})},messageSends:["ifTrue:ifFalse:","prop:put:","find:","asJQuery","attr:put:","is:","setCompletion"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"onDescriptionClicked",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st(t["@view"])._asJQuery())._hide();_st(_st(_st(_st(t)._editor())._asJQuery())._find_("input"))._val_(_st(t["@model"])._description());_st(_st(_st(t)._editor())._asJQuery())._show();_st(_st(_st(_st(t)._editor())._asJQuery())._find_("input"))._focus();return t},function(l){l.fill(t,"onDescriptionClicked",{},smalltalk.TaskWidget)})},messageSends:["hide","asJQuery","val:","description","find:","editor","show","focus"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"onDone",fn:function(){var t=this;function l(){return smalltalk.RChangeTask||(typeof RChangeTask=="undefined"?nil:RChangeTask)}return smalltalk.withContext(function(a){_st(_st(_st(t)._editor())._asJQuery())._hide();_st(t["@model"])._description_(_st(_st(_st(_st(t)._editor())._asJQuery())._find_("input"))._val());_st(_st(l())._for_(t["@model"]))._execute();_st(_st(_st(t["@view"])._asJQuery())._find_(".taskDescription"))._text_(_st(t["@model"])._description());_st(_st(t["@view"])._asJQuery())._show();_st(_st(t["@view"])._asJQuery())._effect_("highlight");return t},function(l){l.fill(t,"onDone",{},smalltalk.TaskWidget)})},messageSends:["hide","asJQuery","editor","description:","val","find:","execute","for:","text:","description","show","effect:"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"onKeyUp:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;e=_st(_st(t)._keyCode()).__eq(13);if(smalltalk.assert(e)){_st(l)._onDone()}s=_st(_st(t)._keyCode()).__eq(27);if(smalltalk.assert(s)){_st(l)._onCancel()}return l},function(a){a.fill(l,"onKeyUp:",{e:t},smalltalk.TaskWidget)})},messageSends:["ifTrue:","onDone","=","keyCode","onCancel"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"onRemove:",fn:function(t){var l=this;function a(){return smalltalk.RRemoveTask||(typeof RRemoveTask=="undefined"?nil:RRemoveTask)}function e(){return smalltalk.RTaskRemoved||(typeof RTaskRemoved=="undefined"?nil:RTaskRemoved)}return smalltalk.withContext(function(s){_st(t)._stopPropagation();_st(l)._remove();_st(_st(a())._for_list_(l["@model"],_st(_st(_st(window)._app())._list())._model()))._execute();_st(l)._announce_(_st(e())._for_(l));return l},function(a){a.fill(l,"onRemove:",{anEvent:t},smalltalk.TaskWidget)})},messageSends:["stopPropagation","remove","execute","for:list:","model","list","app","announce:","for:"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"remove",fn:function(){var t=this;function l(){return smalltalk.RStorage||(typeof RStorage=="undefined"?nil:RStorage)}return smalltalk.withContext(function(a){_st(_st(t["@listItem"])._asJQuery())._remove();_st(l())._delete_(t["@model"]);return t},function(l){l.fill(t,"remove",{},smalltalk.TaskWidget)})},messageSends:["remove","asJQuery","delete:"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"renderCompletionOldOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n,o;e=_st(t)._div();_st(e)._class_("completionWrapper");o=_st(e)._with_(function(){return smalltalk.withContext(function(a){s=_st(t)._input();_st(s)._class_("completion");_st(s)._type_("checkbox");n=_st(s)._at_put_("name",_st(l["@model"])._id());return n},function(t){t.fillBlock({},a)})});return l},function(a){a.fill(l,"renderCompletionOldOn:",{html:t},smalltalk.TaskWidget)})},messageSends:["class:","div","with:","input","type:","at:put:","id"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"renderCompletionOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n,o;e=_st(t)._div();_st(e)._class_("completionWrapper");_st(e)._onClick_(function(t){return smalltalk.withContext(function(a){return _st(l)._onCompletionClicked_(t)},function(l){l.fillBlock({e:t},a)})});o=_st(e)._with_(function(){return smalltalk.withContext(function(e){s=_st(t)._input();_st(s)._onClick_(function(t){return smalltalk.withContext(function(a){return _st(l)._onCompletionCheckboxClicked_(t)},function(l){l.fillBlock({e:t},a)})});_st(s)._class_("completion");_st(s)._type_("checkbox");n=_st(s)._at_put_("name",_st(l["@model"])._id());return n},function(t){t.fillBlock({},a)})});return l},function(a){a.fill(l,"renderCompletionOn:",{html:t},smalltalk.TaskWidget)})},messageSends:["class:","div","onClick:","onCompletionClicked:","with:","onCompletionCheckboxClicked:","input","type:","at:put:","id"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"renderCompletionTableOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n,o;e=_st(t)._table();_st(e)._class_("completion");o=_st(e)._with_(function(){return smalltalk.withContext(function(e){return _st(_st(t)._tr())._with_(function(){return smalltalk.withContext(function(e){return _st(_st(t)._td())._with_(function(){return smalltalk.withContext(function(a){s=_st(t)._input();_st(s)._type_("checkbox");n=_st(s)._at_put_("name",_st(l["@model"])._id());return n},function(t){t.fillBlock({},a)})})},function(t){t.fillBlock({},a)})})},function(t){t.fillBlock({},a)})});return l},function(a){a.fill(l,"renderCompletionTableOn:",{html:t},smalltalk.TaskWidget)})},messageSends:["class:","table","with:","type:","input","at:put:","id","td","tr"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"renderCompletionWrappedOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n,o;e=_st(t)._div();_st(e)._class_("completionWrapper");o=_st(e)._with_(function(){return smalltalk.withContext(function(a){s=_st(t)._input();_st(s)._class_("completion");_st(s)._type_("checkbox");n=_st(s)._at_put_("name",_st(l["@model"])._id());return n},function(t){t.fillBlock({},a)})});return l},function(a){a.fill(l,"renderCompletionWrappedOn:",{html:t},smalltalk.TaskWidget)})},messageSends:["class:","div","with:","input","type:","at:put:","id"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"renderEditorOn:",fn:function(t){var l=this;var a;return smalltalk.withContext(function(e){var s,n,o,r,i,m,u;s=_st(t)._div();_st(s)._class_("taskEditorWrapper");m=_st(s)._with_(function(){return smalltalk.withContext(function(a){n=_st(t)._div();_st(n)._class_("taskEditor");i=_st(n)._with_(function(){return smalltalk.withContext(function(a){o=_st(t)._input();_st(o)._class_("taskDescription");_st(o)._onKeyUp_(function(t){return smalltalk.withContext(function(a){return _st(l)._onKeyUp_(t)},function(l){l.fillBlock({e:t},e)})});r=_st(o)._with_(_st(l["@model"])._description());return r},function(t){t.fillBlock({},e)})});return i},function(t){t.fillBlock({},e)})});a=m;u=a;return u},function(e){e.fill(l,"renderEditorOn:",{html:t,container:a},smalltalk.TaskWidget)})},messageSends:["class:","div","with:","input","onKeyUp:","description"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"renderOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s;e=_st(t)._li();_st(e)._id_(_st(l["@model"])._id());_st(e)._class_("task");s=_st(e)._with_(function(){return smalltalk.withContext(function(a){_st(l)._renderCompletionOn_(t);return _st(l)._renderViewOn_(t)},function(t){t.fillBlock({},a)})});l["@listItem"]=s;_st(l)._updateTask_(l["@model"]);return l},function(a){a.fill(l,"renderOn:",{html:t},smalltalk.TaskWidget)})},messageSends:["id:","id","li","class:","with:","renderCompletionOn:","renderViewOn:","updateTask:"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"renderViewOn:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e,s,n,o,r,i,m,u;e=_st(t)._div();_st(e)._class_("taskViewWrapper");u=_st(e)._with_(function(){return smalltalk.withContext(function(e){s=_st(t)._div();_st(s)._class_("taskView");_st(s)._onClick_(function(){return smalltalk.withContext(function(t){return _st(l)._onDescriptionClicked()},function(t){t.fillBlock({},a)})});m=_st(s)._with_(function(){return smalltalk.withContext(function(e){n=_st(t)._span();_st(n)._class_("taskDescription");o=_st(n)._with_(_st(l["@model"])._description());o;r=_st(t)._img();_st(r)._class_("delete");_st(r)._onClick_(function(t){return smalltalk.withContext(function(a){return _st(l)._onRemove_(t)},function(l){l.fillBlock({e:t},a)})});i=_st(r)._src_("static/img/delete.png");return i},function(t){t.fillBlock({},a)})});return m},function(t){t.fillBlock({},a)})});l["@view"]=u;return l},function(a){a.fill(l,"renderViewOn:",{html:t},smalltalk.TaskWidget)})},messageSends:["class:","div","with:","onClick:","onDescriptionClicked","span","description","img","onRemove:","src:"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"setCompletion",fn:function(){var t=this;function l(){return smalltalk.RChangeTask||(typeof RChangeTask=="undefined"?nil:RChangeTask)}function a(){return smalltalk.RTaskChanged||(typeof RTaskChanged=="undefined"?nil:RTaskChanged)}return smalltalk.withContext(function(e){var s;s=_st(t)._isCompleted();if(smalltalk.assert(s)){_st(_st(_st(t["@listItem"])._asJQuery())._find_("span.taskDescription"))._addClass_("completed")}else{_st(_st(_st(t["@listItem"])._asJQuery())._find_("span.taskDescription"))._removeClass_("completed")}_st(t["@model"])._isCompleted_(_st(t)._isCompleted());_st(_st(l())._for_(t["@model"]))._execute();_st(t)._announce_(_st(a())._for_(t));return t},function(l){l.fill(t,"setCompletion",{},smalltalk.TaskWidget)})},messageSends:["ifTrue:ifFalse:","addClass:","find:","asJQuery","removeClass:","isCompleted","isCompleted:","execute","for:","announce:"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"show",fn:function(){var t=this;return smalltalk.withContext(function(l){_st(_st(t["@listItem"])._asJQuery())._show();return t},function(l){l.fill(t,"show",{},smalltalk.TaskWidget)})},messageSends:["show","asJQuery"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"showIfDone",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._isCompleted();if(smalltalk.assert(a)){_st(t)._show()}else{_st(t)._hide()}return t},function(l){l.fill(t,"showIfDone",{},smalltalk.TaskWidget)})},messageSends:["ifTrue:ifFalse:","show","hide","isCompleted"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"showIfToDo",fn:function(){var t=this;return smalltalk.withContext(function(l){var a;a=_st(t)._isCompleted();if(smalltalk.assert(a)){_st(t)._hide()}else{_st(t)._show()}return t},function(l){l.fill(t,"showIfToDo",{},smalltalk.TaskWidget)})},messageSends:["ifTrue:ifFalse:","hide","show","isCompleted"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"updateTask:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l)._updateTaskDescription_(t);_st(l)._updateTaskCompletion_(t);return l},function(a){a.fill(l,"updateTask:",{aTask:t},smalltalk.TaskWidget)})},messageSends:["updateTaskDescription:","updateTaskCompletion:"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"updateTaskCompletion:",fn:function(t){var l=this;return smalltalk.withContext(function(a){var e;_st(_st(_st(l["@listItem"])._asJQuery())._find_("input"))._attr_put_("checked",_st(t)._isCompleted());e=_st(t)._isCompleted();if(smalltalk.assert(e)){_st(_st(_st(l["@listItem"])._asJQuery())._find_("span.taskDescription"))._addClass_("completed")}else{_st(_st(_st(l["@listItem"])._asJQuery())._find_("span.taskDescription"))._removeClass_("completed")}return l},function(a){a.fill(l,"updateTaskCompletion:",{aTask:t},smalltalk.TaskWidget)})},messageSends:["attr:put:","isCompleted","find:","asJQuery","ifTrue:ifFalse:","addClass:","removeClass:"]}),smalltalk.TaskWidget);smalltalk.addMethod(smalltalk.method({selector:"updateTaskDescription:",fn:function(t){var l=this;return smalltalk.withContext(function(a){_st(l["@model"])._description_(_st(t)._description());_st(_st(l["@view"])._asJQuery())._show();_st(_st(l["@view"])._asJQuery())._effect_("highlight");_st(_st(_st(l["@view"])._asJQuery())._find_(".taskDescription"))._text_(_st(l["@model"])._description());return l},function(a){a.fill(l,"updateTaskDescription:",{aTask:t},smalltalk.TaskWidget)})},messageSends:["description:","description","show","asJQuery","effect:","text:","find:"]}),smalltalk.TaskWidget);(function(){var t=typeof amber!=="undefined"&&typeof amber.load==="function";function l(){smalltalk.initialize();smalltalk.ReactiveWidget._open();if(t&&amber.smalltalkReady){amber.smalltalkReady()}}if(t){setTimeout(l,0)}else{l()}})();